{"ast":null,"code":"import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport React, { PureComponent, Component } from 'react';\nimport { compose, createStore as createStore$1, applyMiddleware, bindActionCreators } from 'redux';\nimport invariant from 'tiny-invariant';\nimport PropTypes from 'prop-types';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport { connect } from 'react-redux';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\nvar origin = {\n  x: 0,\n  y: 0\n};\n\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\n\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\n\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\n\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\n\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\n\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\n\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\n\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n};\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\n\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\n\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n};\n\nvar scrollDroppable = function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n};\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\n\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\n\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar whatIsDraggedOver = function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n};\n\nfunction values(map) {\n  return _Object$values(map);\n}\n\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n};\n\nvar isPositionInFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n};\n\nvar getDroppableOver = function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n};\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar withDroppableScroll = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n};\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isUserMovingForward = function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n};\n\nvar didStartDisplaced = function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n};\n\nvar getCombinedItemDisplacement = function (_ref) {\n  var displaced = _ref.displaced,\n      onLift = _ref.onLift,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n};\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displaceBy = _ref.displaceBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      destination = _ref2.destination,\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n      userDirection = _ref2.userDirection,\n      onLift = _ref2.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n};\n\nvar isPartiallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n};\n\nvar isTotallyVisibleThroughFrame = function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n};\n\nvar isTotallyVisibleThroughFrameOnAxis = function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n};\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\n\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: onLift.displacedBy.point.x,\n    bottom: 0,\n    left: 0\n  };\n  return getRect(expand(marginBox, expandBy));\n};\n\nvar getDisplacement = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n};\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getReorderImpact = function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n\n      return targetCenter < start + displacement;\n    }\n\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar getDragImpact = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n};\n\nvar getHomeLocation = function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n};\n\nvar getHomeOnLift = function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n};\n\nvar getDragPositions = function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n};\n\nvar offsetDraggable = function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n};\n\nvar adjustExistingForAdditionsAndRemovals = function (_ref) {\n  var existing = _ref.existing,\n      droppables = _ref.droppables,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n\n  var map = _extends({}, existing, shifted);\n\n  return map;\n};\n\nvar adjustAdditionsForScrollChanges = function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n};\n\nvar adjustAdditionsForCollapsedHome = function (_ref) {\n  var additions = _ref.additions,\n      dragging = _ref.dragging,\n      home = _ref.home,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n};\n\nvar updateDraggables = function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n      criticalId = _ref.criticalId,\n      unmodifiedExisting = _ref.existing,\n      unmodifiedAdditions = _ref.additions,\n      removals = _ref.removals,\n      viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n\n  var map = _extends({}, existing, toDraggableMap(additions));\n\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n};\n\nvar getMaxScroll = function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n};\n\nvar getDroppableDimension = function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n};\n\nvar isHomeOf = function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n};\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n};\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar updateDroppables = function (_ref) {\n  var modified = _ref.modified,\n      existing = _ref.existing,\n      viewport = _ref.viewport;\n\n  if (!modified.length) {\n    return existing;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n\n  return result;\n};\n\nvar withNoAnimatedDisplacement = function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n};\n\nvar patchDroppableMap = function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n};\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n};\n\nvar timingsKey = 'Processing dynamic changes';\n\nvar publishWhileDragging = function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var _getHomeOnLift = getHomeOnLift({\n    draggable: updated,\n    home: dimensions.droppables[critical.droppable.id],\n    draggables: dimensions.draggables,\n    viewport: state.viewport\n  }),\n      homeImpact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n};\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n};\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\n\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination,\n      location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar fromCombine = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge,\n      onLift = _ref.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplaced = Boolean(movement.map[combineId]);\n\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n};\n\nvar moveToNextIndex = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      onLift = _ref.onLift;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n\n    return null;\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n};\n\nvar whenCombining = function (_ref) {\n  var combine = _ref.combine,\n      onLift = _ref.onLift,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n};\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\n\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      displacedBy = movement.displacedBy;\n\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n};\n\nvar withDroppableDisplacement = function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n};\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenterFromImpact = function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n};\n\nvar scrollViewport = function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n};\n\nvar withNewDisplacement = function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n};\n\nvar speculativelyIncrease = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange,\n      onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar withViewportDisplacement = function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n};\n\nvar getClientFromPageBorderBoxCenter = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n};\n\nvar isTotallyVisibleInNewLocation = function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n};\n\nvar moveToNextPlace = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      onLift = _ref.onLift;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n};\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n};\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\n\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n};\n\nvar moveToNewDroppable = function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n\n    return targetIndex + 1;\n  }();\n\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n};\n\nvar moveCrossAxis = function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n};\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n};\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n};\n\nvar update = function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n};\n\nvar recompute = function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n};\n\nvar getClientBorderBoxCenter = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n};\n\nvar refreshSnap = function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n};\n\nvar patchDimensionMap = function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n};\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\n\nvar reducer = function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return idle;\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getHomeOnLift = getHomeOnLift({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getHomeOnLift.impact,\n        onLift = _getHomeOnLift.onLift;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n        _completed = _action$payload6.completed,\n        shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n\n  return state;\n};\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\n\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\n\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\n\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\n\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\n\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\n\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\n\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\n\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\n\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\n\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\n\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\n\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\n\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\n\nvar clean = function clean() {\n  return {\n    type: 'CLEAN',\n    payload: null\n  };\n};\n\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\n\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\n\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\n\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\n\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = function (getMarshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var marshal = getMarshal();\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n};\n\nvar style = function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\n\nvar getDropDuration = function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n};\n\nvar getNewHomeClientOffset = function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n\n  return offset;\n};\n\nvar getDropImpact = function (_ref) {\n  var reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      onLiftImpact = _ref.onLiftImpact,\n      onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n};\n\nvar drop$1 = function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        onLift: state.onLift,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n};\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean$1 = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean$1(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean$1(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\n\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\n\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nvar getExpiringAnnounce = function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n};\n\nvar getAsyncMarshal = function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n};\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\n\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\n\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n};\n\nvar responders = function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n};\n\nvar dropAnimationFinish = function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n};\n\nvar dimensionMarshalStopper = function (getMarshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          var marshal = getMarshal();\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n};\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = function (getScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          getScroller().stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          getScroller().cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          getScroller().start(state);\n          return;\n        }\n\n        next(action);\n        getScroller().scroll(store.getState());\n      };\n    };\n  };\n};\n\nvar pendingDrop = function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n};\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\n\nvar createStore = function (_ref) {\n  var getDimensionMarshal = _ref.getDimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      getScroller = _ref.getScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(getDimensionMarshal), lift$1(getDimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(getScroller), responders(getResponders, announce))));\n};\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\n\nvar createPublisher = function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n};\n\nvar getWindowScroll = function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar getDocumentElement = function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n};\n\nvar getMaxWindowScroll = function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n};\n\nvar getViewport = function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n};\n\nvar getInitialPublish = function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n};\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(previous, descriptor, getDimension) {\n    !entries.draggables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.draggables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppable = function updateDroppable(previous, descriptor, droppableCallbacks) {\n    !entries.droppables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update droppable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.droppables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    entries.droppables[descriptor.id] = entry;\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'You are not able to update the id or type of a droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    updateDroppable: updateDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n};\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\n\nvar getStyles$1 = function (styleContext) {\n  var getSelector = makeGetSelector(styleContext);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n};\n\nvar count = 0;\n\nvar resetStyleContext = function resetStyleContext() {\n  count = 0;\n};\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nvar createStyleMarshal = function () {\n  var context = \"\" + count++;\n  var styles = getStyles$1(context);\n  var always = null;\n  var dynamic = null;\n  var setStyle = memoizeOne(function (el, proposed) {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set style of style tag if not mounted') : invariant(false) : void 0;\n    el.innerHTML = proposed;\n  });\n\n  var mount = function mount() {\n    !(!always && !dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Style marshal already mounted') : invariant(false) : void 0;\n    always = createStyleEl();\n    dynamic = createStyleEl();\n    always.setAttribute(prefix + \"-always\", context);\n    dynamic.setAttribute(prefix + \"-dynamic\", context);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setStyle(always, styles.always);\n    setStyle(dynamic, styles.resting);\n  };\n\n  var dragging = function dragging() {\n    return setStyle(dynamic, styles.dragging);\n  };\n\n  var dropping = function dropping(reason) {\n    if (reason === 'DROP') {\n      setStyle(dynamic, styles.dropAnimating);\n      return;\n    }\n\n    setStyle(dynamic, styles.userCancel);\n  };\n\n  var resting = function resting() {\n    return setStyle(dynamic, styles.resting);\n  };\n\n  var unmount = function unmount() {\n    !(always && dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount style marshal as it is already unmounted') : invariant(false) : void 0;\n    getHead().removeChild(always);\n    getHead().removeChild(dynamic);\n    always = null;\n    dynamic = null;\n  };\n\n  var marshal = {\n    dragging: dragging,\n    dropping: dropping,\n    resting: resting,\n    styleContext: context,\n    mount: mount,\n    unmount: unmount\n  };\n  return marshal;\n};\n\nvar canStartDrag = function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n};\n\nvar scrollWindow = function (change) {\n  window.scrollBy(change.x, change.y);\n};\n\nvar getBodyElement = function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n};\n\nvar count$1 = 0;\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\n\nvar createAnnouncer = function () {\n  var id = \"react-beautiful-dnd-announcement-\" + count$1++;\n  var el = null;\n\n  var announce = function announce(message) {\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  };\n\n  var mount = function mount() {\n    !!el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcer already mounted') : invariant(false) : void 0;\n    el = document.createElement('div');\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n  };\n\n  var unmount = function unmount() {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Will not unmount announcer as it is already unmounted') : invariant(false) : void 0;\n    getBodyElement().removeChild(el);\n    el = null;\n  };\n\n  var announcer = {\n    announce: announce,\n    id: id,\n    mount: mount,\n    unmount: unmount\n  };\n  return announcer;\n};\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n};\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\n\nvar getPercentage = function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};\n\nvar minScroll = 1;\n\nvar getValueFromDistance = function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n};\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\n\nvar dampenValueByTime = function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};\n\nvar getValue = function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\n\nvar getScrollOnAxis = function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n};\n\nvar adjustForSizeLimits = function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n};\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\n\nvar getScroll = function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n};\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\n\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\n\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\n\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\n\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n};\n\nvar getDroppableScrollChange = function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n};\n\nvar scroll$1 = function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n};\n\nvar createFluidScroller = function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n};\n\nvar createJumpScroller = function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n};\n\nvar createAutoScroller = function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n};\n\nvar prefix$1 = function prefix(key) {\n  return \"private-react-beautiful-dnd-key-do-not-use-\" + key;\n};\n\nvar storeKey = prefix$1('store');\nvar droppableIdKey = prefix$1('droppable-id');\nvar droppableTypeKey = prefix$1('droppable-type');\nvar dimensionMarshalKey = prefix$1('dimension-marshal');\nvar styleKey = prefix$1('style');\nvar canLiftKey = prefix$1('can-lift');\nvar isMovementAllowedKey = prefix$1('is-movement-allowed');\nvar peerDependencies = {\n  react: \"^16.3.1\"\n};\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n};\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\n\nvar checkDoctype = function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n};\n\nfunction printFatalError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n\n  console.error('raw', error);\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n\n      _this.props.onError();\n\n      if (error.message.indexOf('Invariant failed') !== -1) {\n        _this.setState({});\n\n        return;\n      }\n\n      throw error;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar _DragDropContext$chil;\n\nvar resetServerContext = function resetServerContext() {\n  resetStyleContext();\n};\n\nvar DragDropContext = function (_React$Component) {\n  _inheritsLoose(DragDropContext, _React$Component);\n\n  function DragDropContext(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.store = void 0;\n    _this.dimensionMarshal = void 0;\n    _this.styleMarshal = void 0;\n    _this.autoScroller = void 0;\n    _this.announcer = void 0;\n    _this.unsubscribe = void 0;\n\n    _this.canLift = function (id) {\n      return canStartDrag(_this.store.getState(), id);\n    };\n\n    _this.getIsMovementAllowed = function () {\n      return isMovementAllowed(_this.store.getState());\n    };\n\n    _this.tryResetStore = function () {\n      var state = _this.store.getState();\n\n      if (state.phase !== 'IDLE') {\n        _this.store.dispatch(clean());\n      }\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      !(typeof props.onDragEnd === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DragDropContext requires an onDragEnd function to perform reordering logic') : invariant(false) : void 0;\n    }\n\n    _this.announcer = createAnnouncer();\n    _this.styleMarshal = createStyleMarshal();\n    _this.store = createStore({\n      getDimensionMarshal: function getDimensionMarshal() {\n        return _this.dimensionMarshal;\n      },\n      styleMarshal: _this.styleMarshal,\n      getResponders: function getResponders() {\n        return {\n          onBeforeDragStart: _this.props.onBeforeDragStart,\n          onDragStart: _this.props.onDragStart,\n          onDragEnd: _this.props.onDragEnd,\n          onDragUpdate: _this.props.onDragUpdate\n        };\n      },\n      announce: _this.announcer.announce,\n      getScroller: function getScroller() {\n        return _this.autoScroller;\n      }\n    });\n    var callbacks = bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, _this.store.dispatch);\n    _this.dimensionMarshal = createDimensionMarshal(callbacks);\n    _this.autoScroller = createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: _this.dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, _this.store.dispatch)));\n    return _this;\n  }\n\n  var _proto = DragDropContext.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _ref;\n\n    return _ref = {}, _ref[storeKey] = this.store, _ref[dimensionMarshalKey] = this.dimensionMarshal, _ref[styleKey] = this.styleMarshal.styleContext, _ref[canLiftKey] = this.canLift, _ref[isMovementAllowedKey] = this.getIsMovementAllowed, _ref;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.styleMarshal.mount();\n    this.announcer.mount();\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkReactVersion(peerDependencies.react, React.version);\n      checkDoctype(document);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.tryResetStore();\n    this.styleMarshal.unmount();\n    this.announcer.unmount();\n  };\n\n  _proto.render = function render() {\n    return React.createElement(ErrorBoundary, {\n      onError: this.tryResetStore\n    }, this.props.children);\n  };\n\n  return DragDropContext;\n}(React.Component);\n\nDragDropContext.childContextTypes = (_DragDropContext$chil = {}, _DragDropContext$chil[storeKey] = PropTypes.shape({\n  dispatch: PropTypes.func.isRequired,\n  subscribe: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n}).isRequired, _DragDropContext$chil[dimensionMarshalKey] = PropTypes.object.isRequired, _DragDropContext$chil[styleKey] = PropTypes.string.isRequired, _DragDropContext$chil[canLiftKey] = PropTypes.func.isRequired, _DragDropContext$chil[isMovementAllowedKey] = PropTypes.func.isRequired, _DragDropContext$chil);\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n};\n\nvar getScroll$1 = function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n};\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n};\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n};\n\nvar _DroppableDimensionPu;\n\nvar getClosestScrollable$1 = function getClosestScrollable(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function getListenerOptions(options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nvar withoutPlaceholder = function withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n};\n\nvar DroppableDimensionPublisher = function (_React$Component) {\n  _inheritsLoose(DroppableDimensionPublisher, _React$Component);\n\n  function DroppableDimensionPublisher(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.dragging = void 0;\n    _this.callbacks = void 0;\n    _this.publishedDescriptor = null;\n\n    _this.getClosestScroll = function () {\n      var dragging = _this.dragging;\n\n      if (!dragging || !dragging.env.closestScrollable) {\n        return origin;\n      }\n\n      return getScroll$1(dragging.env.closestScrollable);\n    };\n\n    _this.memoizedUpdateScroll = memoizeOne(function (x, y) {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update scroll on unpublished droppable') : invariant(false) : void 0;\n      var newScroll = {\n        x: x,\n        y: y\n      };\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.updateDroppableScroll(_this.publishedDescriptor.id, newScroll);\n    });\n\n    _this.updateScroll = function () {\n      var scroll = _this.getClosestScroll();\n\n      _this.memoizedUpdateScroll(scroll.x, scroll.y);\n    };\n\n    _this.scheduleScrollUpdate = rafSchd(_this.updateScroll);\n\n    _this.onClosestScroll = function () {\n      var dragging = _this.dragging;\n      var closest = getClosestScrollable$1(_this.dragging);\n      !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n      var options = dragging.scrollOptions;\n\n      if (options.shouldPublishImmediately) {\n        _this.updateScroll();\n\n        return;\n      }\n\n      _this.scheduleScrollUpdate();\n    };\n\n    _this.scroll = function (change) {\n      var closest = getClosestScrollable$1(_this.dragging);\n      !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n      closest.scrollTop += change.y;\n      closest.scrollLeft += change.x;\n    };\n\n    _this.dragStopped = function () {\n      var dragging = _this.dragging;\n      !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n      var closest = getClosestScrollable$1(dragging);\n      _this.dragging = null;\n\n      if (!closest) {\n        return;\n      }\n\n      _this.scheduleScrollUpdate.cancel();\n\n      closest.removeEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n    };\n\n    _this.getMemoizedDescriptor = memoizeOne(function (id, type) {\n      return {\n        id: id,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDroppable(descriptor, _this.callbacks);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (_this.publishedDescriptor === descriptor) {\n        return;\n      }\n\n      marshal.updateDroppable(_this.publishedDescriptor, descriptor, _this.callbacks);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDroppable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.recollect = function (options) {\n      var dragging = _this.dragging;\n      var closest = getClosestScrollable$1(dragging);\n      !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n\n      var execute = function execute() {\n        return getDimension({\n          ref: dragging.ref,\n          descriptor: dragging.descriptor,\n          env: dragging.env,\n          windowScroll: origin,\n          direction: _this.props.direction,\n          isDropDisabled: _this.props.isDropDisabled,\n          isCombineEnabled: _this.props.isCombineEnabled,\n          shouldClipSubject: !_this.props.ignoreContainerClipping\n        });\n      };\n\n      if (!options.withoutPlaceholder) {\n        return execute();\n      }\n\n      return withoutPlaceholder(_this.props.getPlaceholderRef(), execute);\n    };\n\n    _this.getDimensionAndWatchScroll = function (windowScroll, options) {\n      !!_this.dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n      var descriptor = _this.publishedDescriptor;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished droppable') : invariant(false) : void 0;\n\n      var ref = _this.props.getDroppableRef();\n\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n      var env = getEnv(ref);\n      var dragging = {\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        scrollOptions: options\n      };\n      _this.dragging = dragging;\n      var dimension = getDimension({\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        windowScroll: windowScroll,\n        direction: _this.props.direction,\n        isDropDisabled: _this.props.isDropDisabled,\n        isCombineEnabled: _this.props.isCombineEnabled,\n        shouldClipSubject: !_this.props.ignoreContainerClipping\n      });\n\n      if (env.closestScrollable) {\n        env.closestScrollable.addEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n        if (process.env.NODE_ENV !== 'production') {\n          checkForNestedScrollContainers(env.closestScrollable);\n        }\n      }\n\n      return dimension;\n    };\n\n    var callbacks = {\n      getDimensionAndWatchScroll: _this.getDimensionAndWatchScroll,\n      recollect: _this.recollect,\n      dragStopped: _this.dragStopped,\n      scroll: _this.scroll\n    };\n    _this.callbacks = callbacks;\n    return _this;\n  }\n\n  var _proto = DroppableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    this.publish();\n\n    if (!this.dragging) {\n      return;\n    }\n\n    var isDisabledChanged = this.props.isDropDisabled !== prevProps.isDropDisabled;\n    var isCombineChanged = this.props.isCombineEnabled !== prevProps.isCombineEnabled;\n\n    if (!isDisabledChanged && !isCombineChanged) {\n      return;\n    }\n\n    var marshal = this.context[dimensionMarshalKey];\n\n    if (isDisabledChanged) {\n      marshal.updateDroppableIsEnabled(this.props.droppableId, !this.props.isDropDisabled);\n    }\n\n    if (isCombineChanged) {\n      marshal.updateDroppableIsCombineEnabled(this.props.droppableId, this.props.isCombineEnabled);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.dragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('unmounting droppable while a drag is occurring') : void 0;\n      this.dragStopped();\n    }\n\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DroppableDimensionPublisher;\n}(React.Component);\n\nDroppableDimensionPublisher.contextTypes = (_DroppableDimensionPu = {}, _DroppableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DroppableDimensionPu);\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar Placeholder = function (_PureComponent) {\n  _inheritsLoose(Placeholder, _PureComponent);\n\n  function Placeholder() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _PureComponent.call.apply(_PureComponent, [this].concat(args)) || this;\n    _this.mountTimerId = null;\n    _this.state = {\n      isAnimatingOpenOnMount: _this.props.animate === 'open'\n    };\n\n    _this.onTransitionEnd = function (event) {\n      if (event.propertyName !== 'height') {\n        return;\n      }\n\n      _this.props.onTransitionEnd();\n\n      if (_this.props.animate === 'close') {\n        _this.props.onClose();\n      }\n    };\n\n    return _this;\n  }\n\n  Placeholder.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (state.isAnimatingOpenOnMount && props.animate !== 'open') {\n      return {\n        isAnimatingOpenOnMount: false\n      };\n    }\n\n    return state;\n  };\n\n  var _proto = Placeholder.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    if (!this.state.isAnimatingOpenOnMount) {\n      return;\n    }\n\n    this.mountTimerId = setTimeout(function () {\n      _this2.mountTimerId = null;\n\n      if (_this2.state.isAnimatingOpenOnMount) {\n        _this2.setState({\n          isAnimatingOpenOnMount: false\n        });\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (!this.mountTimerId) {\n      return;\n    }\n\n    clearTimeout(this.mountTimerId);\n    this.mountTimerId = null;\n  };\n\n  _proto.getSize = function getSize() {\n    if (this.state.isAnimatingOpenOnMount) {\n      return empty;\n    }\n\n    if (this.props.animate === 'close') {\n      return empty;\n    }\n\n    var placeholder = this.props.placeholder;\n    return {\n      height: placeholder.client.borderBox.height,\n      width: placeholder.client.borderBox.width,\n      margin: placeholder.client.margin\n    };\n  };\n\n  _proto.render = function render() {\n    var placeholder = this.props.placeholder;\n    var size = this.getSize();\n    var display = placeholder.display,\n        tagName = placeholder.tagName;\n    var style = {\n      display: display,\n      boxSizing: 'border-box',\n      width: size.width,\n      height: size.height,\n      marginTop: size.margin.top,\n      marginRight: size.margin.right,\n      marginBottom: size.margin.bottom,\n      marginLeft: size.margin.left,\n      flexShrink: '0',\n      flexGrow: '0',\n      pointerEvents: 'none',\n      transition: transitions.placeholder\n    };\n    return React.createElement(tagName, {\n      style: style,\n      onTransitionEnd: this.onTransitionEnd,\n      ref: this.props.innerRef\n    });\n  };\n\n  return Placeholder;\n}(PureComponent);\n\nvar getWindowFromEl = function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n};\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nvar throwIfRefIsInvalid = function (ref) {\n  !(ref && isHtmlElement(ref)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n};\n\nvar checkOwnProps = function (props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n};\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar _Droppable$contextTyp, _Droppable$childConte;\n\nvar Droppable = function (_React$Component) {\n  _inheritsLoose(Droppable, _React$Component);\n\n  function Droppable(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.styleContext = void 0;\n    _this.ref = null;\n    _this.placeholderRef = null;\n\n    _this.setPlaceholderRef = function (ref) {\n      _this.placeholderRef = ref;\n    };\n\n    _this.getPlaceholderRef = function () {\n      return _this.placeholderRef;\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDroppableRef = function () {\n      return _this.ref;\n    };\n\n    _this.onPlaceholderTransitionEnd = function () {\n      var isMovementAllowed = _this.context[isMovementAllowedKey]();\n\n      if (isMovementAllowed) {\n        _this.props.updateViewportMaxScroll({\n          maxScroll: getMaxWindowScroll()\n        });\n      }\n    };\n\n    _this.styleContext = context[styleKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Droppable.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _value;\n\n    var value = (_value = {}, _value[droppableIdKey] = this.props.droppableId, _value[droppableTypeKey] = this.props.type, _value);\n    return value;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    throwIfRefIsInvalid(this.ref);\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n    this.placeholderRef = null;\n  };\n\n  _proto.warnIfPlaceholderNotMounted = function warnIfPlaceholderNotMounted() {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    if (!this.props.placeholder) {\n      return;\n    }\n\n    if (this.placeholderRef) {\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + this.props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n  };\n\n  _proto.getPlaceholder = function getPlaceholder() {\n    var _this2 = this;\n\n    return React.createElement(AnimateInOut, {\n      on: this.props.placeholder,\n      shouldAnimate: this.props.shouldAnimatePlaceholder\n    }, function (_ref) {\n      var onClose = _ref.onClose,\n          data = _ref.data,\n          animate = _ref.animate;\n      return React.createElement(Placeholder, {\n        placeholder: data,\n        onClose: onClose,\n        innerRef: _this2.setPlaceholderRef,\n        animate: animate,\n        onTransitionEnd: _this2.onPlaceholderTransitionEnd\n      });\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        direction = _this$props.direction,\n        type = _this$props.type,\n        droppableId = _this$props.droppableId,\n        isDropDisabled = _this$props.isDropDisabled,\n        isCombineEnabled = _this$props.isCombineEnabled,\n        ignoreContainerClipping = _this$props.ignoreContainerClipping,\n        snapshot = _this$props.snapshot;\n    var provided = {\n      innerRef: this.setRef,\n      placeholder: this.getPlaceholder(),\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': this.styleContext\n      }\n    };\n    return React.createElement(DroppableDimensionPublisher, {\n      droppableId: droppableId,\n      type: type,\n      direction: direction,\n      ignoreContainerClipping: ignoreContainerClipping,\n      isDropDisabled: isDropDisabled,\n      isCombineEnabled: isCombineEnabled,\n      getDroppableRef: this.getDroppableRef,\n      getPlaceholderRef: this.getPlaceholderRef\n    }, children(provided, snapshot));\n  };\n\n  return Droppable;\n}(React.Component);\n\nDroppable.contextTypes = (_Droppable$contextTyp = {}, _Droppable$contextTyp[styleKey] = PropTypes.string.isRequired, _Droppable$contextTyp[isMovementAllowedKey] = PropTypes.func.isRequired, _Droppable$contextTyp);\nDroppable.childContextTypes = (_Droppable$childConte = {}, _Droppable$childConte[droppableIdKey] = PropTypes.string.isRequired, _Droppable$childConte[droppableTypeKey] = PropTypes.string.isRequired, _Droppable$childConte);\n\nvar isStrictEqual = function (a, b) {\n  return a === b;\n};\n\nvar whatIsDraggedOverFromResult = function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n};\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n\n    if (!isDraggingOver) {\n      return idle;\n    }\n\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n\n      return idle;\n    }\n\n    return idle;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nvar _DraggableDimensionPu;\n\nvar DraggableDimensionPublisher = function (_Component) {\n  _inheritsLoose(DraggableDimensionPublisher, _Component);\n\n  function DraggableDimensionPublisher() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.publishedDescriptor = null;\n    _this.getMemoizedDescriptor = memoizeOne(function (id, index, droppableId, type) {\n      return {\n        id: id,\n        index: index,\n        droppableId: droppableId,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.draggableId, _this.props.index, _this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDraggable(descriptor, _this.getDimension);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (descriptor === _this.publishedDescriptor) {\n        return;\n      }\n\n      marshal.updateDraggable(_this.publishedDescriptor, descriptor, _this.getDimension);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDraggable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.getDimension = function (windowScroll) {\n      if (windowScroll === void 0) {\n        windowScroll = origin;\n      }\n\n      var targetRef = _this.props.getDraggableRef();\n\n      var descriptor = _this.publishedDescriptor;\n      !targetRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DraggableDimensionPublisher cannot calculate a dimension when not attached to the DOM') : invariant(false) : void 0;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished draggable') : invariant(false) : void 0;\n      var computedStyles = window.getComputedStyle(targetRef);\n      var borderBox = targetRef.getBoundingClientRect();\n      var client = calculateBox(borderBox, computedStyles);\n      var page = withScroll(client, windowScroll);\n      var placeholder = {\n        client: client,\n        tagName: targetRef.tagName.toLowerCase(),\n        display: computedStyles.display\n      };\n      var displaceBy = {\n        x: client.marginBox.width,\n        y: client.marginBox.height\n      };\n      var dimension = {\n        descriptor: descriptor,\n        placeholder: placeholder,\n        displaceBy: displaceBy,\n        client: client,\n        page: page\n      };\n      return dimension;\n    };\n\n    return _this;\n  }\n\n  var _proto = DraggableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.publish();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DraggableDimensionPublisher;\n}(Component);\n\nDraggableDimensionPublisher.contextTypes = (_DraggableDimensionPu = {}, _DraggableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DraggableDimensionPu);\n\nfunction isSvgElement(el) {\n  return el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = function (event, props) {\n  if (props.canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n};\n\nvar createScheduler = function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n};\n\nvar sloppyClickThreshold = 5;\n\nvar isSloppyClickThresholdExceeded = function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n};\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\n\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\n\nvar preventStandardKeyEvents = function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n};\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar sharedOptions = {\n  capture: true\n};\n\nvar createPostDragEventPreventer = function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n};\n\nvar createEventMarshal = function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n};\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\n\nvar noop = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\n\nvar createMouseSensor = function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing,\n      getShouldRespectForceTouch = _ref.getShouldRespectForceTouch;\n  var state = {\n    isDragging: false,\n    pending: null\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    setState({\n      pending: null,\n      isDragging: true\n    });\n    fn();\n  };\n\n  var stopDragging = function stopDragging(fn, shouldBlockClick) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (shouldBlockClick === void 0) {\n      shouldBlockClick = true;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    setState({\n      isDragging: false,\n      pending: null\n    });\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(point) {\n    setState({\n      pending: point,\n      isDragging: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    stopDragging(noop, false);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n\n      if (state.isDragging) {\n        event.preventDefault();\n        schedule.move(point);\n        return;\n      }\n\n      if (!state.pending) {\n        stopPendingDrag();\n        process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n      }\n\n      if (!isSloppyClickThresholdExceeded(state.pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: point,\n          movementMode: 'FLUID'\n        });\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (state.isDragging) {\n        event.preventDefault();\n      }\n\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.currentTarget !== getWindow()) {\n        return;\n      }\n\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'webkitmouseforcechanged',\n    fn: function fn(event) {\n      if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n        process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n        return;\n      }\n\n      var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n      var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n      if (!getShouldRespectForceTouch()) {\n        event.preventDefault();\n        return;\n      }\n\n      if (isForcePressing) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    var win = getWindow();\n    bindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    var win = getWindow();\n    unbindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  };\n\n  var sensor = {\n    onMouseDown: onMouseDown,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n};\n\nvar getBorderBoxCenterPosition = function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n};\n\nvar _scrollJumpKeys;\n\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nvar noop$1 = function noop() {};\n\nvar createKeyboardSensor = function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      getDraggableRef = _ref.getDraggableRef,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = {\n    isDragging: false\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$1;\n    }\n\n    setState({\n      isDragging: true\n    });\n    bindWindowEvents();\n    fn();\n  };\n\n  var stopDragging = function stopDragging(postDragFn) {\n    if (postDragFn === void 0) {\n      postDragFn = noop$1;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    setState({\n      isDragging: false\n    });\n    postDragFn();\n  };\n\n  var kill = function kill() {\n    if (state.isDragging) {\n      stopDragging();\n    }\n  };\n\n  var cancel = function cancel() {\n    stopDragging(callbacks.onCancel);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var schedule = createScheduler(callbacks);\n\n  var onKeyDown = function onKeyDown(event) {\n    if (!isDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      var ref = getDraggableRef();\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n      var center = getBorderBoxCenterPosition(ref);\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: center,\n          movementMode: 'SNAP'\n        });\n      });\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: 'scroll',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.currentTarget !== getWindow()) {\n        return;\n      }\n\n      callbacks.onWindowScroll();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var sensor = {\n    onKeyDown: onKeyDown,\n    kill: kill,\n    isDragging: isDragging,\n    isCapturing: isDragging,\n    unmount: kill\n  };\n  return sensor;\n};\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$2 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$2,\n    releaseTouchMove: noop$2\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nvar initial = {\n  isDragging: false,\n  pending: null,\n  hasMoved: false,\n  longPressTimerId: null\n};\n\nvar createTouchSensor = function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing,\n      getShouldRespectForceTouch = _ref.getShouldRespectForceTouch;\n  var state = initial;\n\n  var setState = function setState(partial) {\n    state = _extends({}, state, partial);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging || state.longPressTimerId);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging() {\n    var pending = state.pending;\n\n    if (!pending) {\n      stopPendingDrag();\n      process.env.NODE_ENV !== \"production\" ? invariant(false, 'cannot start a touch drag without a pending position') : invariant(false);\n    }\n\n    setState({\n      isDragging: true,\n      hasMoved: false,\n      pending: null,\n      longPressTimerId: null\n    });\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  };\n\n  var stopDragging = function stopDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    postDragEventPreventer.preventNext();\n    setState(initial);\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(event) {\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setState({\n      longPressTimerId: longPressTimerId,\n      pending: point,\n      isDragging: false,\n      hasMoved: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    if (state.longPressTimerId) {\n      clearTimeout(state.longPressTimerId);\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    setState(initial);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'touchmove',\n    options: {\n      passive: false\n    },\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      if (!state.hasMoved) {\n        setState({\n          hasMoved: true\n        });\n      }\n\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      schedule.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      if (!state.isDragging && !state.pending) {\n        return;\n      }\n\n      if (state.hasMoved) {\n        event.preventDefault();\n        return;\n      }\n\n      if (!getShouldRespectForceTouch()) {\n        event.preventDefault();\n        return;\n      }\n\n      var touch = event.touches[0];\n\n      if (touch.force >= forcePressThreshold) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  var sensor = {\n    onTouchStart: onTouchStart,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n};\n\nvar _DragHandle$contextTy;\n\nvar preventHtml5Dnd = function preventHtml5Dnd(event) {\n  event.preventDefault();\n};\n\nvar DragHandle = function (_Component) {\n  _inheritsLoose(DragHandle, _Component);\n\n  function DragHandle(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.mouseSensor = void 0;\n    _this.keyboardSensor = void 0;\n    _this.touchSensor = void 0;\n    _this.sensors = void 0;\n    _this.styleContext = void 0;\n    _this.canLift = void 0;\n    _this.isFocused = false;\n    _this.lastDraggableRef = void 0;\n\n    _this.onFocus = function () {\n      _this.isFocused = true;\n    };\n\n    _this.onBlur = function () {\n      _this.isFocused = false;\n    };\n\n    _this.onKeyDown = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.touchSensor.isCapturing()) {\n        return;\n      }\n\n      _this.keyboardSensor.onKeyDown(event);\n    };\n\n    _this.onMouseDown = function (event) {\n      if (_this.keyboardSensor.isCapturing() || _this.mouseSensor.isCapturing()) {\n        return;\n      }\n\n      _this.mouseSensor.onMouseDown(event);\n    };\n\n    _this.onTouchStart = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.keyboardSensor.isCapturing()) {\n        return;\n      }\n\n      _this.touchSensor.onTouchStart(event);\n    };\n\n    _this.canStartCapturing = function (event) {\n      if (_this.isAnySensorCapturing()) {\n        return false;\n      }\n\n      if (!_this.canLift(_this.props.draggableId)) {\n        return false;\n      }\n\n      return shouldAllowDraggingFromTarget(event, _this.props);\n    };\n\n    _this.isAnySensorCapturing = function () {\n      return _this.sensors.some(function (sensor) {\n        return sensor.isCapturing();\n      });\n    };\n\n    _this.getProvided = memoizeOne(function (isEnabled) {\n      if (!isEnabled) {\n        return null;\n      }\n\n      var provided = {\n        onMouseDown: _this.onMouseDown,\n        onKeyDown: _this.onKeyDown,\n        onTouchStart: _this.onTouchStart,\n        onFocus: _this.onFocus,\n        onBlur: _this.onBlur,\n        tabIndex: 0,\n        'data-react-beautiful-dnd-drag-handle': _this.styleContext,\n        'aria-roledescription': 'Draggable item. Press space bar to lift',\n        draggable: false,\n        onDragStart: preventHtml5Dnd\n      };\n      return provided;\n    });\n\n    var getWindow = function getWindow() {\n      return getWindowFromEl(_this.props.getDraggableRef());\n    };\n\n    var args = {\n      callbacks: _this.props.callbacks,\n      getDraggableRef: _this.props.getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: _this.canStartCapturing,\n      getShouldRespectForceTouch: _this.props.getShouldRespectForceTouch\n    };\n    _this.mouseSensor = createMouseSensor(args);\n    _this.keyboardSensor = createKeyboardSensor(args);\n    _this.touchSensor = createTouchSensor(args);\n    _this.sensors = [_this.mouseSensor, _this.keyboardSensor, _this.touchSensor];\n    _this.styleContext = context[styleKey];\n    _this.canLift = context[canLiftKey];\n    return _this;\n  }\n\n  var _proto = DragHandle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var draggableRef = this.props.getDraggableRef();\n    this.lastDraggableRef = draggableRef;\n    !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get draggable ref from drag handle') : invariant(false) : void 0;\n\n    if (!this.props.isEnabled) {\n      return;\n    }\n\n    var dragHandleRef = getDragHandleRef(draggableRef);\n    retainer.tryRestoreFocus(this.props.draggableId, dragHandleRef);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var ref = this.props.getDraggableRef();\n\n    if (ref !== this.lastDraggableRef) {\n      this.lastDraggableRef = ref;\n\n      if (ref && this.isFocused && this.props.isEnabled) {\n        getDragHandleRef(ref).focus();\n      }\n    }\n\n    var isCapturing = this.isAnySensorCapturing();\n\n    if (!isCapturing) {\n      return;\n    }\n\n    var isBeingDisabled = prevProps.isEnabled && !this.props.isEnabled;\n\n    if (isBeingDisabled) {\n      this.sensors.forEach(function (sensor) {\n        if (!sensor.isCapturing()) {\n          return;\n        }\n\n        var wasDragging = sensor.isDragging();\n        sensor.kill();\n\n        if (wasDragging) {\n          process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n\n          _this2.props.callbacks.onCancel();\n        }\n      });\n    }\n\n    var isDragAborted = prevProps.isDragging && !this.props.isDragging;\n\n    if (isDragAborted) {\n      this.sensors.forEach(function (sensor) {\n        if (sensor.isCapturing()) {\n          sensor.kill();\n        }\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this3 = this;\n\n    this.sensors.forEach(function (sensor) {\n      var wasDragging = sensor.isDragging();\n      sensor.unmount();\n\n      if (wasDragging) {\n        _this3.props.callbacks.onCancel();\n      }\n    });\n\n    var shouldRetainFocus = function () {\n      if (!_this3.props.isEnabled) {\n        return false;\n      }\n\n      if (!_this3.isFocused) {\n        return false;\n      }\n\n      return _this3.props.isDragging || _this3.props.isDropAnimating;\n    }();\n\n    if (shouldRetainFocus) {\n      retainer.retain(this.props.draggableId);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        isEnabled = _this$props.isEnabled;\n    return children(this.getProvided(isEnabled));\n  };\n\n  return DragHandle;\n}(Component);\n\nDragHandle.contextTypes = (_DragHandle$contextTy = {}, _DragHandle$contextTy[styleKey] = PropTypes.string.isRequired, _DragHandle$contextTy[canLiftKey] = PropTypes.func.isRequired, _DragHandle$contextTy);\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nvar checkOwnProps$1 = function (props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n};\n\nvar _Draggable$contextTyp;\n\nvar Draggable = function (_React$Component) {\n  _inheritsLoose(Draggable, _React$Component);\n\n  function Draggable(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.callbacks = void 0;\n    _this.styleContext = void 0;\n    _this.ref = null;\n\n    _this.onMoveEnd = function (event) {\n      var mapped = _this.props.mapped;\n      var isDropping = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n\n      if (!isDropping) {\n        return;\n      }\n\n      if (event.propertyName !== 'transform') {\n        return;\n      }\n\n      _this.props.dropAnimationFinished();\n    };\n\n    _this.onLift = function (options) {\n      start('LIFT');\n      var ref = _this.ref;\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      !!_this.props.isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n      var clientSelection = options.clientSelection,\n          movementMode = options.movementMode;\n      var _this$props = _this.props,\n          lift = _this$props.lift,\n          draggableId = _this$props.draggableId;\n      lift({\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: movementMode\n      });\n      finish('LIFT');\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDraggableRef = function () {\n      return _this.ref;\n    };\n\n    _this.getShouldRespectForceTouch = function () {\n      return _this.props.shouldRespectForceTouch;\n    };\n\n    _this.getProvided = memoizeOne(function (mapped, dragHandleProps) {\n      var style = getStyle(mapped);\n      var onTransitionEnd = mapped.type === 'DRAGGING' && Boolean(mapped.dropping) ? _this.onMoveEnd : null;\n      var result = {\n        innerRef: _this.setRef,\n        draggableProps: {\n          'data-react-beautiful-dnd-draggable': _this.styleContext,\n          style: style,\n          onTransitionEnd: onTransitionEnd\n        },\n        dragHandleProps: dragHandleProps\n      };\n      return result;\n    });\n\n    _this.renderChildren = function (dragHandleProps) {\n      var _this$props2 = _this.props,\n          children = _this$props2.children,\n          mapped = _this$props2.mapped;\n      return children(_this.getProvided(mapped, dragHandleProps), mapped.snapshot);\n    };\n\n    var callbacks = {\n      onLift: _this.onLift,\n      onMove: function onMove(clientSelection) {\n        return props.move({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return props.drop({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return props.drop({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: props.moveUp,\n      onMoveDown: props.moveDown,\n      onMoveRight: props.moveRight,\n      onMoveLeft: props.moveLeft,\n      onWindowScroll: function onWindowScroll() {\n        return props.moveByWindowScroll({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n    _this.callbacks = callbacks;\n    _this.styleContext = context[styleKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Draggable.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        draggableId = _this$props3.draggableId,\n        index = _this$props3.index,\n        mapped = _this$props3.mapped,\n        isDragDisabled = _this$props3.isDragDisabled,\n        disableInteractiveElementBlocking = _this$props3.disableInteractiveElementBlocking;\n    var droppableId = this.context[droppableIdKey];\n    var type = this.context[droppableTypeKey];\n    var isDragging = mapped.type === 'DRAGGING';\n    var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n    return React.createElement(DraggableDimensionPublisher, {\n      key: draggableId,\n      draggableId: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index,\n      getDraggableRef: this.getDraggableRef\n    }, React.createElement(DragHandle, {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: this.callbacks,\n      getDraggableRef: this.getDraggableRef,\n      getShouldRespectForceTouch: this.getShouldRespectForceTouch,\n      canDragInteractiveElements: disableInteractiveElementBlocking\n    }, this.renderChildren));\n  };\n\n  return Draggable;\n}(React.Component);\n\nDraggable.contextTypes = (_Draggable$contextTyp = {}, _Draggable$contextTyp[droppableIdKey] = PropTypes.string.isRequired, _Draggable$contextTyp[droppableTypeKey] = PropTypes.string.isRequired, _Draggable$contextTyp[styleKey] = PropTypes.string.isRequired, _Draggable$contextTyp);\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n\n  return selector;\n};\n\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForceTouch: true\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };","map":{"version":3,"sources":["/home/ad.rapidops.com/jaymin.shah/project/demostruct/node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js"],"names":["_extends","_inheritsLoose","React","PureComponent","Component","compose","createStore","createStore$1","applyMiddleware","bindActionCreators","invariant","PropTypes","getRect","expand","offset","withScroll","createBox","getBox","calculateBox","memoizeOne","_Object$values","_Object$keys","_Object$assign","_Date$now","rafSchd","connect","_Number$isInteger","origin","x","y","add","point1","point2","subtract","isEqual","negate","point","patch","line","value","otherValue","_ref","distance","Math","sqrt","pow","closest","target","points","min","apply","map","fn","executeClip","frame","subject","result","top","max","right","bottom","left","width","height","isEqual$1","first","second","offsetByPosition","spacing","getCorners","noSpacing","scroll","diff","displacement","increase","axis","withPlaceholder","increasedBy","_extends2","end","clip","shouldClipSubject","pageMarginBox","getSubject","page","scrolled","marginBox","increased","clipped","active","scrollDroppable","droppable","newScroll","process","env","NODE_ENV","scrollable","scrollDiff","initial","scrollDisplacement","current","records","isEnabled","isTimingsEnabled","start","key","now","performance","finish","previous","console","warn","rounded","toFixed","style","textColor","symbol","log","whatIsDraggedOver","impact","merge","destination","droppableId","combine","values","findIndex","list","predicate","i","length","find","index","undefined","toDroppableMap","droppables","reduce","descriptor","id","toDraggableMap","draggables","toDroppableList","toDraggableList","isWithin","lowerBound","upperBound","isPositionInFrame","isWithinVertical","isWithinHorizontal","getDroppableOver","maybe","getDraggablesInsideDroppable","filter","draggable","sort","a","b","withDroppableScroll","vertical","direction","crossAxisLine","size","crossAxisStart","crossAxisEnd","crossAxisSize","horizontal","isUserMovingForward","didStartDisplaced","draggableId","onLift","Boolean","wasDisplaced","getCombinedItemDisplacement","displaced","combineWith","displacedBy","isDisplaced","getWhenEntered","oldMerge","whenEntered","isCombiningWith","currentCenter","borderBox","displaceBy","currentUserDirection","twoThirdsOfSize","isMovingForward","targetCenter","getCombineImpact","_ref2","pageBorderBoxCenterWithDroppableScrollChange","previousImpact","insideDestinationWithoutDraggable","userDirection","isCombineEnabled","movement","canBeDisplacedBy","child","withMerge","isPartiallyVisibleThroughFrame","isContained","isPartiallyVisibleVertically","isPartiallyVisibleHorizontally","isPartiallyContained","isBiggerVertically","isBiggerHorizontally","isTargetBiggerThanFrame","isTargetBiggerOnOneAxis","isTotallyVisibleThroughFrame","isTotallyVisibleThroughFrameOnAxis","getDroppableDisplaced","isVisibleInDroppable","isVisibleThroughFrameFn","isVisibleInViewport","viewport","isVisible","toBeDisplaced","withDroppableDisplacement","displacedTarget","isPartiallyVisible","args","isTotallyVisible","isTotallyVisibleOnAxis","getShouldAnimate","forceShouldAnimate","shouldAnimate","getTarget","expandBy","getDisplacement","getDisplacementMap","getDisplacedBy","getReorderImpact","didStartDisplaced$1","dimension","newIndex","noDisplacedBy","noMovement","noImpact","removeDraggableFromList","remove","item","getDragImpact","pageBorderBoxCenter","destinationId","insideDestination","getHomeLocation","getHomeOnLift","home","insideHome","originallyDisplaced","slice","getDragPositions","oldInitial","oldCurrent","oldClientBorderBoxCenter","newClientBorderBoxCenter","shift","client","selection","borderBoxCenter","reverse","offsetDraggable","offset$1","initialWindowScroll","moved","placeholder","adjustExistingForAdditionsAndRemovals","existing","addedDraggables","additions","removedDraggables","removals","shifted","forEach","original","toShift","addShift","indexChange","withRemovals","isBeingRemoved","sibling","withAdditions","splice","additionMap","wasAdded","updated","adjustAdditionsForScrollChanges","updatedDroppables","windowScrollChange","modified","droppableScrollChange","totalChange","adjustAdditionsForCollapsedHome","dragging","updateDraggables","criticalId","unmodifiedExisting","unmodifiedAdditions","scrolledAdditions","getMaxScroll","scrollHeight","scrollWidth","maxScroll","adjustedMaxScroll","getDroppableDimension","isFixedOnPage","scrollSize","frameClient","paddingBox","isHomeOf","getRequiredGrowthForPlaceholder","placeholderSize","availableSpace","contentBox","insideDroppable","spaceUsed","sum","requiredSpace","needsToGrowBy","withMaxScroll","addPlaceholder","requiredGrowth","added","oldFrameMaxScroll","_subject","newFrame","removePlaceholder","_subject2","oldMaxScroll","getFrame","throwIfSpacingChange","old","fresh","getMessage","spacingType","margin","border","padding","adjustBorderBoxSize","updateDroppables","adjusted","provided","raw","hasPlaceholder","oldClient","newClient","oldScrollable","newScrollable","isFrameEqual","withSizeChanged","withNoAnimatedDisplacement","withoutAnimation","patchDroppableMap","clearUnusedPlaceholder","last","lastDroppable","recomputePlaceholders","cleaned","isOver","patched","timingsKey","publishWhileDragging","_extends3","state","published","dimensions","critical","_getDragPositions","center","_getHomeOnLift","homeImpact","isOrphaned","movementMode","draggingState","phase","onLiftImpact","dropPending","reason","isWaiting","forward","backward","moveToNextCombine","isInHomeList","originalInsideDestination","location","currentIndex","currentInsideDestination","shallow","targetIndex","addClosest","concat","removeClosest","fromReorder","initialInside","isInForeignList","proposedIndex","modifyDisplacement","fromCombine","combineId","combineIndex","wasDisplacedAtStart","hasDisplacedFromStart","moveToNextIndex","instruction","lastDisplaced","withoutDraggable","atProposedIndex","whenCombining","distanceFromStartToBorderBoxCenter","box","distanceFromEndToBorderBoxCenter","getCrossAxisBorderBoxCenter","isMoving","goAfter","moveRelativeTo","goBefore","goIntoStart","_ref3","moveInto","whenReordering","draggablePage","closestAfter","withDisplacement","getResultWithoutDroppableDisplacement","getPageBorderBoxCenterFromImpact","withoutDisplacement","scrollViewport","withNewDisplacement","speculativelyIncrease","maxScrollChange","scrolledViewport","scrolledDroppable","entry","withScrolledViewport","withScrolledDroppable","withViewportDisplacement","getClientFromPageBorderBoxCenter","withoutPageScrollChange","isTotallyVisibleInNewLocation","newPageBorderBoxCenter","_ref$onlyOnMainAxis","onlyOnMainAxis","changeNeeded","moveToNextPlace","previousPageBorderBoxCenter","previousClientSelection","isVisibleInNewLocation","clientSelection","scrollJumpRequest","cautious","getKnownActive","rect","getBestCrossAxisDroppable","source","isBetweenSourceClipped","candidates","activeOfTarget","isBetweenDestinationClipped","array","contains","isWithinDroppable","getCurrentPageBorderBoxCenter","getCurrentPageBorderBox","getClosestDraggable","sorted","distanceToA","distanceToB","moveToNewDroppable","proposed","proposedPageBorderBoxCenter","isGoingBeforeTarget","indexOf","moveCrossAxis","getDroppableOver$1","moveInDirection","type","isActuallyOver","isMainAxisMovementAllowed","isMovingOnMainAxis","_state$dimensions","isMovementAllowed","getVertical","getHorizontal","getUserDirection","oldPageBorderBoxCenter","update","forcedClientSelection","forcedDimensions","forcedViewport","forcedImpact","currentWindowScroll","newImpact","withUpdatedPlaceholders","recompute","getClientBorderBoxCenter","refreshSnap","needsVisibilityCheck","patchDimensionMap","isSnapping","postDroppableChange","isEnabledChanging","idle","completed","shouldFlush","reducer","action","_action$payload","payload","isWindowScrollAllowed","every","isDragging","_result","_clientSelection","_action$payload2","_action$payload3","_id","_target","String","_action$payload4","_id2","_target2","_updated","_viewport","_result2","newState","_action$payload5","dropDuration","newHomeClientOffset","_result3","_action$payload6","_completed","lift","initialPublish","publishWhileDragging$1","collectionStarting","updateDroppableScroll","updateDroppableIsEnabled","updateDroppableIsCombineEnabled","move","moveByWindowScroll","updateViewportMaxScroll","moveUp","moveDown","moveRight","moveLeft","clean","animateDrop","completeDrop","drop","dropAnimationFinished","lift$1","getMarshal","getState","dispatch","next","marshal","scrollOptions","shouldPublishImmediately","request","_marshal$startPublish","startPublishing","dropping","resting","curves","outOfTheWay","opacity","combining","scale","timings","minDropTime","maxDropTime","outOfTheWayTiming","transitions","fluid","snap","duration","timing","moveTo","transforms","isCombining","translate","dropTimeRange","maxDropTimeAtDistance","cancelDropModifier","getDropDuration","distance$1","percentage","withDuration","Number","getNewHomeClientOffset","newClientCenter","getDropImpact","lastImpact","didDropInsideDroppable","withoutMovement","drop$1","isWaitingForDrop","_getDropImpact","mode","isAnimationRequired","position","onDragStart","withLocation","startPosition","endPosition","withCombine","inHomeList","onDragUpdate","returnedToStart","onDragEnd","preset","isProduction","spacesAndTabs","lineStartWithSpaces","clean$1","replace","trim","getDevMessage","message","getFormattedMessage","isDisabledFlag","warning","_console","window","getExpiringAnnounce","announce","wasCalled","isExpired","timeoutId","setTimeout","clearTimeout","getAsyncMarshal","entries","execute","timerId","_entries$splice","callback","push","flush","areLocationsEqual","isCombineEqual","isCriticalEqual","isDraggableEqual","isDroppableEqual","withTimings","getDragStart","responder","data","getDefaultMessage","willExpire","getPublisher","getResponders","asyncMarshal","beforeStart","onBeforeDragStart","lastCritical","lastLocation","lastCombine","hasCriticalChanged","hasLocationChanged","hasGroupingChanged","abort","responders","publisher","store","dropAnimationFinish","dimensionMarshalStopper","stopPublishing","shouldEnd","shouldCancelPending","autoScroll","getScroller","stop","cancelPending","pendingDrop","postActionState","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","getDimensionMarshal","styleMarshal","clean$2","timingKey","createPublisher","getEntries","callbacks","advancedUsageWarning","hasAnnounced","staging","frameId","collect","requestAnimationFrame","getCritical","_staging","getDimension","isHome","options","withoutPlaceholder","recollect","publish","cancelAnimationFrame","getWindowScroll","pageXOffset","pageYOffset","getDocumentElement","doc","document","documentElement","getMaxWindowScroll","clientWidth","clientHeight","getViewport","getInitialPublish","windowScroll","getDimensionAndWatchScroll","throwIfAddOrRemoveOfWrongType","collection","createDimensionMarshal","registerDraggable","updateDraggable","unregisterDraggable","registerDroppable","droppableCallbacks","updateDroppable","unregisterDroppable","change","dragStopped","prefix","dragHandle","makeGetSelector","context","attribute","getStyles","rules","property","rule","styles","selector","join","noPointerEvents","getStyles$1","styleContext","getSelector","dragHandle$1","grabCursor","always","dropAnimating","draggable$1","transition","userCancel","droppable$1","body","count","resetStyleContext","getHead","head","querySelector","createStyleEl","el","createElement","createStyleMarshal","dynamic","setStyle","innerHTML","mount","setAttribute","appendChild","unmount","removeChild","canStartDrag","scrollWindow","scrollBy","getBodyElement","count$1","visuallyHidden","overflow","createAnnouncer","textContent","announcer","getScrollableDroppables","getScrollableDroppableOver","getBestScrollableDroppable","_dimension","config","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds","container","startScrollingFrom","maxScrollValueAt","thresholds","getPercentage","startOfRange","endOfRange","range","currentInRange","minScroll","getValueFromDistance","distanceToEdge","percentageFromMaxScrollValueAt","percentageFromStartScrollingFrom","ceil","stopAt","dampenValueByTime","proposedScroll","dragStartTime","runTime","betweenAccelerateAtAndStopAtPercentage","getValue","shouldUseTimeDampening","getScrollOnAxis","distanceToEdges","isCloserToEnd","adjustForSizeLimits","isTooBigVertically","isTooBigHorizontally","clean$3","getScroll","required","limited","smallestSigned","getOverlap","getRemainder","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","canScrollWindow","getWindowOverlap","canScrollDroppable","getDroppableOverlap","getWindowScrollChange","getDroppableScrollChange","scroll$1","_change","createFluidScroller","scheduleWindowScroll","scheduleDroppableScroll","tryScroll","_dragging","cancel","start$1","wasScrollNeeded","fakeScrollCallback","createJumpScroller","moveByOffset","scrollDroppableAsMuchAsItCan","whatTheDroppableCanScroll","remainder","scrollWindowAsMuchAsItCan","whatTheWindowCanScroll","jumpScroller","droppableRemainder","windowRemainder","createAutoScroller","fluidScroller","jumpScroll","scroller","prefix$1","storeKey","droppableIdKey","droppableTypeKey","dimensionMarshalKey","styleKey","canLiftKey","isMovementAllowedKey","peerDependencies","react","semver","getVersion","exec","major","minor","isSatisfied","expected","actual","checkReactVersion","peerDepValue","actualValue","peerDep","suffix","checkDoctype","doctype","name","toLowerCase","publicId","printFatalError","error","ErrorBoundary","_React$Component","_this","_len","arguments","Array","_key","call","onFatalError","props","onError","setState","_proto","prototype","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","componentDidCatch","render","children","_DragDropContext$chil","resetServerContext","DragDropContext","dimensionMarshal","autoScroller","unsubscribe","canLift","getIsMovementAllowed","tryResetStore","getChildContext","version","childContextTypes","shape","func","isRequired","subscribe","object","string","isEqual$2","base","isScroll","isAuto","isVisible$1","isEither","overflowX","overflowY","isBoth","isElementScrollable","getComputedStyle","isBodyScrollable","html","htmlStyle","htmlOverflow","getClosestScrollable","parentElement","checkForNestedScrollContainers","anotherScrollParent","getScroll$1","scrollLeft","scrollTop","getIsFixed","getEnv","closestScrollable","getClient","targetRef","ref","isDropDisabled","_DroppableDimensionPu","getClosestScrollable$1","immediate","passive","delayed","getListenerOptions","display","DroppableDimensionPublisher","publishedDescriptor","getClosestScroll","memoizedUpdateScroll","updateScroll","scheduleScrollUpdate","onClosestScroll","getMemoizedDescriptor","unpublish","ignoreContainerClipping","getPlaceholderRef","getDroppableRef","componentDidUpdate","prevProps","isDisabledChanged","isCombineChanged","contextTypes","empty","Placeholder","_PureComponent","mountTimerId","isAnimatingOpenOnMount","animate","onTransitionEnd","event","propertyName","onClose","getDerivedStateFromProps","_this2","getSize","tagName","boxSizing","marginTop","marginRight","marginBottom","marginLeft","flexShrink","flexGrow","pointerEvents","innerRef","getWindowFromEl","ownerDocument","defaultView","isHtmlElement","HTMLElement","throwIfRefIsInvalid","checkOwnProps","AnimateInOut","_React$PureComponent","on","_Droppable$contextTyp","_Droppable$childConte","Droppable","placeholderRef","setPlaceholderRef","setRef","onPlaceholderTransitionEnd","_value","warnIfPlaceholderNotMounted","getPlaceholder","shouldAnimatePlaceholder","_this$props","snapshot","droppableProps","isStrictEqual","whatIsDraggedOverFromResult","isMatchingType","getDraggable","makeMapStateToProps","isDraggingOver","draggingOverWith","draggingFromThisWith","idleWithoutAnimation","getMapProps","getSnapshot","ownProps","_snapshot","wasOver","wasCombining","mapDispatchToProps","defaultProps","ConnectedDroppable","pure","areStatePropsEqual","_DraggableDimensionPu","DraggableDimensionPublisher","_Component","getDraggableRef","computedStyles","getBoundingClientRect","isSvgElement","SVGElement","throwIfSVG","getDragHandleRef","draggableRef","hasAttribute","retainingFocusFor","listenerOptions","capture","clearRetentionOnFocusChange","isBound","bind","onWindowFocusChange","unbind","retain","tryRestoreFocus","dragHandleRef","focus","retainer","isElement","Element","interactiveTagNames","input","button","textarea","select","option","optgroup","video","audio","isAnInteractiveElement","parent","hasAnInteractiveTag","getAttribute","shouldAllowDraggingFromTarget","canDragInteractiveElements","currentTarget","createScheduler","memoizedMove","onMove","onMoveUp","onMoveDown","onMoveRight","onMoveLeft","windowScrollMove","onWindowScroll","sloppyClickThreshold","isSloppyClickThresholdExceeded","abs","tab","enter","escape","space","pageUp","pageDown","arrowLeft","arrowUp","arrowRight","arrowDown","_preventedKeys","preventedKeys","preventStandardKeyEvents","keyCode","preventDefault","getOptions","shared","fromBinding","bindEvents","bindings","sharedOptions","binding","eventName","unbindEvents","createPostDragEventPreventer","getWindow","preventNext","preventer","createEventMarshal","isMouseDownHandled","handle","isHandled","reset","supportedEventName","supported","primaryButton","noop","mouseDownMarshal","createMouseSensor","canStartCapturing","getShouldRespectForceTouch","pending","isCapturing","schedule","postDragEventPreventer","startDragging","stopDragging","shouldBlockClick","unbindWindowEvents","startPendingDrag","bindWindowEvents","stopPendingDrag","kill","onCancel","windowBindings","clientX","clientY","onDrop","webkitForce","MouseEvent","WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN","forcePressThreshold","isForcePressing","win","onMouseDown","ctrlKey","metaKey","shiftKey","altKey","sensor","getBorderBoxCenterPosition","_scrollJumpKeys","scrollJumpKeys","noop$1","createKeyboardSensor","postDragFn","onKeyDown","defaultPrevented","timeForLongPress","touchStartMarshal","noop$2","webkitHack","stub","preventTouchMove","releaseTouchMove","isBlocking","hasMoved","longPressTimerId","createTouchSensor","partial","touch","touches","_event$touches$","force","onTouchStart","_DragHandle$contextTy","preventHtml5Dnd","DragHandle","mouseSensor","keyboardSensor","touchSensor","sensors","isFocused","lastDraggableRef","onFocus","onBlur","isAnySensorCapturing","some","getProvided","tabIndex","isBeingDisabled","wasDragging","isDragAborted","_this3","shouldRetainFocus","isDropAnimating","zIndexOptions","getDraggingTransition","shouldAnimateDragMovement","getDraggingOpacity","getShouldDraggingAnimate","getDraggingStyle","transform","zIndex","getSecondaryStyle","secondary","shouldAnimateDisplacement","getStyle","mapped","checkOwnProps$1","isDragDisabled","_Draggable$contextTyp","Draggable","onMoveEnd","isDropping","shouldRespectForceTouch","dragHandleProps","draggableProps","renderChildren","_this$props2","_this$props3","disableInteractiveElementBlocking","getCombineWithFromResult","getCombineWithFromImpact","makeMapStateToProps$1","getDraggingSnapshot","draggingOver","dropAnimation","combineTargetFor","getSecondarySnapshot","defaultMapProps","memoizedOffset","getDraggingProps","getSecondaryProps","getSecondaryMovement","ownId","draggingId","isCombinedWith","draggingSelector","_mode","_draggingOver","_combineWith","curve","secondarySelector","mapDispatchToProps$1","defaultProps$1","ConnectedDraggable"],"mappings":"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","sourcesContent":["import _extends from '@babel/runtime-corejs2/helpers/esm/extends';\nimport _inheritsLoose from '@babel/runtime-corejs2/helpers/esm/inheritsLoose';\nimport React, { PureComponent, Component } from 'react';\nimport { compose, createStore as createStore$1, applyMiddleware, bindActionCreators } from 'redux';\nimport invariant from 'tiny-invariant';\nimport PropTypes from 'prop-types';\nimport { getRect, expand, offset, withScroll, createBox, getBox, calculateBox } from 'css-box-model';\nimport memoizeOne from 'memoize-one';\nimport _Object$values from '@babel/runtime-corejs2/core-js/object/values';\nimport _Object$keys from '@babel/runtime-corejs2/core-js/object/keys';\nimport _Object$assign from '@babel/runtime-corejs2/core-js/object/assign';\nimport _Date$now from '@babel/runtime-corejs2/core-js/date/now';\nimport rafSchd from 'raf-schd';\nimport { connect } from 'react-redux';\nimport _Number$isInteger from '@babel/runtime-corejs2/core-js/number/is-integer';\n\nvar origin = {\n  x: 0,\n  y: 0\n};\nvar add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nvar subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};\nvar isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nvar negate = function negate(point) {\n  return {\n    x: point.x !== 0 ? -point.x : 0,\n    y: point.y !== 0 ? -point.y : 0\n  };\n};\nvar patch = function patch(line, value, otherValue) {\n  var _ref;\n\n  if (otherValue === void 0) {\n    otherValue = 0;\n  }\n\n  return _ref = {}, _ref[line] = value, _ref[line === 'x' ? 'y' : 'x'] = otherValue, _ref;\n};\nvar distance = function distance(point1, point2) {\n  return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\n};\nvar closest = function closest(target, points) {\n  return Math.min.apply(Math, points.map(function (point) {\n    return distance(target, point);\n  }));\n};\nvar apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\n\nvar executeClip = (function (frame, subject) {\n  var result = getRect({\n    top: Math.max(subject.top, frame.top),\n    right: Math.min(subject.right, frame.right),\n    bottom: Math.min(subject.bottom, frame.bottom),\n    left: Math.max(subject.left, frame.left)\n  });\n\n  if (result.width <= 0 || result.height <= 0) {\n    return null;\n  }\n\n  return result;\n});\n\nvar isEqual$1 = function isEqual(first, second) {\n  return first.top === second.top && first.right === second.right && first.bottom === second.bottom && first.left === second.left;\n};\nvar offsetByPosition = function offsetByPosition(spacing, point) {\n  return {\n    top: spacing.top + point.y,\n    left: spacing.left + point.x,\n    bottom: spacing.bottom + point.y,\n    right: spacing.right + point.x\n  };\n};\nvar getCorners = function getCorners(spacing) {\n  return [{\n    x: spacing.left,\n    y: spacing.top\n  }, {\n    x: spacing.right,\n    y: spacing.top\n  }, {\n    x: spacing.left,\n    y: spacing.bottom\n  }, {\n    x: spacing.right,\n    y: spacing.bottom\n  }];\n};\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\n\nvar scroll = function scroll(target, frame) {\n  if (!frame) {\n    return target;\n  }\n\n  return offsetByPosition(target, frame.scroll.diff.displacement);\n};\n\nvar increase = function increase(target, axis, withPlaceholder) {\n  if (withPlaceholder && withPlaceholder.increasedBy) {\n    var _extends2;\n\n    return _extends({}, target, (_extends2 = {}, _extends2[axis.end] = target[axis.end] + withPlaceholder.increasedBy[axis.line], _extends2));\n  }\n\n  return target;\n};\n\nvar clip = function clip(target, frame) {\n  if (frame && frame.shouldClipSubject) {\n    return executeClip(frame.pageMarginBox, target);\n  }\n\n  return getRect(target);\n};\n\nvar getSubject = (function (_ref) {\n  var page = _ref.page,\n      withPlaceholder = _ref.withPlaceholder,\n      axis = _ref.axis,\n      frame = _ref.frame;\n  var scrolled = scroll(page.marginBox, frame);\n  var increased = increase(scrolled, axis, withPlaceholder);\n  var clipped = clip(increased, frame);\n  return {\n    page: page,\n    withPlaceholder: withPlaceholder,\n    active: clipped\n  };\n});\n\nvar scrollDroppable = (function (droppable, newScroll) {\n  !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var scrollable = droppable.frame;\n  var scrollDiff = subtract(newScroll, scrollable.scroll.initial);\n  var scrollDisplacement = negate(scrollDiff);\n\n  var frame = _extends({}, scrollable, {\n    scroll: {\n      initial: scrollable.scroll.initial,\n      current: newScroll,\n      diff: {\n        value: scrollDiff,\n        displacement: scrollDisplacement\n      },\n      max: scrollable.scroll.max\n    }\n  });\n\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: droppable.subject.withPlaceholder,\n    axis: droppable.axis,\n    frame: frame\n  });\n\n  var result = _extends({}, droppable, {\n    frame: frame,\n    subject: subject\n  });\n\n  return result;\n});\n\nvar records = {};\nvar isEnabled = false;\n\nvar isTimingsEnabled = function isTimingsEnabled() {\n  return isEnabled;\n};\nvar start = function start(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    records[key] = now;\n  }\n};\nvar finish = function finish(key) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (!isTimingsEnabled()) {\n      return;\n    }\n\n    var now = performance.now();\n    var previous = records[key];\n\n    if (!previous) {\n      console.warn('cannot finish timing as no previous time found', key);\n      return;\n    }\n\n    var result = now - previous;\n    var rounded = result.toFixed(2);\n\n    var style = function () {\n      if (result < 12) {\n        return {\n          textColor: 'green',\n          symbol: '✅'\n        };\n      }\n\n      if (result < 40) {\n        return {\n          textColor: 'orange',\n          symbol: '⚠️'\n        };\n      }\n\n      return {\n        textColor: 'red',\n        symbol: '❌'\n      };\n    }();\n\n    console.log(style.symbol + \" %cTiming %c\" + rounded + \" %cms %c\" + key, 'color: blue; font-weight: bold;', \"color: \" + style.textColor + \"; font-size: 1.1em;\", 'color: grey;', 'color: purple; font-weight: bold;');\n  }\n};\n\nvar whatIsDraggedOver = (function (impact) {\n  var merge = impact.merge,\n      destination = impact.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (merge) {\n    return merge.combine.droppableId;\n  }\n\n  return null;\n});\n\nfunction values(map) {\n  return _Object$values(map);\n}\nfunction findIndex(list, predicate) {\n  if (list.findIndex) {\n    return list.findIndex(predicate);\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    if (predicate(list[i])) {\n      return i;\n    }\n  }\n\n  return -1;\n}\nfunction find(list, predicate) {\n  if (list.find) {\n    return list.find(predicate);\n  }\n\n  var index = findIndex(list, predicate);\n\n  if (index !== -1) {\n    return list[index];\n  }\n\n  return undefined;\n}\n\nvar toDroppableMap = memoizeOne(function (droppables) {\n  return droppables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDraggableMap = memoizeOne(function (draggables) {\n  return draggables.reduce(function (previous, current) {\n    previous[current.descriptor.id] = current;\n    return previous;\n  }, {});\n});\nvar toDroppableList = memoizeOne(function (droppables) {\n  return values(droppables);\n});\nvar toDraggableList = memoizeOne(function (draggables) {\n  return values(draggables);\n});\n\nvar isWithin = (function (lowerBound, upperBound) {\n  return function (value) {\n    return lowerBound <= value && value <= upperBound;\n  };\n});\n\nvar isPositionInFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (point) {\n    return isWithinVertical(point.y) && isWithinVertical(point.y) && isWithinHorizontal(point.x) && isWithinHorizontal(point.x);\n  };\n});\n\nvar getDroppableOver = (function (_ref) {\n  var target = _ref.target,\n      droppables = _ref.droppables;\n  var maybe = find(toDroppableList(droppables), function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    var active = droppable.subject.active;\n\n    if (!active) {\n      return false;\n    }\n\n    return isPositionInFrame(active)(target);\n  });\n  return maybe ? maybe.descriptor.id : null;\n});\n\nvar getDraggablesInsideDroppable = memoizeOne(function (droppableId, draggables) {\n  var result = toDraggableList(draggables).filter(function (draggable) {\n    return droppableId === draggable.descriptor.droppableId;\n  }).sort(function (a, b) {\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return result;\n});\n\nvar withDroppableScroll = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.value);\n});\n\nvar vertical = {\n  direction: 'vertical',\n  line: 'y',\n  crossAxisLine: 'x',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  crossAxisStart: 'left',\n  crossAxisEnd: 'right',\n  crossAxisSize: 'width'\n};\nvar horizontal = {\n  direction: 'horizontal',\n  line: 'x',\n  crossAxisLine: 'y',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  crossAxisStart: 'top',\n  crossAxisEnd: 'bottom',\n  crossAxisSize: 'height'\n};\n\nvar isUserMovingForward = (function (axis, direction) {\n  return axis === vertical ? direction.vertical === 'down' : direction.horizontal === 'right';\n});\n\nvar didStartDisplaced = (function (draggableId, onLift) {\n  return Boolean(onLift.wasDisplaced[draggableId]);\n});\n\nvar getCombinedItemDisplacement = (function (_ref) {\n  var displaced = _ref.displaced,\n      onLift = _ref.onLift,\n      combineWith = _ref.combineWith,\n      displacedBy = _ref.displacedBy;\n  var isDisplaced = Boolean(displaced[combineWith]);\n\n  if (didStartDisplaced(combineWith, onLift)) {\n    return isDisplaced ? origin : negate(displacedBy.point);\n  }\n\n  return isDisplaced ? displacedBy.point : origin;\n});\n\nvar getWhenEntered = function getWhenEntered(id, current, oldMerge) {\n  if (!oldMerge) {\n    return current;\n  }\n\n  if (id !== oldMerge.combine.draggableId) {\n    return current;\n  }\n\n  return oldMerge.whenEntered;\n};\n\nvar isCombiningWith = function isCombiningWith(_ref) {\n  var id = _ref.id,\n      currentCenter = _ref.currentCenter,\n      axis = _ref.axis,\n      borderBox = _ref.borderBox,\n      displaceBy = _ref.displaceBy,\n      currentUserDirection = _ref.currentUserDirection,\n      oldMerge = _ref.oldMerge;\n  var start = borderBox[axis.start] + displaceBy[axis.line];\n  var end = borderBox[axis.end] + displaceBy[axis.line];\n  var size = borderBox[axis.size];\n  var twoThirdsOfSize = size * 0.666;\n  var whenEntered = getWhenEntered(id, currentUserDirection, oldMerge);\n  var isMovingForward = isUserMovingForward(axis, whenEntered);\n  var targetCenter = currentCenter[axis.line];\n\n  if (isMovingForward) {\n    return isWithin(start, start + twoThirdsOfSize)(targetCenter);\n  }\n\n  return isWithin(end - twoThirdsOfSize, end)(targetCenter);\n};\n\nvar getCombineImpact = (function (_ref2) {\n  var currentCenter = _ref2.pageBorderBoxCenterWithDroppableScrollChange,\n      previousImpact = _ref2.previousImpact,\n      destination = _ref2.destination,\n      insideDestinationWithoutDraggable = _ref2.insideDestinationWithoutDraggable,\n      userDirection = _ref2.userDirection,\n      onLift = _ref2.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var axis = destination.axis;\n  var map = previousImpact.movement.map;\n  var canBeDisplacedBy = previousImpact.movement.displacedBy;\n  var oldMerge = previousImpact.merge;\n  var target = find(insideDestinationWithoutDraggable, function (child) {\n    var id = child.descriptor.id;\n    var displaceBy = getCombinedItemDisplacement({\n      displaced: map,\n      onLift: onLift,\n      combineWith: id,\n      displacedBy: canBeDisplacedBy\n    });\n    return isCombiningWith({\n      id: id,\n      currentCenter: currentCenter,\n      axis: axis,\n      borderBox: child.page.borderBox,\n      displaceBy: displaceBy,\n      currentUserDirection: userDirection,\n      oldMerge: oldMerge\n    });\n  });\n\n  if (!target) {\n    return null;\n  }\n\n  var merge = {\n    whenEntered: getWhenEntered(target.descriptor.id, userDirection, oldMerge),\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n\n  var withMerge = _extends({}, previousImpact, {\n    destination: null,\n    merge: merge\n  });\n\n  return withMerge;\n});\n\nvar isPartiallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n\n    if (isContained) {\n      return true;\n    }\n\n    var isPartiallyVisibleVertically = isWithinVertical(subject.top) || isWithinVertical(subject.bottom);\n    var isPartiallyVisibleHorizontally = isWithinHorizontal(subject.left) || isWithinHorizontal(subject.right);\n    var isPartiallyContained = isPartiallyVisibleVertically && isPartiallyVisibleHorizontally;\n\n    if (isPartiallyContained) {\n      return true;\n    }\n\n    var isBiggerVertically = subject.top < frame.top && subject.bottom > frame.bottom;\n    var isBiggerHorizontally = subject.left < frame.left && subject.right > frame.right;\n    var isTargetBiggerThanFrame = isBiggerVertically && isBiggerHorizontally;\n\n    if (isTargetBiggerThanFrame) {\n      return true;\n    }\n\n    var isTargetBiggerOnOneAxis = isBiggerVertically && isPartiallyVisibleHorizontally || isBiggerHorizontally && isPartiallyVisibleVertically;\n    return isTargetBiggerOnOneAxis;\n  };\n});\n\nvar isTotallyVisibleThroughFrame = (function (frame) {\n  var isWithinVertical = isWithin(frame.top, frame.bottom);\n  var isWithinHorizontal = isWithin(frame.left, frame.right);\n  return function (subject) {\n    var isContained = isWithinVertical(subject.top) && isWithinVertical(subject.bottom) && isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    return isContained;\n  };\n});\n\nvar isTotallyVisibleThroughFrameOnAxis = (function (axis) {\n  return function (frame) {\n    var isWithinVertical = isWithin(frame.top, frame.bottom);\n    var isWithinHorizontal = isWithin(frame.left, frame.right);\n    return function (subject) {\n      if (axis === vertical) {\n        return isWithinVertical(subject.top) && isWithinVertical(subject.bottom);\n      }\n\n      return isWithinHorizontal(subject.left) && isWithinHorizontal(subject.right);\n    };\n  };\n});\n\nvar getDroppableDisplaced = function getDroppableDisplaced(target, destination) {\n  var displacement = destination.frame ? destination.frame.scroll.diff.displacement : origin;\n  return offsetByPosition(target, displacement);\n};\n\nvar isVisibleInDroppable = function isVisibleInDroppable(target, destination, isVisibleThroughFrameFn) {\n  if (!destination.subject.active) {\n    return false;\n  }\n\n  return isVisibleThroughFrameFn(destination.subject.active)(target);\n};\n\nvar isVisibleInViewport = function isVisibleInViewport(target, viewport, isVisibleThroughFrameFn) {\n  return isVisibleThroughFrameFn(viewport)(target);\n};\n\nvar isVisible = function isVisible(_ref) {\n  var toBeDisplaced = _ref.target,\n      destination = _ref.destination,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      isVisibleThroughFrameFn = _ref.isVisibleThroughFrameFn;\n  var displacedTarget = withDroppableDisplacement ? getDroppableDisplaced(toBeDisplaced, destination) : toBeDisplaced;\n  return isVisibleInDroppable(displacedTarget, destination, isVisibleThroughFrameFn) && isVisibleInViewport(displacedTarget, viewport, isVisibleThroughFrameFn);\n};\n\nvar isPartiallyVisible = function isPartiallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isPartiallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisible = function isTotallyVisible(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrame\n  }));\n};\nvar isTotallyVisibleOnAxis = function isTotallyVisibleOnAxis(args) {\n  return isVisible(_extends({}, args, {\n    isVisibleThroughFrameFn: isTotallyVisibleThroughFrameOnAxis(args.destination.axis)\n  }));\n};\n\nvar getShouldAnimate = function getShouldAnimate(forceShouldAnimate, isVisible, previous) {\n  if (typeof forceShouldAnimate === 'boolean') {\n    return forceShouldAnimate;\n  }\n\n  if (!isVisible) {\n    return false;\n  }\n\n  if (!previous) {\n    return true;\n  }\n\n  return previous.shouldAnimate;\n};\n\nvar getTarget = function getTarget(draggable, onLift) {\n  var marginBox = draggable.page.marginBox;\n\n  if (!didStartDisplaced(draggable.descriptor.id, onLift)) {\n    return marginBox;\n  }\n\n  var expandBy = {\n    top: onLift.displacedBy.point.y,\n    right: onLift.displacedBy.point.x,\n    bottom: 0,\n    left: 0\n  };\n  return getRect(expand(marginBox, expandBy));\n};\n\nvar getDisplacement = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var id = draggable.descriptor.id;\n  var map = previousImpact.movement.map;\n  var target = getTarget(draggable, onLift);\n  var isVisible = isPartiallyVisible({\n    target: target,\n    destination: destination,\n    viewport: viewport,\n    withDroppableDisplacement: true\n  });\n  var shouldAnimate = getShouldAnimate(forceShouldAnimate, isVisible, map[id]);\n  var displacement = {\n    draggableId: id,\n    isVisible: isVisible,\n    shouldAnimate: shouldAnimate\n  };\n  return displacement;\n});\n\nvar getDisplacementMap = memoizeOne(function (displaced) {\n  return displaced.reduce(function (map, displacement) {\n    map[displacement.draggableId] = displacement;\n    return map;\n  }, {});\n});\n\nvar getDisplacedBy = memoizeOne(function (axis, displaceBy) {\n  var displacement = displaceBy[axis.line];\n  return {\n    value: displacement,\n    point: patch(axis.line, displacement)\n  };\n});\n\nvar getReorderImpact = (function (_ref) {\n  var currentCenter = _ref.pageBorderBoxCenterWithDroppableScrollChange,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      insideDestinationWithoutDraggable = _ref.insideDestinationWithoutDraggable,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var axis = destination.axis;\n  var isMovingForward = isUserMovingForward(destination.axis, userDirection);\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var targetCenter = currentCenter[axis.line];\n  var displacement = displacedBy.value;\n  var displaced = insideDestinationWithoutDraggable.filter(function (child) {\n    var borderBox = child.page.borderBox;\n    var start = borderBox[axis.start];\n    var end = borderBox[axis.end];\n    var didStartDisplaced$1 = didStartDisplaced(child.descriptor.id, onLift);\n\n    if (isMovingForward) {\n      if (didStartDisplaced$1) {\n        return targetCenter < start;\n      }\n\n      return targetCenter < start + displacement;\n    }\n\n    if (didStartDisplaced$1) {\n      return targetCenter <= end - displacement;\n    }\n\n    return targetCenter <= end;\n  }).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      previousImpact: previousImpact,\n      viewport: viewport.frame,\n      onLift: onLift\n    });\n  });\n  var newIndex = insideDestinationWithoutDraggable.length - displaced.length;\n  var movement = {\n    displacedBy: displacedBy,\n    displaced: displaced,\n    map: getDisplacementMap(displaced)\n  };\n  var impact = {\n    movement: movement,\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: newIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar noDisplacedBy = {\n  point: origin,\n  value: 0\n};\nvar noMovement = {\n  displaced: [],\n  map: {},\n  displacedBy: noDisplacedBy\n};\nvar noImpact = {\n  movement: noMovement,\n  destination: null,\n  merge: null\n};\n\nvar removeDraggableFromList = memoizeOne(function (remove, list) {\n  return list.filter(function (item) {\n    return item.descriptor.id !== remove.descriptor.id;\n  });\n});\n\nvar getDragImpact = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      userDirection = _ref.userDirection,\n      onLift = _ref.onLift;\n  var destinationId = getDroppableOver({\n    target: pageBorderBoxCenter,\n    droppables: droppables\n  });\n\n  if (!destinationId) {\n    return noImpact;\n  }\n\n  var destination = droppables[destinationId];\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var insideDestinationWithoutDraggable = removeDraggableFromList(draggable, insideDestination);\n  var pageBorderBoxCenterWithDroppableScrollChange = withDroppableScroll(destination, pageBorderBoxCenter);\n  var withMerge = getCombineImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    previousImpact: previousImpact,\n    destination: destination,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n\n  if (withMerge) {\n    return withMerge;\n  }\n\n  return getReorderImpact({\n    pageBorderBoxCenterWithDroppableScrollChange: pageBorderBoxCenterWithDroppableScrollChange,\n    destination: destination,\n    draggable: draggable,\n    insideDestinationWithoutDraggable: insideDestinationWithoutDraggable,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: onLift\n  });\n});\n\nvar getHomeLocation = (function (descriptor) {\n  return {\n    index: descriptor.index,\n    droppableId: descriptor.droppableId\n  };\n});\n\nvar getHomeOnLift = (function (_ref) {\n  var draggable = _ref.draggable,\n      home = _ref.home,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, draggable.displaceBy);\n  var insideHome = getDraggablesInsideDroppable(home.descriptor.id, draggables);\n  var originallyDisplaced = insideHome.slice(draggable.descriptor.index + 1);\n  var wasDisplaced = originallyDisplaced.reduce(function (previous, item) {\n    previous[item.descriptor.id] = true;\n    return previous;\n  }, {});\n  var onLift = {\n    displacedBy: displacedBy,\n    wasDisplaced: wasDisplaced\n  };\n  var displaced = originallyDisplaced.map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: home,\n      previousImpact: noImpact,\n      viewport: viewport.frame,\n      forceShouldAnimate: false,\n      onLift: onLift\n    });\n  });\n  var movement = {\n    displaced: displaced,\n    map: getDisplacementMap(displaced),\n    displacedBy: displacedBy\n  };\n  var impact = {\n    movement: movement,\n    destination: getHomeLocation(draggable.descriptor),\n    merge: null\n  };\n  return {\n    impact: impact,\n    onLift: onLift\n  };\n});\n\nvar getDragPositions = (function (_ref) {\n  var oldInitial = _ref.initial,\n      oldCurrent = _ref.current,\n      oldClientBorderBoxCenter = _ref.oldClientBorderBoxCenter,\n      newClientBorderBoxCenter = _ref.newClientBorderBoxCenter,\n      viewport = _ref.viewport;\n  var shift = subtract(newClientBorderBoxCenter, oldClientBorderBoxCenter);\n\n  var initial = function () {\n    var client = {\n      selection: add(oldInitial.client.selection, shift),\n      borderBoxCenter: newClientBorderBoxCenter,\n      offset: origin\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.initial),\n      borderBoxCenter: add(client.selection, viewport.scroll.initial)\n    };\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  var current = function () {\n    var reverse = negate(shift);\n    var offset = add(oldCurrent.client.offset, reverse);\n    var client = {\n      selection: add(initial.client.selection, offset),\n      borderBoxCenter: add(initial.client.borderBoxCenter, offset),\n      offset: offset\n    };\n    var page = {\n      selection: add(client.selection, viewport.scroll.current),\n      borderBoxCenter: add(client.borderBoxCenter, viewport.scroll.current)\n    };\n    !isEqual(oldCurrent.client.borderBoxCenter, client.borderBoxCenter) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n        Incorrect new client center position.\\n        Expected (\" + oldCurrent.client.borderBoxCenter.x + \", \" + oldCurrent.client.borderBoxCenter.y + \")\\n        to equal (\" + client.borderBoxCenter.x + \", \" + client.borderBoxCenter.y + \")\\n      \") : invariant(false) : void 0;\n    return {\n      client: client,\n      page: page\n    };\n  }();\n\n  return {\n    current: current,\n    initial: initial\n  };\n});\n\nvar offsetDraggable = (function (_ref) {\n  var draggable = _ref.draggable,\n      offset$1 = _ref.offset,\n      initialWindowScroll = _ref.initialWindowScroll;\n  var client = offset(draggable.client, offset$1);\n  var page = withScroll(client, initialWindowScroll);\n\n  var moved = _extends({}, draggable, {\n    placeholder: _extends({}, draggable.placeholder, {\n      client: client\n    }),\n    client: client,\n    page: page\n  });\n\n  return moved;\n});\n\nvar adjustExistingForAdditionsAndRemovals = (function (_ref) {\n  var existing = _ref.existing,\n      droppables = _ref.droppables,\n      addedDraggables = _ref.additions,\n      removedDraggables = _ref.removals,\n      viewport = _ref.viewport;\n  var shifted = {};\n  toDroppableList(droppables).forEach(function (droppable) {\n    var axis = droppable.axis;\n    var original = getDraggablesInsideDroppable(droppable.descriptor.id, existing);\n    var toShift = {};\n\n    var addShift = function addShift(id, shift) {\n      var previous = toShift[id];\n\n      if (!previous) {\n        toShift[id] = shift;\n        return;\n      }\n\n      toShift[id] = {\n        indexChange: previous.indexChange + shift.indexChange,\n        offset: add(previous.offset, shift.offset)\n      };\n    };\n\n    var removals = toDraggableMap(removedDraggables.map(function (id) {\n      var item = existing[id];\n      !item ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not find removed draggable \\\"\" + id + \"\\\"\") : invariant(false) : void 0;\n      return item;\n    }).filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    }));\n    var withRemovals = original.filter(function (item, index) {\n      var isBeingRemoved = Boolean(removals[item.descriptor.id]);\n\n      if (!isBeingRemoved) {\n        return true;\n      }\n\n      var offset = negate(patch(axis.line, item.displaceBy[axis.line]));\n      original.slice(index).forEach(function (sibling) {\n        if (removals[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: -1,\n          offset: offset\n        });\n      });\n      return false;\n    });\n    var additions = addedDraggables.filter(function (draggable) {\n      return draggable.descriptor.droppableId === droppable.descriptor.id;\n    });\n    var withAdditions = withRemovals.slice(0);\n    additions.forEach(function (item) {\n      withAdditions.splice(item.descriptor.index, 0, item);\n    });\n    var additionMap = toDraggableMap(additions);\n    withAdditions.forEach(function (item, index) {\n      var wasAdded = Boolean(additionMap[item.descriptor.id]);\n\n      if (!wasAdded) {\n        return;\n      }\n\n      var offset = patch(axis.line, item.client.marginBox[axis.size]);\n      withAdditions.slice(index).forEach(function (sibling) {\n        if (additionMap[sibling.descriptor.id]) {\n          return;\n        }\n\n        addShift(sibling.descriptor.id, {\n          indexChange: 1,\n          offset: offset\n        });\n      });\n    });\n    withAdditions.forEach(function (item) {\n      if (additionMap[item.descriptor.id]) {\n        return;\n      }\n\n      var shift = toShift[item.descriptor.id];\n\n      if (!shift) {\n        return;\n      }\n\n      var moved = offsetDraggable({\n        draggable: item,\n        offset: shift.offset,\n        initialWindowScroll: viewport.scroll.initial\n      });\n      var index = item.descriptor.index + shift.indexChange;\n\n      var updated = _extends({}, moved, {\n        descriptor: _extends({}, item.descriptor, {\n          index: index\n        })\n      });\n\n      shifted[moved.descriptor.id] = updated;\n    });\n  });\n\n  var map = _extends({}, existing, shifted);\n\n  return map;\n});\n\nvar adjustAdditionsForScrollChanges = (function (_ref) {\n  var additions = _ref.additions,\n      updatedDroppables = _ref.updatedDroppables,\n      viewport = _ref.viewport;\n  var windowScrollChange = viewport.scroll.diff.value;\n  return additions.map(function (draggable) {\n    var droppableId = draggable.descriptor.droppableId;\n    var modified = updatedDroppables[droppableId];\n    var frame = modified.frame;\n    !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n    var droppableScrollChange = frame.scroll.diff.value;\n    var totalChange = add(windowScrollChange, droppableScrollChange);\n    var moved = offsetDraggable({\n      draggable: draggable,\n      offset: totalChange,\n      initialWindowScroll: viewport.scroll.initial\n    });\n    return moved;\n  });\n});\n\nvar adjustAdditionsForCollapsedHome = (function (_ref) {\n  var additions = _ref.additions,\n      dragging = _ref.dragging,\n      home = _ref.home,\n      viewport = _ref.viewport;\n  var displacedBy = getDisplacedBy(home.axis, dragging.displaceBy);\n  return additions.map(function (draggable) {\n    if (draggable.descriptor.droppableId !== home.descriptor.id) {\n      return draggable;\n    }\n\n    if (draggable.descriptor.index < dragging.descriptor.index) {\n      return draggable;\n    }\n\n    return offsetDraggable({\n      draggable: draggable,\n      offset: displacedBy.point,\n      initialWindowScroll: viewport.scroll.initial\n    });\n  });\n});\n\nvar updateDraggables = (function (_ref) {\n  var updatedDroppables = _ref.updatedDroppables,\n      criticalId = _ref.criticalId,\n      unmodifiedExisting = _ref.existing,\n      unmodifiedAdditions = _ref.additions,\n      removals = _ref.removals,\n      viewport = _ref.viewport;\n  var existing = adjustExistingForAdditionsAndRemovals({\n    droppables: updatedDroppables,\n    existing: unmodifiedExisting,\n    additions: unmodifiedAdditions,\n    removals: removals,\n    viewport: viewport\n  });\n  var dragging = existing[criticalId];\n  var home = updatedDroppables[dragging.descriptor.droppableId];\n  var scrolledAdditions = adjustAdditionsForScrollChanges({\n    additions: unmodifiedAdditions,\n    updatedDroppables: updatedDroppables,\n    viewport: viewport\n  });\n  var additions = adjustAdditionsForCollapsedHome({\n    additions: scrolledAdditions,\n    dragging: dragging,\n    home: home,\n    viewport: viewport\n  });\n\n  var map = _extends({}, existing, toDraggableMap(additions));\n\n  removals.forEach(function (id) {\n    delete map[id];\n  });\n  return map;\n});\n\nvar getMaxScroll = (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n      scrollWidth = _ref.scrollWidth,\n      height = _ref.height,\n      width = _ref.width;\n  var maxScroll = subtract({\n    x: scrollWidth,\n    y: scrollHeight\n  }, {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});\n\nvar getDroppableDimension = (function (_ref) {\n  var descriptor = _ref.descriptor,\n      isEnabled = _ref.isEnabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      isFixedOnPage = _ref.isFixedOnPage,\n      direction = _ref.direction,\n      client = _ref.client,\n      page = _ref.page,\n      closest = _ref.closest;\n\n  var frame = function () {\n    if (!closest) {\n      return null;\n    }\n\n    var scrollSize = closest.scrollSize,\n        frameClient = closest.client;\n    var maxScroll = getMaxScroll({\n      scrollHeight: scrollSize.scrollHeight,\n      scrollWidth: scrollSize.scrollWidth,\n      height: frameClient.paddingBox.height,\n      width: frameClient.paddingBox.width\n    });\n    return {\n      pageMarginBox: closest.page.marginBox,\n      frameClient: frameClient,\n      scrollSize: scrollSize,\n      shouldClipSubject: closest.shouldClipSubject,\n      scroll: {\n        initial: closest.scroll,\n        current: closest.scroll,\n        max: maxScroll,\n        diff: {\n          value: origin,\n          displacement: origin\n        }\n      }\n    };\n  }();\n\n  var axis = direction === 'vertical' ? vertical : horizontal;\n  var subject = getSubject({\n    page: page,\n    withPlaceholder: null,\n    axis: axis,\n    frame: frame\n  });\n  var dimension = {\n    descriptor: descriptor,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: isFixedOnPage,\n    axis: axis,\n    isEnabled: isEnabled,\n    client: client,\n    page: page,\n    frame: frame,\n    subject: subject\n  };\n  return dimension;\n});\n\nvar isHomeOf = (function (draggable, destination) {\n  return draggable.descriptor.droppableId === destination.descriptor.id;\n});\n\nvar getRequiredGrowthForPlaceholder = function getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables) {\n  var axis = droppable.axis;\n  var availableSpace = droppable.subject.page.contentBox[axis.size];\n  var insideDroppable = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var spaceUsed = insideDroppable.reduce(function (sum, dimension) {\n    return sum + dimension.client.marginBox[axis.size];\n  }, 0);\n  var requiredSpace = spaceUsed + placeholderSize[axis.line];\n  var needsToGrowBy = requiredSpace - availableSpace;\n\n  if (needsToGrowBy <= 0) {\n    return null;\n  }\n\n  return patch(axis.line, needsToGrowBy);\n};\n\nvar withMaxScroll = function withMaxScroll(frame, max) {\n  return _extends({}, frame, {\n    scroll: _extends({}, frame.scroll, {\n      max: max\n    })\n  });\n};\n\nvar addPlaceholder = function addPlaceholder(droppable, draggable, draggables) {\n  var frame = droppable.frame;\n  !!isHomeOf(draggable, droppable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not add placeholder space to home list') : invariant(false) : void 0;\n  !!droppable.subject.withPlaceholder ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add placeholder size to a subject when it already has one') : invariant(false) : void 0;\n  var placeholderSize = getDisplacedBy(droppable.axis, draggable.displaceBy).point;\n  var requiredGrowth = getRequiredGrowthForPlaceholder(droppable, placeholderSize, draggables);\n  var added = {\n    placeholderSize: placeholderSize,\n    increasedBy: requiredGrowth,\n    oldFrameMaxScroll: droppable.frame ? droppable.frame.scroll.max : null\n  };\n\n  if (!frame) {\n    var _subject = getSubject({\n      page: droppable.subject.page,\n      withPlaceholder: added,\n      axis: droppable.axis,\n      frame: droppable.frame\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject\n    });\n  }\n\n  var maxScroll = requiredGrowth ? add(frame.scroll.max, requiredGrowth) : frame.scroll.max;\n  var newFrame = withMaxScroll(frame, maxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    withPlaceholder: added,\n    axis: droppable.axis,\n    frame: newFrame\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\nvar removePlaceholder = function removePlaceholder(droppable) {\n  var added = droppable.subject.withPlaceholder;\n  !added ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove placeholder form subject when there was none') : invariant(false) : void 0;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    var _subject2 = getSubject({\n      page: droppable.subject.page,\n      axis: droppable.axis,\n      frame: null,\n      withPlaceholder: null\n    });\n\n    return _extends({}, droppable, {\n      subject: _subject2\n    });\n  }\n\n  var oldMaxScroll = added.oldFrameMaxScroll;\n  !oldMaxScroll ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected droppable with frame to have old max frame scroll when removing placeholder') : invariant(false) : void 0;\n  var newFrame = withMaxScroll(frame, oldMaxScroll);\n  var subject = getSubject({\n    page: droppable.subject.page,\n    axis: droppable.axis,\n    frame: newFrame,\n    withPlaceholder: null\n  });\n  return _extends({}, droppable, {\n    subject: subject,\n    frame: newFrame\n  });\n};\n\nvar getFrame = (function (droppable) {\n  var frame = droppable.frame;\n  !frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected Droppable to have a frame') : invariant(false) : void 0;\n  return frame;\n});\n\nvar throwIfSpacingChange = function throwIfSpacingChange(old, fresh) {\n  if (process.env.NODE_ENV !== 'production') {\n    var getMessage = function getMessage(spacingType) {\n      return \"Cannot change the \" + spacingType + \" of a Droppable during a drag\";\n    };\n\n    !isEqual$1(old.margin, fresh.margin) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('margin')) : invariant(false) : void 0;\n    !isEqual$1(old.border, fresh.border) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('border')) : invariant(false) : void 0;\n    !isEqual$1(old.padding, fresh.padding) ? process.env.NODE_ENV !== \"production\" ? invariant(false, getMessage('padding')) : invariant(false) : void 0;\n  }\n};\n\nvar adjustBorderBoxSize = function adjustBorderBoxSize(axis, old, fresh) {\n  return {\n    top: old.top,\n    left: old.left,\n    right: old.left + fresh.width,\n    bottom: old.top + fresh.height\n  };\n};\n\nvar updateDroppables = (function (_ref) {\n  var modified = _ref.modified,\n      existing = _ref.existing,\n      viewport = _ref.viewport;\n\n  if (!modified.length) {\n    return existing;\n  }\n\n  var adjusted = modified.map(function (provided) {\n    var raw = existing[provided.descriptor.id];\n    !raw ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not locate droppable in existing droppables') : invariant(false) : void 0;\n    var hasPlaceholder = Boolean(raw.subject.withPlaceholder);\n    var dimension = hasPlaceholder ? removePlaceholder(raw) : raw;\n    var oldClient = dimension.client;\n    var newClient = provided.client;\n    var oldScrollable = getFrame(dimension);\n    var newScrollable = getFrame(provided);\n\n    if (process.env.NODE_ENV !== 'production') {\n      throwIfSpacingChange(dimension.client, provided.client);\n      throwIfSpacingChange(oldScrollable.frameClient, newScrollable.frameClient);\n      var isFrameEqual = oldScrollable.frameClient.borderBox.height === newScrollable.frameClient.borderBox.height && oldScrollable.frameClient.borderBox.width === newScrollable.frameClient.borderBox.width;\n      !isFrameEqual ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'The width and height of your Droppable scroll container cannot change when adding or removing Draggables during a drag') : invariant(false) : void 0;\n    }\n\n    var client = createBox({\n      borderBox: adjustBorderBoxSize(dimension.axis, oldClient.borderBox, newClient.borderBox),\n      margin: oldClient.margin,\n      border: oldClient.border,\n      padding: oldClient.padding\n    });\n    var closest = {\n      client: oldScrollable.frameClient,\n      page: withScroll(oldScrollable.frameClient, viewport.scroll.initial),\n      shouldClipSubject: oldScrollable.shouldClipSubject,\n      scrollSize: newScrollable.scrollSize,\n      scroll: oldScrollable.scroll.initial\n    };\n    var withSizeChanged = getDroppableDimension({\n      descriptor: provided.descriptor,\n      isEnabled: provided.isEnabled,\n      isCombineEnabled: provided.isCombineEnabled,\n      isFixedOnPage: provided.isFixedOnPage,\n      direction: provided.axis.direction,\n      client: client,\n      page: withScroll(client, viewport.scroll.initial),\n      closest: closest\n    });\n    var scrolled = scrollDroppable(withSizeChanged, newScrollable.scroll.current);\n    return scrolled;\n  });\n\n  var result = _extends({}, existing, toDroppableMap(adjusted));\n\n  return result;\n});\n\nvar withNoAnimatedDisplacement = (function (impact) {\n  var displaced = impact.movement.displaced;\n\n  if (!displaced.length) {\n    return impact;\n  }\n\n  var withoutAnimation = displaced.map(function (displacement) {\n    if (!displacement.isVisible) {\n      return displacement;\n    }\n\n    if (!displacement.shouldAnimate) {\n      return displacement;\n    }\n\n    return _extends({}, displacement, {\n      shouldAnimate: false\n    });\n  });\n\n  var result = _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: withoutAnimation,\n      map: getDisplacementMap(withoutAnimation)\n    })\n  });\n\n  return result;\n});\n\nvar patchDroppableMap = (function (droppables, updated) {\n  var _extends2;\n\n  return _extends({}, droppables, (_extends2 = {}, _extends2[updated.descriptor.id] = updated, _extends2));\n});\n\nvar clearUnusedPlaceholder = function clearUnusedPlaceholder(_ref) {\n  var previousImpact = _ref.previousImpact,\n      impact = _ref.impact,\n      droppables = _ref.droppables;\n  var last = whatIsDraggedOver(previousImpact);\n  var now = whatIsDraggedOver(impact);\n\n  if (!last) {\n    return droppables;\n  }\n\n  if (last === now) {\n    return droppables;\n  }\n\n  var lastDroppable = droppables[last];\n\n  if (!lastDroppable.subject.withPlaceholder) {\n    return droppables;\n  }\n\n  var updated = removePlaceholder(lastDroppable);\n  return patchDroppableMap(droppables, updated);\n};\n\nvar recomputePlaceholders = (function (_ref2) {\n  var draggable = _ref2.draggable,\n      draggables = _ref2.draggables,\n      droppables = _ref2.droppables,\n      previousImpact = _ref2.previousImpact,\n      impact = _ref2.impact;\n  var cleaned = clearUnusedPlaceholder({\n    previousImpact: previousImpact,\n    impact: impact,\n    droppables: droppables\n  });\n  var isOver = whatIsDraggedOver(impact);\n\n  if (!isOver) {\n    return cleaned;\n  }\n\n  var droppable = droppables[isOver];\n\n  if (isHomeOf(draggable, droppable)) {\n    return cleaned;\n  }\n\n  if (droppable.subject.withPlaceholder) {\n    return cleaned;\n  }\n\n  var patched = addPlaceholder(droppable, draggable, draggables);\n  return patchDroppableMap(cleaned, patched);\n});\n\nvar timingsKey = 'Processing dynamic changes';\nvar publishWhileDragging = (function (_ref) {\n  var _extends2, _extends3;\n\n  var state = _ref.state,\n      published = _ref.published;\n  start(timingsKey);\n  var updatedDroppables = updateDroppables({\n    modified: published.modified,\n    existing: state.dimensions.droppables,\n    viewport: state.viewport\n  });\n  var draggables = updateDraggables({\n    updatedDroppables: updatedDroppables,\n    criticalId: state.critical.draggable.id,\n    existing: state.dimensions.draggables,\n    additions: published.additions,\n    removals: published.removals,\n    viewport: state.viewport\n  });\n  var critical = {\n    draggable: draggables[state.critical.draggable.id].descriptor,\n    droppable: updatedDroppables[state.critical.droppable.id].descriptor\n  };\n  var original = state.dimensions.draggables[critical.draggable.id];\n  var updated = draggables[critical.draggable.id];\n  var droppables = recomputePlaceholders({\n    draggable: updated,\n    draggables: draggables,\n    droppables: updatedDroppables,\n    previousImpact: state.impact,\n    impact: state.impact\n  });\n  var dimensions = {\n    draggables: draggables,\n    droppables: droppables\n  };\n\n  var _getDragPositions = getDragPositions({\n    initial: state.initial,\n    current: state.current,\n    oldClientBorderBoxCenter: original.client.borderBox.center,\n    newClientBorderBoxCenter: updated.client.borderBox.center,\n    viewport: state.viewport\n  }),\n      initial = _getDragPositions.initial,\n      current = _getDragPositions.current;\n\n  var _getHomeOnLift = getHomeOnLift({\n    draggable: updated,\n    home: dimensions.droppables[critical.droppable.id],\n    draggables: dimensions.draggables,\n    viewport: state.viewport\n  }),\n      homeImpact = _getHomeOnLift.impact,\n      onLift = _getHomeOnLift.onLift;\n\n  var impact = withNoAnimatedDisplacement(getDragImpact({\n    pageBorderBoxCenter: current.page.borderBoxCenter,\n    draggable: updated,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: homeImpact,\n    viewport: state.viewport,\n    userDirection: state.userDirection,\n    onLift: onLift\n  }));\n  var isOrphaned = Boolean(state.movementMode === 'SNAP' && !whatIsDraggedOver(impact));\n  !!isOrphaned ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Dragging item no longer has a valid merge/destination after a dynamic update. This is not supported') : invariant(false) : void 0;\n  finish(timingsKey);\n\n  var draggingState = _extends({\n    phase: 'DRAGGING'\n  }, state, (_extends2 = {}, _extends2[\"phase\"] = 'DRAGGING', _extends2.critical = critical, _extends2.current = current, _extends2.initial = initial, _extends2.impact = impact, _extends2.dimensions = dimensions, _extends2.onLift = onLift, _extends2.onLiftImpact = homeImpact, _extends2.forceShouldAnimate = false, _extends2));\n\n  if (state.phase === 'COLLECTING') {\n    return draggingState;\n  }\n\n  var dropPending = _extends({\n    phase: 'DROP_PENDING'\n  }, draggingState, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.reason = state.reason, _extends3.isWaiting = false, _extends3));\n\n  return dropPending;\n});\n\nvar forward = {\n  vertical: 'down',\n  horizontal: 'right'\n};\nvar backward = {\n  vertical: 'up',\n  horizontal: 'left'\n};\n\nvar moveToNextCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      originalInsideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  if (previousImpact.merge) {\n    return null;\n  }\n\n  var location = previousImpact.destination;\n  !location ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Need a previous location to move from into a combine') : invariant(false) : void 0;\n  var currentIndex = location.index;\n\n  var currentInsideDestination = function () {\n    var shallow = originalInsideDestination.slice();\n\n    if (isInHomeList) {\n      shallow.splice(draggable.descriptor.index, 1);\n    }\n\n    shallow.splice(location.index, 0, draggable);\n    return shallow;\n  }();\n\n  var targetIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (targetIndex < 0) {\n    return null;\n  }\n\n  if (targetIndex > currentInsideDestination.length - 1) {\n    return null;\n  }\n\n  var target = currentInsideDestination[targetIndex];\n  !(target !== draggable) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot combine with self') : invariant(false) : void 0;\n  var merge = {\n    whenEntered: isMovingForward ? forward : backward,\n    combine: {\n      draggableId: target.descriptor.id,\n      droppableId: destination.descriptor.id\n    }\n  };\n  var impact = {\n    movement: previousImpact.movement,\n    destination: null,\n    merge: merge\n  };\n  return impact;\n});\n\nvar addClosest = function addClosest(add, displaced) {\n  var added = {\n    draggableId: add.descriptor.id,\n    isVisible: true,\n    shouldAnimate: true\n  };\n  return [added].concat(displaced);\n};\nvar removeClosest = function removeClosest(displaced) {\n  return displaced.slice(1);\n};\n\nvar fromReorder = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      initialInside = _ref.insideDestination,\n      location = _ref.location;\n  var insideDestination = initialInside.slice();\n  var currentIndex = location.index;\n  var isInForeignList = !isInHomeList;\n\n  if (isInForeignList) {\n    insideDestination.splice(location.index, 0, draggable);\n  }\n\n  var proposedIndex = isMovingForward ? currentIndex + 1 : currentIndex - 1;\n\n  if (proposedIndex < 0) {\n    return null;\n  }\n\n  if (proposedIndex > insideDestination.length - 1) {\n    return null;\n  }\n\n  return {\n    proposedIndex: proposedIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar fromCombine = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      draggables = _ref.draggables,\n      merge = _ref.merge,\n      onLift = _ref.onLift;\n\n  if (!destination.isCombineEnabled) {\n    return null;\n  }\n\n  var movement = previousImpact.movement;\n  var combineId = merge.combine.draggableId;\n  var combine = draggables[combineId];\n  var combineIndex = combine.descriptor.index;\n  var wasDisplacedAtStart = didStartDisplaced(combineId, onLift);\n\n  if (wasDisplacedAtStart) {\n    var hasDisplacedFromStart = !movement.map[combineId];\n\n    if (hasDisplacedFromStart) {\n      if (isMovingForward) {\n        return {\n          proposedIndex: combineIndex,\n          modifyDisplacement: false\n        };\n      }\n\n      return {\n        proposedIndex: combineIndex - 1,\n        modifyDisplacement: true\n      };\n    }\n\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex - 1,\n      modifyDisplacement: false\n    };\n  }\n\n  var isDisplaced = Boolean(movement.map[combineId]);\n\n  if (isDisplaced) {\n    if (isMovingForward) {\n      return {\n        proposedIndex: combineIndex + 1,\n        modifyDisplacement: true\n      };\n    }\n\n    return {\n      proposedIndex: combineIndex,\n      modifyDisplacement: false\n    };\n  }\n\n  if (isMovingForward) {\n    return {\n      proposedIndex: combineIndex + 1,\n      modifyDisplacement: false\n    };\n  }\n\n  return {\n    proposedIndex: combineIndex,\n    modifyDisplacement: true\n  };\n});\n\nvar moveToNextIndex = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      isInHomeList = _ref.isInHomeList,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      previousImpact = _ref.previousImpact,\n      onLift = _ref.onLift;\n\n  var instruction = function () {\n    if (previousImpact.destination) {\n      return fromReorder({\n        isMovingForward: isMovingForward,\n        isInHomeList: isInHomeList,\n        draggable: draggable,\n        location: previousImpact.destination,\n        insideDestination: insideDestination\n      });\n    }\n\n    if (previousImpact.merge) {\n      return fromCombine({\n        isMovingForward: isMovingForward,\n        destination: destination,\n        previousImpact: previousImpact,\n        draggables: draggables,\n        merge: previousImpact.merge,\n        onLift: onLift\n      });\n    }\n    return null;\n  }();\n\n  if (instruction == null) {\n    return null;\n  }\n\n  var proposedIndex = instruction.proposedIndex,\n      modifyDisplacement = instruction.modifyDisplacement;\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n\n  var displaced = function () {\n    var lastDisplaced = previousImpact.movement.displaced;\n\n    if (!modifyDisplacement) {\n      return lastDisplaced;\n    }\n\n    if (isMovingForward) {\n      return removeClosest(lastDisplaced);\n    }\n\n    var withoutDraggable = removeDraggableFromList(draggable, insideDestination);\n    var atProposedIndex = withoutDraggable[proposedIndex];\n    return addClosest(atProposedIndex, lastDisplaced);\n  }();\n\n  return {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n});\n\nvar whenCombining = (function (_ref) {\n  var combine = _ref.combine,\n      onLift = _ref.onLift,\n      movement = _ref.movement,\n      draggables = _ref.draggables;\n  var combineWith = combine.draggableId;\n  var center = draggables[combineWith].page.borderBox.center;\n  var displaceBy = getCombinedItemDisplacement({\n    displaced: movement.map,\n    onLift: onLift,\n    combineWith: combineWith,\n    displacedBy: movement.displacedBy\n  });\n  return add(center, displaceBy);\n});\n\nvar distanceFromStartToBorderBoxCenter = function distanceFromStartToBorderBoxCenter(axis, box) {\n  return box.margin[axis.start] + box.borderBox[axis.size] / 2;\n};\n\nvar distanceFromEndToBorderBoxCenter = function distanceFromEndToBorderBoxCenter(axis, box) {\n  return box.margin[axis.end] + box.borderBox[axis.size] / 2;\n};\n\nvar getCrossAxisBorderBoxCenter = function getCrossAxisBorderBoxCenter(axis, target, isMoving) {\n  return target[axis.crossAxisStart] + isMoving.margin[axis.crossAxisStart] + isMoving.borderBox[axis.crossAxisSize] / 2;\n};\n\nvar goAfter = function goAfter(_ref) {\n  var axis = _ref.axis,\n      moveRelativeTo = _ref.moveRelativeTo,\n      isMoving = _ref.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.end] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goBefore = function goBefore(_ref2) {\n  var axis = _ref2.axis,\n      moveRelativeTo = _ref2.moveRelativeTo,\n      isMoving = _ref2.isMoving;\n  return patch(axis.line, moveRelativeTo.marginBox[axis.start] - distanceFromEndToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveRelativeTo.marginBox, isMoving));\n};\nvar goIntoStart = function goIntoStart(_ref3) {\n  var axis = _ref3.axis,\n      moveInto = _ref3.moveInto,\n      isMoving = _ref3.isMoving;\n  return patch(axis.line, moveInto.contentBox[axis.start] + distanceFromStartToBorderBoxCenter(axis, isMoving), getCrossAxisBorderBoxCenter(axis, moveInto.contentBox, isMoving));\n};\n\nvar whenReordering = (function (_ref) {\n  var movement = _ref.movement,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      droppable = _ref.droppable,\n      onLift = _ref.onLift;\n  var insideDestination = getDraggablesInsideDroppable(droppable.descriptor.id, draggables);\n  var draggablePage = draggable.page;\n  var axis = droppable.axis;\n\n  if (!insideDestination.length) {\n    return goIntoStart({\n      axis: axis,\n      moveInto: droppable.page,\n      isMoving: draggablePage\n    });\n  }\n\n  var displaced = movement.displaced,\n      displacedBy = movement.displacedBy;\n\n  if (displaced.length) {\n    var closestAfter = draggables[displaced[0].draggableId];\n\n    if (didStartDisplaced(closestAfter.descriptor.id, onLift)) {\n      return goBefore({\n        axis: axis,\n        moveRelativeTo: closestAfter.page,\n        isMoving: draggablePage\n      });\n    }\n\n    var withDisplacement = offset(closestAfter.page, displacedBy.point);\n    return goBefore({\n      axis: axis,\n      moveRelativeTo: withDisplacement,\n      isMoving: draggablePage\n    });\n  }\n\n  var last = insideDestination[insideDestination.length - 1];\n\n  if (last.descriptor.id === draggable.descriptor.id) {\n    return draggablePage.borderBox.center;\n  }\n\n  if (didStartDisplaced(last.descriptor.id, onLift)) {\n    var page = offset(last.page, negate(onLift.displacedBy.point));\n    return goAfter({\n      axis: axis,\n      moveRelativeTo: page,\n      isMoving: draggablePage\n    });\n  }\n\n  return goAfter({\n    axis: axis,\n    moveRelativeTo: last.page,\n    isMoving: draggablePage\n  });\n});\n\nvar withDroppableDisplacement = (function (droppable, point) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return point;\n  }\n\n  return add(point, frame.scroll.diff.displacement);\n});\n\nvar getResultWithoutDroppableDisplacement = function getResultWithoutDroppableDisplacement(_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift;\n  var merge = impact.merge;\n  var destination = impact.destination;\n  var original = draggable.page.borderBox.center;\n\n  if (!droppable) {\n    return original;\n  }\n\n  if (destination) {\n    return whenReordering({\n      movement: impact.movement,\n      draggable: draggable,\n      draggables: draggables,\n      droppable: droppable,\n      onLift: onLift\n    });\n  }\n\n  if (merge) {\n    return whenCombining({\n      movement: impact.movement,\n      combine: merge.combine,\n      draggables: draggables,\n      onLift: onLift\n    });\n  }\n\n  return original;\n};\n\nvar getPageBorderBoxCenterFromImpact = (function (args) {\n  var withoutDisplacement = getResultWithoutDroppableDisplacement(args);\n  var droppable = args.droppable;\n  var withDisplacement = droppable ? withDroppableDisplacement(droppable, withoutDisplacement) : withoutDisplacement;\n  return withDisplacement;\n});\n\nvar scrollViewport = (function (viewport, newScroll) {\n  var diff = subtract(newScroll, viewport.scroll.initial);\n  var displacement = negate(diff);\n  var frame = getRect({\n    top: newScroll.y,\n    bottom: newScroll.y + viewport.frame.height,\n    left: newScroll.x,\n    right: newScroll.x + viewport.frame.width\n  });\n  var updated = {\n    frame: frame,\n    scroll: {\n      initial: viewport.scroll.initial,\n      max: viewport.scroll.max,\n      current: newScroll,\n      diff: {\n        value: diff,\n        displacement: displacement\n      }\n    }\n  };\n  return updated;\n});\n\nvar withNewDisplacement = (function (impact, displaced) {\n  return _extends({}, impact, {\n    movement: _extends({}, impact.movement, {\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    })\n  });\n});\n\nvar speculativelyIncrease = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      maxScrollChange = _ref.maxScrollChange,\n      onLift = _ref.onLift;\n  var displaced = impact.movement.displaced;\n  var scrolledViewport = scrollViewport(viewport, add(viewport.scroll.current, maxScrollChange));\n  var scrolledDroppable = destination.frame ? scrollDroppable(destination, add(destination.frame.scroll.current, maxScrollChange)) : destination;\n  var updated = displaced.map(function (entry) {\n    if (entry.isVisible) {\n      return entry;\n    }\n\n    var draggable = draggables[entry.draggableId];\n    var withScrolledViewport = getDisplacement({\n      draggable: draggable,\n      destination: destination,\n      previousImpact: impact,\n      viewport: scrolledViewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledViewport.isVisible) {\n      return withScrolledViewport;\n    }\n\n    var withScrolledDroppable = getDisplacement({\n      draggable: draggable,\n      destination: scrolledDroppable,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: false\n    });\n\n    if (withScrolledDroppable.isVisible) {\n      return withScrolledDroppable;\n    }\n\n    return entry;\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar withViewportDisplacement = (function (viewport, point) {\n  return add(viewport.scroll.diff.displacement, point);\n});\n\nvar getClientFromPageBorderBoxCenter = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      draggable = _ref.draggable,\n      viewport = _ref.viewport;\n  var withoutPageScrollChange = withViewportDisplacement(viewport, pageBorderBoxCenter);\n  var offset = subtract(withoutPageScrollChange, draggable.page.borderBox.center);\n  return add(draggable.client.borderBox.center, offset);\n});\n\nvar isTotallyVisibleInNewLocation = (function (_ref) {\n  var draggable = _ref.draggable,\n      destination = _ref.destination,\n      newPageBorderBoxCenter = _ref.newPageBorderBoxCenter,\n      viewport = _ref.viewport,\n      withDroppableDisplacement = _ref.withDroppableDisplacement,\n      _ref$onlyOnMainAxis = _ref.onlyOnMainAxis,\n      onlyOnMainAxis = _ref$onlyOnMainAxis === void 0 ? false : _ref$onlyOnMainAxis;\n  var changeNeeded = subtract(newPageBorderBoxCenter, draggable.page.borderBox.center);\n  var shifted = offsetByPosition(draggable.page.borderBox, changeNeeded);\n  var args = {\n    target: shifted,\n    destination: destination,\n    withDroppableDisplacement: withDroppableDisplacement,\n    viewport: viewport\n  };\n  return onlyOnMainAxis ? isTotallyVisibleOnAxis(args) : isTotallyVisible(args);\n});\n\nvar moveToNextPlace = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      draggable = _ref.draggable,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      previousClientSelection = _ref.previousClientSelection,\n      onLift = _ref.onLift;\n\n  if (!destination.isEnabled) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var isInHomeList = isHomeOf(draggable, destination);\n  var impact = moveToNextCombine({\n    isInHomeList: isInHomeList,\n    isMovingForward: isMovingForward,\n    draggable: draggable,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact\n  }) || moveToNextIndex({\n    isMovingForward: isMovingForward,\n    isInHomeList: isInHomeList,\n    draggable: draggable,\n    draggables: draggables,\n    destination: destination,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n    draggable: draggable,\n    destination: destination,\n    newPageBorderBoxCenter: pageBorderBoxCenter,\n    viewport: viewport.frame,\n    withDroppableDisplacement: false,\n    onlyOnMainAxis: true\n  });\n\n  if (isVisibleInNewLocation) {\n    var clientSelection = getClientFromPageBorderBoxCenter({\n      pageBorderBoxCenter: pageBorderBoxCenter,\n      draggable: draggable,\n      viewport: viewport\n    });\n    return {\n      clientSelection: clientSelection,\n      impact: impact,\n      scrollJumpRequest: null\n    };\n  }\n\n  var distance = subtract(pageBorderBoxCenter, previousPageBorderBoxCenter);\n  var cautious = speculativelyIncrease({\n    impact: impact,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    maxScrollChange: distance,\n    onLift: onLift\n  });\n  return {\n    clientSelection: previousClientSelection,\n    impact: cautious,\n    scrollJumpRequest: distance\n  };\n});\n\nvar getKnownActive = function getKnownActive(droppable) {\n  var rect = droppable.subject.active;\n  !rect ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get clipped area from droppable') : invariant(false) : void 0;\n  return rect;\n};\n\nvar getBestCrossAxisDroppable = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      source = _ref.source,\n      droppables = _ref.droppables,\n      viewport = _ref.viewport;\n  var active = source.subject.active;\n\n  if (!active) {\n    return null;\n  }\n\n  var axis = source.axis;\n  var isBetweenSourceClipped = isWithin(active[axis.start], active[axis.end]);\n  var candidates = toDroppableList(droppables).filter(function (droppable) {\n    return droppable !== source;\n  }).filter(function (droppable) {\n    return droppable.isEnabled;\n  }).filter(function (droppable) {\n    return Boolean(droppable.subject.active);\n  }).filter(function (droppable) {\n    return isPartiallyVisibleThroughFrame(viewport.frame)(getKnownActive(droppable));\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n\n    if (isMovingForward) {\n      return active[axis.crossAxisEnd] < activeOfTarget[axis.crossAxisEnd];\n    }\n\n    return activeOfTarget[axis.crossAxisStart] < active[axis.crossAxisStart];\n  }).filter(function (droppable) {\n    var activeOfTarget = getKnownActive(droppable);\n    var isBetweenDestinationClipped = isWithin(activeOfTarget[axis.start], activeOfTarget[axis.end]);\n    return isBetweenSourceClipped(activeOfTarget[axis.start]) || isBetweenSourceClipped(activeOfTarget[axis.end]) || isBetweenDestinationClipped(active[axis.start]) || isBetweenDestinationClipped(active[axis.end]);\n  }).sort(function (a, b) {\n    var first = getKnownActive(a)[axis.crossAxisStart];\n    var second = getKnownActive(b)[axis.crossAxisStart];\n\n    if (isMovingForward) {\n      return first - second;\n    }\n\n    return second - first;\n  }).filter(function (droppable, index, array) {\n    return getKnownActive(droppable)[axis.crossAxisStart] === getKnownActive(array[0])[axis.crossAxisStart];\n  });\n\n  if (!candidates.length) {\n    return null;\n  }\n\n  if (candidates.length === 1) {\n    return candidates[0];\n  }\n\n  var contains = candidates.filter(function (droppable) {\n    var isWithinDroppable = isWithin(getKnownActive(droppable)[axis.start], getKnownActive(droppable)[axis.end]);\n    return isWithinDroppable(pageBorderBoxCenter[axis.line]);\n  });\n\n  if (contains.length === 1) {\n    return contains[0];\n  }\n\n  if (contains.length > 1) {\n    return contains.sort(function (a, b) {\n      return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n    })[0];\n  }\n\n  return candidates.sort(function (a, b) {\n    var first = closest(pageBorderBoxCenter, getCorners(getKnownActive(a)));\n    var second = closest(pageBorderBoxCenter, getCorners(getKnownActive(b)));\n\n    if (first !== second) {\n      return first - second;\n    }\n\n    return getKnownActive(a)[axis.start] - getKnownActive(b)[axis.start];\n  })[0];\n});\n\nvar getCurrentPageBorderBoxCenter = function getCurrentPageBorderBoxCenter(draggable, onLift) {\n  var original = draggable.page.borderBox.center;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? subtract(original, onLift.displacedBy.point) : original;\n};\nvar getCurrentPageBorderBox = function getCurrentPageBorderBox(draggable, onLift) {\n  var original = draggable.page.borderBox;\n  return didStartDisplaced(draggable.descriptor.id, onLift) ? offsetByPosition(original, negate(onLift.displacedBy.point)) : original;\n};\n\nvar getClosestDraggable = (function (_ref) {\n  var pageBorderBoxCenter = _ref.pageBorderBoxCenter,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      insideDestination = _ref.insideDestination,\n      onLift = _ref.onLift;\n  var sorted = insideDestination.filter(function (draggable) {\n    return isTotallyVisible({\n      target: getCurrentPageBorderBox(draggable, onLift),\n      destination: destination,\n      viewport: viewport.frame,\n      withDroppableDisplacement: true\n    });\n  }).sort(function (a, b) {\n    var distanceToA = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(a, onLift)));\n    var distanceToB = distance(pageBorderBoxCenter, withDroppableDisplacement(destination, getCurrentPageBorderBoxCenter(b, onLift)));\n\n    if (distanceToA < distanceToB) {\n      return -1;\n    }\n\n    if (distanceToB < distanceToA) {\n      return 1;\n    }\n\n    return a.descriptor.index - b.descriptor.index;\n  });\n  return sorted[0] || null;\n});\n\nvar moveToNewDroppable = (function (_ref) {\n  var previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      moveRelativeTo = _ref.moveRelativeTo,\n      insideDestination = _ref.insideDestination,\n      draggable = _ref.draggable,\n      draggables = _ref.draggables,\n      destination = _ref.destination,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n\n  if (!moveRelativeTo) {\n    if (insideDestination.length) {\n      return null;\n    }\n\n    var proposed = {\n      movement: noMovement,\n      destination: {\n        droppableId: destination.descriptor.id,\n        index: 0\n      },\n      merge: null\n    };\n    var proposedPageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n      impact: proposed,\n      draggable: draggable,\n      droppable: destination,\n      draggables: draggables,\n      onLift: onLift\n    });\n    var withPlaceholder = isHomeOf(draggable, destination) ? destination : addPlaceholder(destination, draggable, draggables);\n    var isVisibleInNewLocation = isTotallyVisibleInNewLocation({\n      draggable: draggable,\n      destination: withPlaceholder,\n      newPageBorderBoxCenter: proposedPageBorderBoxCenter,\n      viewport: viewport.frame,\n      withDroppableDisplacement: false,\n      onlyOnMainAxis: true\n    });\n    return isVisibleInNewLocation ? proposed : null;\n  }\n\n  var isGoingBeforeTarget = Boolean(previousPageBorderBoxCenter[destination.axis.line] < moveRelativeTo.page.borderBox.center[destination.axis.line]);\n  var targetIndex = insideDestination.indexOf(moveRelativeTo);\n  !(targetIndex !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find target in list') : invariant(false) : void 0;\n\n  var proposedIndex = function () {\n    if (moveRelativeTo.descriptor.id === draggable.descriptor.id) {\n      return targetIndex;\n    }\n\n    if (isGoingBeforeTarget) {\n      return targetIndex;\n    }\n\n    return targetIndex + 1;\n  }();\n\n  var displaced = removeDraggableFromList(draggable, insideDestination).slice(proposedIndex).map(function (dimension) {\n    return getDisplacement({\n      draggable: dimension,\n      destination: destination,\n      viewport: viewport.frame,\n      previousImpact: previousImpact,\n      onLift: onLift\n    });\n  });\n  var displacedBy = getDisplacedBy(destination.axis, draggable.displaceBy);\n  var impact = {\n    movement: {\n      displacedBy: displacedBy,\n      displaced: displaced,\n      map: getDisplacementMap(displaced)\n    },\n    destination: {\n      droppableId: destination.descriptor.id,\n      index: proposedIndex\n    },\n    merge: null\n  };\n  return impact;\n});\n\nvar moveCrossAxis = (function (_ref) {\n  var isMovingForward = _ref.isMovingForward,\n      previousPageBorderBoxCenter = _ref.previousPageBorderBoxCenter,\n      draggable = _ref.draggable,\n      isOver = _ref.isOver,\n      draggables = _ref.draggables,\n      droppables = _ref.droppables,\n      previousImpact = _ref.previousImpact,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var destination = getBestCrossAxisDroppable({\n    isMovingForward: isMovingForward,\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    source: isOver,\n    droppables: droppables,\n    viewport: viewport\n  });\n\n  if (!destination) {\n    return null;\n  }\n\n  var insideDestination = getDraggablesInsideDroppable(destination.descriptor.id, draggables);\n  var moveRelativeTo = getClosestDraggable({\n    pageBorderBoxCenter: previousPageBorderBoxCenter,\n    viewport: viewport,\n    destination: destination,\n    insideDestination: insideDestination,\n    onLift: onLift\n  });\n  var impact = moveToNewDroppable({\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    destination: destination,\n    draggable: draggable,\n    draggables: draggables,\n    moveRelativeTo: moveRelativeTo,\n    insideDestination: insideDestination,\n    previousImpact: previousImpact,\n    viewport: viewport,\n    onLift: onLift\n  });\n\n  if (!impact) {\n    return null;\n  }\n\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    onLift: onLift\n  });\n  var clientSelection = getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n  return {\n    clientSelection: clientSelection,\n    impact: impact,\n    scrollJumpRequest: null\n  };\n});\n\nvar getDroppableOver$1 = function getDroppableOver(impact, droppables) {\n  var id = whatIsDraggedOver(impact);\n  return id ? droppables[id] : null;\n};\n\nvar moveInDirection = (function (_ref) {\n  var state = _ref.state,\n      type = _ref.type;\n  var isActuallyOver = getDroppableOver$1(state.impact, state.dimensions.droppables);\n  var isMainAxisMovementAllowed = Boolean(isActuallyOver);\n  var home = state.dimensions.droppables[state.critical.droppable.id];\n  var isOver = isActuallyOver || home;\n  var direction = isOver.axis.direction;\n  var isMovingOnMainAxis = direction === 'vertical' && (type === 'MOVE_UP' || type === 'MOVE_DOWN') || direction === 'horizontal' && (type === 'MOVE_LEFT' || type === 'MOVE_RIGHT');\n\n  if (isMovingOnMainAxis && !isMainAxisMovementAllowed) {\n    return null;\n  }\n\n  var isMovingForward = type === 'MOVE_DOWN' || type === 'MOVE_RIGHT';\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var previousPageBorderBoxCenter = state.current.page.borderBoxCenter;\n  var _state$dimensions = state.dimensions,\n      draggables = _state$dimensions.draggables,\n      droppables = _state$dimensions.droppables;\n  return isMovingOnMainAxis ? moveToNextPlace({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    destination: isOver,\n    draggables: draggables,\n    viewport: state.viewport,\n    previousClientSelection: state.current.client.selection,\n    previousImpact: state.impact,\n    onLift: state.onLift\n  }) : moveCrossAxis({\n    isMovingForward: isMovingForward,\n    previousPageBorderBoxCenter: previousPageBorderBoxCenter,\n    draggable: draggable,\n    isOver: isOver,\n    draggables: draggables,\n    droppables: droppables,\n    previousImpact: state.impact,\n    viewport: state.viewport,\n    onLift: state.onLift\n  });\n});\n\nfunction isMovementAllowed(state) {\n  return state.phase === 'DRAGGING' || state.phase === 'COLLECTING';\n}\n\nvar getVertical = function getVertical(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'down' : 'up';\n};\n\nvar getHorizontal = function getHorizontal(previous, diff) {\n  if (diff === 0) {\n    return previous;\n  }\n\n  return diff > 0 ? 'right' : 'left';\n};\n\nvar getUserDirection = (function (previous, oldPageBorderBoxCenter, newPageBorderBoxCenter) {\n  var diff = subtract(newPageBorderBoxCenter, oldPageBorderBoxCenter);\n  return {\n    horizontal: getHorizontal(previous.horizontal, diff.x),\n    vertical: getVertical(previous.vertical, diff.y)\n  };\n});\n\nvar update = (function (_ref) {\n  var state = _ref.state,\n      forcedClientSelection = _ref.clientSelection,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport,\n      forcedImpact = _ref.impact,\n      scrollJumpRequest = _ref.scrollJumpRequest;\n  var viewport = forcedViewport || state.viewport;\n  var currentWindowScroll = viewport.scroll.current;\n  var dimensions = forcedDimensions || state.dimensions;\n  var clientSelection = forcedClientSelection || state.current.client.selection;\n  var offset = subtract(clientSelection, state.initial.client.selection);\n  var client = {\n    offset: offset,\n    selection: clientSelection,\n    borderBoxCenter: add(state.initial.client.borderBoxCenter, offset)\n  };\n  var page = {\n    selection: add(client.selection, currentWindowScroll),\n    borderBoxCenter: add(client.borderBoxCenter, currentWindowScroll)\n  };\n  var current = {\n    client: client,\n    page: page\n  };\n  var userDirection = getUserDirection(state.userDirection, state.current.page.borderBoxCenter, current.page.borderBoxCenter);\n\n  if (state.phase === 'COLLECTING') {\n    return _extends({\n      phase: 'COLLECTING'\n    }, state, {\n      dimensions: dimensions,\n      viewport: viewport,\n      current: current,\n      userDirection: userDirection\n    });\n  }\n\n  var draggable = dimensions.draggables[state.critical.draggable.id];\n  var newImpact = forcedImpact || getDragImpact({\n    pageBorderBoxCenter: page.borderBoxCenter,\n    draggable: draggable,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables,\n    previousImpact: state.impact,\n    viewport: viewport,\n    userDirection: userDirection,\n    onLift: state.onLift\n  });\n  var withUpdatedPlaceholders = recomputePlaceholders({\n    draggable: draggable,\n    impact: newImpact,\n    previousImpact: state.impact,\n    draggables: dimensions.draggables,\n    droppables: dimensions.droppables\n  });\n\n  var result = _extends({}, state, {\n    current: current,\n    userDirection: userDirection,\n    dimensions: {\n      draggables: dimensions.draggables,\n      droppables: withUpdatedPlaceholders\n    },\n    impact: newImpact,\n    viewport: viewport,\n    scrollJumpRequest: scrollJumpRequest || null,\n    forceShouldAnimate: scrollJumpRequest ? false : null\n  });\n\n  return result;\n});\n\nvar recompute = (function (_ref) {\n  var impact = _ref.impact,\n      viewport = _ref.viewport,\n      destination = _ref.destination,\n      draggables = _ref.draggables,\n      onLift = _ref.onLift,\n      forceShouldAnimate = _ref.forceShouldAnimate;\n  var updated = impact.movement.displaced.map(function (entry) {\n    return getDisplacement({\n      draggable: draggables[entry.draggableId],\n      destination: destination,\n      previousImpact: impact,\n      viewport: viewport.frame,\n      onLift: onLift,\n      forceShouldAnimate: forceShouldAnimate\n    });\n  });\n  return withNewDisplacement(impact, updated);\n});\n\nvar getClientBorderBoxCenter = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      droppable = _ref.droppable,\n      draggables = _ref.draggables,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var pageBorderBoxCenter = getPageBorderBoxCenterFromImpact({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    droppable: droppable,\n    onLift: onLift\n  });\n  return getClientFromPageBorderBoxCenter({\n    pageBorderBoxCenter: pageBorderBoxCenter,\n    draggable: draggable,\n    viewport: viewport\n  });\n});\n\nvar refreshSnap = (function (_ref) {\n  var state = _ref.state,\n      forcedDimensions = _ref.dimensions,\n      forcedViewport = _ref.viewport;\n  !(state.movementMode === 'SNAP') ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n  var needsVisibilityCheck = state.impact;\n  var viewport = forcedViewport || state.viewport;\n  var dimensions = forcedDimensions || state.dimensions;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var draggable = draggables[state.critical.draggable.id];\n  var isOver = whatIsDraggedOver(needsVisibilityCheck);\n  !isOver ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Must be over a destination in SNAP movement mode') : invariant(false) : void 0;\n  var destination = droppables[isOver];\n  var impact = recompute({\n    impact: needsVisibilityCheck,\n    viewport: viewport,\n    destination: destination,\n    draggables: draggables,\n    onLift: state.onLift\n  });\n  var clientSelection = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    droppable: destination,\n    draggables: draggables,\n    viewport: viewport,\n    onLift: state.onLift\n  });\n  return update({\n    impact: impact,\n    clientSelection: clientSelection,\n    state: state,\n    dimensions: dimensions,\n    viewport: viewport\n  });\n});\n\nvar patchDimensionMap = (function (dimensions, updated) {\n  return {\n    draggables: dimensions.draggables,\n    droppables: patchDroppableMap(dimensions.droppables, updated)\n  };\n});\n\nvar isSnapping = function isSnapping(state) {\n  return state.movementMode === 'SNAP';\n};\n\nvar postDroppableChange = function postDroppableChange(state, updated, isEnabledChanging) {\n  var dimensions = patchDimensionMap(state.dimensions, updated);\n\n  if (!isSnapping(state) || isEnabledChanging) {\n    return update({\n      state: state,\n      dimensions: dimensions\n    });\n  }\n\n  return refreshSnap({\n    state: state,\n    dimensions: dimensions\n  });\n};\n\nvar idle = {\n  phase: 'IDLE',\n  completed: null,\n  shouldFlush: false\n};\nvar reducer = (function (state, action) {\n  if (state === void 0) {\n    state = idle;\n  }\n\n  if (action.type === 'CLEAN') {\n    return idle;\n  }\n\n  if (action.type === 'INITIAL_PUBLISH') {\n    !(state.phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'INITIAL_PUBLISH must come after a IDLE phase') : invariant(false) : void 0;\n    var _action$payload = action.payload,\n        critical = _action$payload.critical,\n        clientSelection = _action$payload.clientSelection,\n        viewport = _action$payload.viewport,\n        dimensions = _action$payload.dimensions,\n        movementMode = _action$payload.movementMode;\n    var draggable = dimensions.draggables[critical.draggable.id];\n    var home = dimensions.droppables[critical.droppable.id];\n    var client = {\n      selection: clientSelection,\n      borderBoxCenter: draggable.client.borderBox.center,\n      offset: origin\n    };\n    var initial = {\n      client: client,\n      page: {\n        selection: add(client.selection, viewport.scroll.initial),\n        borderBoxCenter: add(client.selection, viewport.scroll.initial)\n      }\n    };\n    var isWindowScrollAllowed = toDroppableList(dimensions.droppables).every(function (item) {\n      return !item.isFixedOnPage;\n    });\n\n    var _getHomeOnLift = getHomeOnLift({\n      draggable: draggable,\n      home: home,\n      draggables: dimensions.draggables,\n      viewport: viewport\n    }),\n        impact = _getHomeOnLift.impact,\n        onLift = _getHomeOnLift.onLift;\n\n    var result = {\n      phase: 'DRAGGING',\n      isDragging: true,\n      critical: critical,\n      movementMode: movementMode,\n      dimensions: dimensions,\n      initial: initial,\n      current: initial,\n      isWindowScrollAllowed: isWindowScrollAllowed,\n      impact: impact,\n      onLift: onLift,\n      onLiftImpact: impact,\n      viewport: viewport,\n      userDirection: forward,\n      scrollJumpRequest: null,\n      forceShouldAnimate: null\n    };\n    return result;\n  }\n\n  if (action.type === 'COLLECTION_STARTING') {\n    var _extends2;\n\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Collection cannot start from phase \" + state.phase) : invariant(false) : void 0;\n\n    var _result = _extends({\n      phase: 'COLLECTING'\n    }, state, (_extends2 = {}, _extends2[\"phase\"] = 'COLLECTING', _extends2));\n\n    return _result;\n  }\n\n  if (action.type === 'PUBLISH_WHILE_DRAGGING') {\n    !(state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unexpected \" + action.type + \" received in phase \" + state.phase) : invariant(false) : void 0;\n    return publishWhileDragging({\n      state: state,\n      published: action.payload\n    });\n  }\n\n  if (action.type === 'MOVE') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _clientSelection = action.payload.client;\n\n    if (isEqual(_clientSelection, state.current.client.selection)) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      clientSelection: _clientSelection,\n      impact: isSnapping(state) ? state.impact : null\n    });\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_SCROLL') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    if (state.phase === 'COLLECTING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" not permitted in phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload2 = action.payload,\n        id = _action$payload2.id,\n        offset = _action$payload2.offset;\n    var target = state.dimensions.droppables[id];\n\n    if (!target) {\n      return state;\n    }\n\n    var scrolled = scrollDroppable(target, offset);\n    return postDroppableChange(state, scrolled, false);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload3 = action.payload,\n        _id = _action$payload3.id,\n        isEnabled = _action$payload3.isEnabled;\n    var _target = state.dimensions.droppables[_id];\n    !_target ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id + \"] to toggle its enabled state\") : invariant(false) : void 0;\n    !(_target.isEnabled !== isEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isEnabled to \" + String(isEnabled) + \"\\n      but it is already \" + String(_target.isEnabled)) : invariant(false) : void 0;\n\n    var updated = _extends({}, _target, {\n      isEnabled: isEnabled\n    });\n\n    return postDroppableChange(state, updated, true);\n  }\n\n  if (action.type === 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED') {\n    if (state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Attempting to move in an unsupported phase \" + state.phase) : invariant(false) : void 0;\n    var _action$payload4 = action.payload,\n        _id2 = _action$payload4.id,\n        isCombineEnabled = _action$payload4.isCombineEnabled;\n    var _target2 = state.dimensions.droppables[_id2];\n    !_target2 ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot find Droppable[id: \" + _id2 + \"] to toggle its isCombineEnabled state\") : invariant(false) : void 0;\n    !(_target2.isCombineEnabled !== isCombineEnabled) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Trying to set droppable isCombineEnabled to \" + String(isCombineEnabled) + \"\\n      but it is already \" + String(_target2.isCombineEnabled)) : invariant(false) : void 0;\n\n    var _updated = _extends({}, _target2, {\n      isCombineEnabled: isCombineEnabled\n    });\n\n    return postDroppableChange(state, _updated, true);\n  }\n\n  if (action.type === 'MOVE_BY_WINDOW_SCROLL') {\n    if (state.phase === 'DROP_PENDING' || state.phase === 'DROP_ANIMATING') {\n      return state;\n    }\n\n    !isMovementAllowed(state) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot move by window in phase \" + state.phase) : invariant(false) : void 0;\n    !state.isWindowScrollAllowed ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Window scrolling is currently not supported for fixed lists. Aborting drag') : invariant(false) : void 0;\n    var newScroll = action.payload.newScroll;\n\n    if (isEqual(state.viewport.scroll.current, newScroll)) {\n      return state;\n    }\n\n    var _viewport = scrollViewport(state.viewport, newScroll);\n\n    if (isSnapping(state)) {\n      return refreshSnap({\n        state: state,\n        viewport: _viewport\n      });\n    }\n\n    return update({\n      state: state,\n      viewport: _viewport\n    });\n  }\n\n  if (action.type === 'UPDATE_VIEWPORT_MAX_SCROLL') {\n    if (!isMovementAllowed(state)) {\n      return state;\n    }\n\n    var maxScroll = action.payload.maxScroll;\n\n    if (isEqual(maxScroll, state.viewport.scroll.max)) {\n      return state;\n    }\n\n    var withMaxScroll = _extends({}, state.viewport, {\n      scroll: _extends({}, state.viewport.scroll, {\n        max: maxScroll\n      })\n    });\n\n    return _extends({\n      phase: 'DRAGGING'\n    }, state, {\n      viewport: withMaxScroll\n    });\n  }\n\n  if (action.type === 'MOVE_UP' || action.type === 'MOVE_DOWN' || action.type === 'MOVE_LEFT' || action.type === 'MOVE_RIGHT') {\n    if (state.phase === 'COLLECTING' || state.phase === 'DROP_PENDING') {\n      return state;\n    }\n\n    !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, action.type + \" received while not in DRAGGING phase\") : invariant(false) : void 0;\n\n    var _result2 = moveInDirection({\n      state: state,\n      type: action.type\n    });\n\n    if (!_result2) {\n      return state;\n    }\n\n    return update({\n      state: state,\n      impact: _result2.impact,\n      clientSelection: _result2.clientSelection,\n      scrollJumpRequest: _result2.scrollJumpRequest\n    });\n  }\n\n  if (action.type === 'DROP_PENDING') {\n    var _extends3;\n\n    var reason = action.payload.reason;\n    !(state.phase === 'COLLECTING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only move into the DROP_PENDING phase from the COLLECTING phase') : invariant(false) : void 0;\n\n    var newState = _extends({\n      phase: 'DROP_PENDING'\n    }, state, (_extends3 = {}, _extends3[\"phase\"] = 'DROP_PENDING', _extends3.isWaiting = true, _extends3.reason = reason, _extends3));\n\n    return newState;\n  }\n\n  if (action.type === 'DROP_ANIMATE') {\n    var _action$payload5 = action.payload,\n        completed = _action$payload5.completed,\n        dropDuration = _action$payload5.dropDuration,\n        newHomeClientOffset = _action$payload5.newHomeClientOffset;\n    !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot animate drop from phase \" + state.phase) : invariant(false) : void 0;\n    var _result3 = {\n      phase: 'DROP_ANIMATING',\n      dimensions: state.dimensions,\n      completed: completed,\n      dropDuration: dropDuration,\n      newHomeClientOffset: newHomeClientOffset\n    };\n    return _result3;\n  }\n\n  if (action.type === 'DROP_COMPLETE') {\n    var _action$payload6 = action.payload,\n        _completed = _action$payload6.completed,\n        shouldFlush = _action$payload6.shouldFlush;\n    return {\n      phase: 'IDLE',\n      completed: _completed,\n      shouldFlush: shouldFlush\n    };\n  }\n\n  return state;\n});\n\nvar lift = function lift(args) {\n  return {\n    type: 'LIFT',\n    payload: args\n  };\n};\nvar initialPublish = function initialPublish(args) {\n  return {\n    type: 'INITIAL_PUBLISH',\n    payload: args\n  };\n};\nvar publishWhileDragging$1 = function publishWhileDragging(args) {\n  return {\n    type: 'PUBLISH_WHILE_DRAGGING',\n    payload: args\n  };\n};\nvar collectionStarting = function collectionStarting() {\n  return {\n    type: 'COLLECTION_STARTING',\n    payload: null\n  };\n};\nvar updateDroppableScroll = function updateDroppableScroll(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_SCROLL',\n    payload: args\n  };\n};\nvar updateDroppableIsEnabled = function updateDroppableIsEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_ENABLED',\n    payload: args\n  };\n};\nvar updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(args) {\n  return {\n    type: 'UPDATE_DROPPABLE_IS_COMBINE_ENABLED',\n    payload: args\n  };\n};\nvar move = function move(args) {\n  return {\n    type: 'MOVE',\n    payload: args\n  };\n};\nvar moveByWindowScroll = function moveByWindowScroll(args) {\n  return {\n    type: 'MOVE_BY_WINDOW_SCROLL',\n    payload: args\n  };\n};\nvar updateViewportMaxScroll = function updateViewportMaxScroll(args) {\n  return {\n    type: 'UPDATE_VIEWPORT_MAX_SCROLL',\n    payload: args\n  };\n};\nvar moveUp = function moveUp() {\n  return {\n    type: 'MOVE_UP',\n    payload: null\n  };\n};\nvar moveDown = function moveDown() {\n  return {\n    type: 'MOVE_DOWN',\n    payload: null\n  };\n};\nvar moveRight = function moveRight() {\n  return {\n    type: 'MOVE_RIGHT',\n    payload: null\n  };\n};\nvar moveLeft = function moveLeft() {\n  return {\n    type: 'MOVE_LEFT',\n    payload: null\n  };\n};\nvar clean = function clean() {\n  return {\n    type: 'CLEAN',\n    payload: null\n  };\n};\nvar animateDrop = function animateDrop(args) {\n  return {\n    type: 'DROP_ANIMATE',\n    payload: args\n  };\n};\nvar completeDrop = function completeDrop(args) {\n  return {\n    type: 'DROP_COMPLETE',\n    payload: args\n  };\n};\nvar drop = function drop(args) {\n  return {\n    type: 'DROP',\n    payload: args\n  };\n};\nvar dropPending = function dropPending(args) {\n  return {\n    type: 'DROP_PENDING',\n    payload: args\n  };\n};\nvar dropAnimationFinished = function dropAnimationFinished() {\n  return {\n    type: 'DROP_ANIMATION_FINISHED',\n    payload: null\n  };\n};\n\nvar lift$1 = (function (getMarshal) {\n  return function (_ref) {\n    var getState = _ref.getState,\n        dispatch = _ref.dispatch;\n    return function (next) {\n      return function (action) {\n        if (action.type !== 'LIFT') {\n          next(action);\n          return;\n        }\n\n        var marshal = getMarshal();\n        var _action$payload = action.payload,\n            id = _action$payload.id,\n            clientSelection = _action$payload.clientSelection,\n            movementMode = _action$payload.movementMode;\n        var initial = getState();\n\n        if (initial.phase === 'DROP_ANIMATING') {\n          dispatch(completeDrop({\n            completed: initial.completed,\n            shouldFlush: true\n          }));\n        }\n\n        !(getState().phase === 'IDLE') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Incorrect phase to start a drag') : invariant(false) : void 0;\n        var scrollOptions = {\n          shouldPublishImmediately: movementMode === 'SNAP'\n        };\n        var request = {\n          draggableId: id,\n          scrollOptions: scrollOptions\n        };\n\n        var _marshal$startPublish = marshal.startPublishing(request),\n            critical = _marshal$startPublish.critical,\n            dimensions = _marshal$startPublish.dimensions,\n            viewport = _marshal$startPublish.viewport;\n\n        dispatch(initialPublish({\n          critical: critical,\n          dimensions: dimensions,\n          clientSelection: clientSelection,\n          movementMode: movementMode,\n          viewport: viewport\n        }));\n      };\n    };\n  };\n});\n\nvar style = (function (marshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          marshal.dragging();\n        }\n\n        if (action.type === 'DROP_ANIMATE') {\n          marshal.dropping(action.payload.completed.result.reason);\n        }\n\n        if (action.type === 'CLEAN' || action.type === 'DROP_COMPLETE') {\n          marshal.resting();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar curves = {\n  outOfTheWay: 'cubic-bezier(0.2, 0, 0, 1)',\n  drop: 'cubic-bezier(.2,1,.1,1)'\n};\nvar combine = {\n  opacity: {\n    drop: 0,\n    combining: 0.7\n  },\n  scale: {\n    drop: 0.75\n  }\n};\nvar timings = {\n  outOfTheWay: 0.2,\n  minDropTime: 0.33,\n  maxDropTime: 0.55\n};\nvar outOfTheWayTiming = timings.outOfTheWay + \"s \" + curves.outOfTheWay;\nvar transitions = {\n  fluid: \"opacity \" + outOfTheWayTiming,\n  snap: \"transform \" + outOfTheWayTiming + \", opacity \" + outOfTheWayTiming,\n  drop: function drop(duration) {\n    var timing = duration + \"s \" + curves.drop;\n    return \"transform \" + timing + \", opacity \" + timing;\n  },\n  outOfTheWay: \"transform \" + outOfTheWayTiming,\n  placeholder: \"height \" + outOfTheWayTiming + \", width \" + outOfTheWayTiming + \", margin \" + outOfTheWayTiming\n};\n\nvar moveTo = function moveTo(offset) {\n  return isEqual(offset, origin) ? null : \"translate(\" + offset.x + \"px, \" + offset.y + \"px)\";\n};\n\nvar transforms = {\n  moveTo: moveTo,\n  drop: function drop(offset, isCombining) {\n    var translate = moveTo(offset);\n\n    if (!translate) {\n      return null;\n    }\n\n    if (!isCombining) {\n      return translate;\n    }\n\n    return translate + \" scale(\" + combine.scale.drop + \")\";\n  }\n};\n\nvar minDropTime = timings.minDropTime,\n    maxDropTime = timings.maxDropTime;\nvar dropTimeRange = maxDropTime - minDropTime;\nvar maxDropTimeAtDistance = 1500;\nvar cancelDropModifier = 0.6;\nvar getDropDuration = (function (_ref) {\n  var current = _ref.current,\n      destination = _ref.destination,\n      reason = _ref.reason;\n  var distance$1 = distance(current, destination);\n\n  if (distance$1 <= 0) {\n    return minDropTime;\n  }\n\n  if (distance$1 >= maxDropTimeAtDistance) {\n    return maxDropTime;\n  }\n\n  var percentage = distance$1 / maxDropTimeAtDistance;\n  var duration = minDropTime + dropTimeRange * percentage;\n  var withDuration = reason === 'CANCEL' ? duration * cancelDropModifier : duration;\n  return Number(withDuration.toFixed(2));\n});\n\nvar getNewHomeClientOffset = (function (_ref) {\n  var impact = _ref.impact,\n      draggable = _ref.draggable,\n      dimensions = _ref.dimensions,\n      viewport = _ref.viewport,\n      onLift = _ref.onLift;\n  var draggables = dimensions.draggables,\n      droppables = dimensions.droppables;\n  var droppableId = whatIsDraggedOver(impact);\n  var destination = droppableId ? droppables[droppableId] : null;\n  var home = droppables[draggable.descriptor.droppableId];\n  var newClientCenter = getClientBorderBoxCenter({\n    impact: impact,\n    draggable: draggable,\n    draggables: draggables,\n    onLift: onLift,\n    droppable: destination || home,\n    viewport: viewport\n  });\n  var offset = subtract(newClientCenter, draggable.client.borderBox.center);\n  var merge = impact.merge;\n\n  if (merge && didStartDisplaced(merge.combine.draggableId, onLift)) {\n    return subtract(offset, onLift.displacedBy.point);\n  }\n\n  return offset;\n});\n\nvar getDropImpact = (function (_ref) {\n  var reason = _ref.reason,\n      lastImpact = _ref.lastImpact,\n      home = _ref.home,\n      viewport = _ref.viewport,\n      draggables = _ref.draggables,\n      onLiftImpact = _ref.onLiftImpact,\n      onLift = _ref.onLift;\n  var didDropInsideDroppable = reason === 'DROP' && Boolean(whatIsDraggedOver(lastImpact));\n\n  if (!didDropInsideDroppable) {\n    var impact = recompute({\n      impact: onLiftImpact,\n      destination: home,\n      viewport: viewport,\n      draggables: draggables,\n      onLift: onLift,\n      forceShouldAnimate: true\n    });\n    return {\n      impact: impact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  if (lastImpact.destination) {\n    return {\n      impact: lastImpact,\n      didDropInsideDroppable: didDropInsideDroppable\n    };\n  }\n\n  var withoutMovement = _extends({}, lastImpact, {\n    movement: noMovement\n  });\n\n  return {\n    impact: withoutMovement,\n    didDropInsideDroppable: didDropInsideDroppable\n  };\n});\n\nvar drop$1 = (function (_ref) {\n  var getState = _ref.getState,\n      dispatch = _ref.dispatch;\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP') {\n        next(action);\n        return;\n      }\n\n      var state = getState();\n      var reason = action.payload.reason;\n\n      if (state.phase === 'COLLECTING') {\n        dispatch(dropPending({\n          reason: reason\n        }));\n        return;\n      }\n\n      if (state.phase === 'IDLE') {\n        return;\n      }\n\n      var isWaitingForDrop = state.phase === 'DROP_PENDING' && state.isWaiting;\n      !!isWaitingForDrop ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DROP action occurred while DROP_PENDING and still waiting') : invariant(false) : void 0;\n      !(state.phase === 'DRAGGING' || state.phase === 'DROP_PENDING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot drop in phase: \" + state.phase) : invariant(false) : void 0;\n      var critical = state.critical;\n      var dimensions = state.dimensions;\n\n      var _getDropImpact = getDropImpact({\n        reason: reason,\n        lastImpact: state.impact,\n        onLift: state.onLift,\n        onLiftImpact: state.onLiftImpact,\n        home: state.dimensions.droppables[state.critical.droppable.id],\n        viewport: state.viewport,\n        draggables: state.dimensions.draggables\n      }),\n          impact = _getDropImpact.impact,\n          didDropInsideDroppable = _getDropImpact.didDropInsideDroppable;\n\n      var draggable = dimensions.draggables[state.critical.draggable.id];\n      var destination = didDropInsideDroppable ? impact.destination : null;\n      var combine = didDropInsideDroppable && impact.merge ? impact.merge.combine : null;\n      var source = {\n        index: critical.draggable.index,\n        droppableId: critical.droppable.id\n      };\n      var result = {\n        draggableId: draggable.descriptor.id,\n        type: draggable.descriptor.type,\n        source: source,\n        reason: reason,\n        mode: state.movementMode,\n        destination: destination,\n        combine: combine\n      };\n      var newHomeClientOffset = getNewHomeClientOffset({\n        impact: impact,\n        draggable: draggable,\n        dimensions: dimensions,\n        viewport: state.viewport,\n        onLift: state.onLift\n      });\n      var completed = {\n        critical: state.critical,\n        result: result,\n        impact: impact\n      };\n      var isAnimationRequired = !isEqual(state.current.client.offset, newHomeClientOffset) || Boolean(result.combine);\n\n      if (!isAnimationRequired) {\n        dispatch(completeDrop({\n          completed: completed,\n          shouldFlush: false\n        }));\n        return;\n      }\n\n      var dropDuration = getDropDuration({\n        current: state.current.client.offset,\n        destination: newHomeClientOffset,\n        reason: reason\n      });\n      var args = {\n        newHomeClientOffset: newHomeClientOffset,\n        dropDuration: dropDuration,\n        completed: completed\n      };\n      dispatch(animateDrop(args));\n    };\n  };\n});\n\nvar position = function position(index) {\n  return index + 1;\n};\n\nvar onDragStart = function onDragStart(start) {\n  return \"\\n  You have lifted an item in position \" + position(start.source.index) + \".\\n  Use the arrow keys to move, space bar to drop, and escape to cancel.\\n\";\n};\n\nvar withLocation = function withLocation(source, destination) {\n  var isInHomeList = source.droppableId === destination.droppableId;\n  var startPosition = position(source.index);\n  var endPosition = position(destination.index);\n\n  if (isInHomeList) {\n    return \"\\n      You have moved the item from position \" + startPosition + \"\\n      to position \" + endPosition + \"\\n    \";\n  }\n\n  return \"\\n    You have moved the item from position \" + startPosition + \"\\n    in list \" + source.droppableId + \"\\n    to list \" + destination.droppableId + \"\\n    in position \" + endPosition + \"\\n  \";\n};\n\nvar withCombine = function withCombine(id, source, combine) {\n  var inHomeList = source.droppableId === combine.droppableId;\n\n  if (inHomeList) {\n    return \"\\n      The item \" + id + \"\\n      has been combined with \" + combine.draggableId;\n  }\n\n  return \"\\n      The item \" + id + \"\\n      in list \" + source.droppableId + \"\\n      has been combined with \" + combine.draggableId + \"\\n      in list \" + combine.droppableId + \"\\n    \";\n};\n\nvar onDragUpdate = function onDragUpdate(update) {\n  var location = update.destination;\n\n  if (location) {\n    return withLocation(update.source, location);\n  }\n\n  var combine = update.combine;\n\n  if (combine) {\n    return withCombine(update.draggableId, update.source, combine);\n  }\n\n  return 'You are over an area that cannot be dropped on';\n};\n\nvar returnedToStart = function returnedToStart(source) {\n  return \"\\n  The item has returned to its starting position\\n  of \" + position(source.index) + \"\\n\";\n};\n\nvar onDragEnd = function onDragEnd(result) {\n  if (result.reason === 'CANCEL') {\n    return \"\\n      Movement cancelled.\\n      \" + returnedToStart(result.source) + \"\\n    \";\n  }\n\n  var location = result.destination;\n  var combine = result.combine;\n\n  if (location) {\n    return \"\\n      You have dropped the item.\\n      \" + withLocation(result.source, location) + \"\\n    \";\n  }\n\n  if (combine) {\n    return \"\\n      You have dropped the item.\\n      \" + withCombine(result.draggableId, result.source, combine) + \"\\n    \";\n  }\n\n  return \"\\n    The item has been dropped while not over a drop area.\\n    \" + returnedToStart(result.source) + \"\\n  \";\n};\n\nvar preset = {\n  onDragStart: onDragStart,\n  onDragUpdate: onDragUpdate,\n  onDragEnd: onDragEnd\n};\n\nvar isProduction = process.env.NODE_ENV === 'production';\nvar spacesAndTabs = /[ \\t]{2,}/g;\nvar lineStartWithSpaces = /^[ \\t]*/gm;\n\nvar clean$1 = function clean(value) {\n  return value.replace(spacesAndTabs, ' ').replace(lineStartWithSpaces, '').trim();\n};\n\nvar getDevMessage = function getDevMessage(message) {\n  return clean$1(\"\\n  %creact-beautiful-dnd\\n\\n  %c\" + clean$1(message) + \"\\n\\n  %c\\uD83D\\uDC77\\u200D This is a development only message. It will be removed in production builds.\\n\");\n};\n\nvar getFormattedMessage = function getFormattedMessage(message) {\n  return [getDevMessage(message), 'color: #00C584; font-size: 1.2em; font-weight: bold;', 'line-height: 1.5', 'color: #723874;'];\n};\nvar isDisabledFlag = '__react-beautiful-dnd-disable-dev-warnings';\nvar warning = function warning(message) {\n  var _console;\n\n  if (isProduction) {\n    return;\n  }\n\n  if (typeof window !== 'undefined' && window[isDisabledFlag]) {\n    return;\n  }\n\n  (_console = console).warn.apply(_console, getFormattedMessage(message));\n};\n\nvar getExpiringAnnounce = (function (announce) {\n  var wasCalled = false;\n  var isExpired = false;\n  var timeoutId = setTimeout(function () {\n    isExpired = true;\n  });\n\n  var result = function result(message) {\n    if (wasCalled) {\n      process.env.NODE_ENV !== \"production\" ? warning('Announcement already made. Not making a second announcement') : void 0;\n      return;\n    }\n\n    if (isExpired) {\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Announcements cannot be made asynchronously.\\n        Default message has already been announced.\\n      \") : void 0;\n      return;\n    }\n\n    wasCalled = true;\n    announce(message);\n    clearTimeout(timeoutId);\n  };\n\n  result.wasCalled = function () {\n    return wasCalled;\n  };\n\n  return result;\n});\n\nvar getAsyncMarshal = (function () {\n  var entries = [];\n\n  var execute = function execute(timerId) {\n    var index = findIndex(entries, function (item) {\n      return item.timerId === timerId;\n    });\n    !(index !== -1) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find timer') : invariant(false) : void 0;\n\n    var _entries$splice = entries.splice(index, 1),\n        entry = _entries$splice[0];\n\n    entry.callback();\n  };\n\n  var add = function add(fn) {\n    var timerId = setTimeout(function () {\n      return execute(timerId);\n    });\n    var entry = {\n      timerId: timerId,\n      callback: fn\n    };\n    entries.push(entry);\n  };\n\n  var flush = function flush() {\n    if (!entries.length) {\n      return;\n    }\n\n    var shallow = [].concat(entries);\n    entries.length = 0;\n    shallow.forEach(function (entry) {\n      clearTimeout(entry.timerId);\n      entry.callback();\n    });\n  };\n\n  return {\n    add: add,\n    flush: flush\n  };\n});\n\nvar areLocationsEqual = function areLocationsEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.droppableId === second.droppableId && first.index === second.index;\n};\nvar isCombineEqual = function isCombineEqual(first, second) {\n  if (first == null && second == null) {\n    return true;\n  }\n\n  if (first == null || second == null) {\n    return false;\n  }\n\n  return first.draggableId === second.draggableId && first.droppableId === second.droppableId;\n};\nvar isCriticalEqual = function isCriticalEqual(first, second) {\n  if (first === second) {\n    return true;\n  }\n\n  var isDraggableEqual = first.draggable.id === second.draggable.id && first.draggable.droppableId === second.draggable.droppableId && first.draggable.type === second.draggable.type && first.draggable.index === second.draggable.index;\n  var isDroppableEqual = first.droppable.id === second.droppable.id && first.droppable.type === second.droppable.type;\n  return isDraggableEqual && isDroppableEqual;\n};\n\nvar withTimings = function withTimings(key, fn) {\n  start(key);\n  fn();\n  finish(key);\n};\n\nvar getDragStart = function getDragStart(critical, mode) {\n  return {\n    draggableId: critical.draggable.id,\n    type: critical.droppable.type,\n    source: {\n      droppableId: critical.droppable.id,\n      index: critical.draggable.index\n    },\n    mode: mode\n  };\n};\n\nvar execute = function execute(responder, data, announce, getDefaultMessage) {\n  if (!responder) {\n    announce(getDefaultMessage(data));\n    return;\n  }\n\n  var willExpire = getExpiringAnnounce(announce);\n  var provided = {\n    announce: willExpire\n  };\n  responder(data, provided);\n\n  if (!willExpire.wasCalled()) {\n    announce(getDefaultMessage(data));\n  }\n};\n\nvar getPublisher = (function (getResponders, announce) {\n  var asyncMarshal = getAsyncMarshal();\n  var dragging = null;\n\n  var beforeStart = function beforeStart(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    withTimings('onBeforeDragStart', function () {\n      var fn = getResponders().onBeforeDragStart;\n\n      if (fn) {\n        fn(getDragStart(critical, mode));\n      }\n    });\n  };\n\n  var start = function start(critical, mode) {\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onBeforeDragStart as a drag start has already been published') : invariant(false) : void 0;\n    var data = getDragStart(critical, mode);\n    dragging = {\n      mode: mode,\n      lastCritical: critical,\n      lastLocation: data.source,\n      lastCombine: null\n    };\n    asyncMarshal.add(function () {\n      withTimings('onDragStart', function () {\n        return execute(getResponders().onDragStart, data, announce, preset.onDragStart);\n      });\n    });\n  };\n\n  var update = function update(critical, impact) {\n    var location = impact.destination;\n    var combine = impact.merge ? impact.merge.combine : null;\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragMove when onDragStart has not been called') : invariant(false) : void 0;\n    var hasCriticalChanged = !isCriticalEqual(critical, dragging.lastCritical);\n\n    if (hasCriticalChanged) {\n      dragging.lastCritical = critical;\n    }\n\n    var hasLocationChanged = !areLocationsEqual(dragging.lastLocation, location);\n\n    if (hasLocationChanged) {\n      dragging.lastLocation = location;\n    }\n\n    var hasGroupingChanged = !isCombineEqual(dragging.lastCombine, combine);\n\n    if (hasGroupingChanged) {\n      dragging.lastCombine = combine;\n    }\n\n    if (!hasCriticalChanged && !hasLocationChanged && !hasGroupingChanged) {\n      return;\n    }\n\n    var data = _extends({}, getDragStart(critical, dragging.mode), {\n      combine: combine,\n      destination: location\n    });\n\n    asyncMarshal.add(function () {\n      withTimings('onDragUpdate', function () {\n        return execute(getResponders().onDragUpdate, data, announce, preset.onDragUpdate);\n      });\n    });\n  };\n\n  var flush = function flush() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only flush responders while dragging') : invariant(false) : void 0;\n    asyncMarshal.flush();\n  };\n\n  var drop = function drop(result) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fire onDragEnd when there is no matching onDragStart') : invariant(false) : void 0;\n    dragging = null;\n    withTimings('onDragEnd', function () {\n      return execute(getResponders().onDragEnd, result, announce, preset.onDragEnd);\n    });\n  };\n\n  var abort = function abort() {\n    if (!dragging) {\n      return;\n    }\n\n    var result = _extends({}, getDragStart(dragging.lastCritical, dragging.mode), {\n      combine: null,\n      destination: null,\n      reason: 'CANCEL'\n    });\n\n    drop(result);\n  };\n\n  return {\n    beforeStart: beforeStart,\n    start: start,\n    update: update,\n    flush: flush,\n    drop: drop,\n    abort: abort\n  };\n});\n\nvar responders = (function (getResponders, announce) {\n  var publisher = getPublisher(getResponders, announce);\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'INITIAL_PUBLISH') {\n          var critical = action.payload.critical;\n          publisher.beforeStart(critical, action.payload.movementMode);\n          next(action);\n          publisher.start(critical, action.payload.movementMode);\n          return;\n        }\n\n        if (action.type === 'DROP_COMPLETE') {\n          var result = action.payload.completed.result;\n          publisher.flush();\n          next(action);\n          publisher.drop(result);\n          return;\n        }\n\n        next(action);\n\n        if (action.type === 'CLEAN') {\n          publisher.abort();\n          return;\n        }\n\n        var state = store.getState();\n\n        if (state.phase === 'DRAGGING') {\n          publisher.update(state.critical, state.impact);\n        }\n      };\n    };\n  };\n});\n\nvar dropAnimationFinish = (function (store) {\n  return function (next) {\n    return function (action) {\n      if (action.type !== 'DROP_ANIMATION_FINISHED') {\n        next(action);\n        return;\n      }\n\n      var state = store.getState();\n      !(state.phase === 'DROP_ANIMATING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot finish a drop animating when no drop is occurring') : invariant(false) : void 0;\n      store.dispatch(completeDrop({\n        completed: state.completed,\n        shouldFlush: false\n      }));\n    };\n  };\n});\n\nvar dimensionMarshalStopper = (function (getMarshal) {\n  return function () {\n    return function (next) {\n      return function (action) {\n        if (action.type === 'DROP_COMPLETE' || action.type === 'CLEAN' || action.type === 'DROP_ANIMATE') {\n          var marshal = getMarshal();\n          marshal.stopPublishing();\n        }\n\n        next(action);\n      };\n    };\n  };\n});\n\nvar shouldEnd = function shouldEnd(action) {\n  return action.type === 'DROP_COMPLETE' || action.type === 'DROP_ANIMATE' || action.type === 'CLEAN';\n};\n\nvar shouldCancelPending = function shouldCancelPending(action) {\n  return action.type === 'COLLECTION_STARTING';\n};\n\nvar autoScroll = (function (getScroller) {\n  return function (store) {\n    return function (next) {\n      return function (action) {\n        if (shouldEnd(action)) {\n          getScroller().stop();\n          next(action);\n          return;\n        }\n\n        if (shouldCancelPending(action)) {\n          getScroller().cancelPending();\n          next(action);\n          return;\n        }\n\n        if (action.type === 'INITIAL_PUBLISH') {\n          next(action);\n          var state = store.getState();\n          !(state.phase === 'DRAGGING') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected phase to be DRAGGING after INITIAL_PUBLISH') : invariant(false) : void 0;\n          getScroller().start(state);\n          return;\n        }\n\n        next(action);\n        getScroller().scroll(store.getState());\n      };\n    };\n  };\n});\n\nvar pendingDrop = (function (store) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      if (action.type !== 'PUBLISH_WHILE_DRAGGING') {\n        return;\n      }\n\n      var postActionState = store.getState();\n\n      if (postActionState.phase !== 'DROP_PENDING') {\n        return;\n      }\n\n      if (postActionState.isWaiting) {\n        return;\n      }\n\n      store.dispatch(drop({\n        reason: postActionState.reason\n      }));\n    };\n  };\n});\n\nvar composeEnhancers = process.env.NODE_ENV !== 'production' && typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : compose;\nvar createStore = (function (_ref) {\n  var getDimensionMarshal = _ref.getDimensionMarshal,\n      styleMarshal = _ref.styleMarshal,\n      getResponders = _ref.getResponders,\n      announce = _ref.announce,\n      getScroller = _ref.getScroller;\n  return createStore$1(reducer, composeEnhancers(applyMiddleware(style(styleMarshal), dimensionMarshalStopper(getDimensionMarshal), lift$1(getDimensionMarshal), drop$1, dropAnimationFinish, pendingDrop, autoScroll(getScroller), responders(getResponders, announce))));\n});\n\nvar clean$2 = function clean() {\n  return {\n    additions: {},\n    removals: {},\n    modified: {}\n  };\n};\n\nvar timingKey = 'Publish collection from DOM';\nvar createPublisher = (function (_ref) {\n  var getEntries = _ref.getEntries,\n      callbacks = _ref.callbacks;\n\n  var advancedUsageWarning = function () {\n    if (process.env.NODE_ENV === 'production') {\n      return function () {};\n    }\n\n    var hasAnnounced = false;\n    return function () {\n      if (hasAnnounced) {\n        return;\n      }\n\n      hasAnnounced = true;\n      process.env.NODE_ENV !== \"production\" ? warning(\"\\n        Advanced usage warning: you are adding or removing a dimension during a drag\\n        This an advanced feature.\\n\\n        More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/changes-while-dragging.md\\n      \") : void 0;\n    };\n  }();\n\n  var staging = clean$2();\n  var frameId = null;\n\n  var collect = function collect() {\n    advancedUsageWarning();\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      callbacks.collectionStarting();\n      var critical = callbacks.getCritical();\n      start(timingKey);\n      var entries = getEntries();\n      var _staging = staging,\n          additions = _staging.additions,\n          removals = _staging.removals,\n          modified = _staging.modified;\n\n      var added = _Object$keys(additions).map(function (id) {\n        return entries.draggables[id].getDimension(origin);\n      }).sort(function (a, b) {\n        return a.descriptor.index - b.descriptor.index;\n      });\n\n      var updated = _Object$keys(modified).map(function (id) {\n        var entry = entries.droppables[id];\n        !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find dynamically added droppable in cache') : invariant(false) : void 0;\n        var isHome = entry.descriptor.id === critical.droppable.id;\n        var options = {\n          withoutPlaceholder: !isHome\n        };\n        return entry.callbacks.recollect(options);\n      });\n\n      var result = {\n        additions: added,\n        removals: _Object$keys(removals),\n        modified: updated\n      };\n      staging = clean$2();\n      finish(timingKey);\n      callbacks.publish(result);\n    });\n  };\n\n  var add = function add(descriptor) {\n    staging.additions[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.removals[descriptor.id]) {\n      delete staging.removals[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var remove = function remove(descriptor) {\n    staging.removals[descriptor.id] = descriptor;\n    staging.modified[descriptor.droppableId] = true;\n\n    if (staging.additions[descriptor.id]) {\n      delete staging.additions[descriptor.id];\n    }\n\n    collect();\n  };\n\n  var stop = function stop() {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n    staging = clean$2();\n  };\n\n  return {\n    add: add,\n    remove: remove,\n    stop: stop\n  };\n});\n\nvar getWindowScroll = (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});\n\nvar getDocumentElement = (function () {\n  var doc = document.documentElement;\n  !doc ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.documentElement') : invariant(false) : void 0;\n  return doc;\n});\n\nvar getMaxWindowScroll = (function () {\n  var doc = getDocumentElement();\n  var maxScroll = getMaxScroll({\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});\n\nvar getViewport = (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n  var doc = getDocumentElement();\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n  var right = left + width;\n  var bottom = top + height;\n  var frame = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    frame: frame,\n    scroll: {\n      initial: scroll,\n      current: scroll,\n      max: maxScroll,\n      diff: {\n        value: origin,\n        displacement: origin\n      }\n    }\n  };\n  return viewport;\n});\n\nvar getInitialPublish = (function (_ref) {\n  var critical = _ref.critical,\n      scrollOptions = _ref.scrollOptions,\n      entries = _ref.entries;\n  var timingKey = 'Initial collection from DOM';\n  start(timingKey);\n  var viewport = getViewport();\n  var windowScroll = viewport.scroll.current;\n  var home = critical.droppable;\n  var droppables = values(entries.droppables).filter(function (entry) {\n    return entry.descriptor.type === home.type;\n  }).map(function (entry) {\n    return entry.callbacks.getDimensionAndWatchScroll(windowScroll, scrollOptions);\n  });\n  var draggables = values(entries.draggables).filter(function (entry) {\n    return entry.descriptor.type === critical.draggable.type;\n  }).map(function (entry) {\n    return entry.getDimension(windowScroll);\n  });\n  var dimensions = {\n    draggables: toDraggableMap(draggables),\n    droppables: toDroppableMap(droppables)\n  };\n  finish(timingKey);\n  var result = {\n    dimensions: dimensions,\n    critical: critical,\n    viewport: viewport\n  };\n  return result;\n});\n\nvar throwIfAddOrRemoveOfWrongType = function throwIfAddOrRemoveOfWrongType(collection, descriptor) {\n  !(collection.critical.draggable.type === descriptor.type) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"We have detected that you have added a Draggable during a drag.\\n      This is not of the same type as the dragging item\\n\\n      Dragging type: \" + collection.critical.draggable.type + \".\\n      Added type: \" + descriptor.type + \"\\n\\n      We are not allowing this as you can run into problems if your change\\n      has shifted the positioning of other Droppables, or has changed the size of the page\") : invariant(false) : void 0;\n};\n\nvar createDimensionMarshal = (function (callbacks) {\n  var entries = {\n    droppables: {},\n    draggables: {}\n  };\n  var collection = null;\n  var publisher = createPublisher({\n    callbacks: {\n      publish: callbacks.publishWhileDragging,\n      collectionStarting: callbacks.collectionStarting,\n      getCritical: function getCritical() {\n        !collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get critical when there is no collection') : invariant(false) : void 0;\n        return collection.critical;\n      }\n    },\n    getEntries: function getEntries() {\n      return entries;\n    }\n  });\n\n  var registerDraggable = function registerDraggable(descriptor, getDimension) {\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n\n    if (!collection) {\n      return;\n    }\n\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.add(descriptor);\n  };\n\n  var updateDraggable = function updateDraggable(previous, descriptor, getDimension) {\n    !entries.draggables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update draggable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.draggables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      getDimension: getDimension\n    };\n    entries.draggables[descriptor.id] = entry;\n  };\n\n  var unregisterDraggable = function unregisterDraggable(descriptor) {\n    var entry = entries.draggables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Draggable with id:\\n      \" + descriptor.id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.draggables[descriptor.id];\n\n    if (!collection) {\n      return;\n    }\n\n    !(collection.critical.draggable.id !== descriptor.id) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot remove the dragging item during a drag') : invariant(false) : void 0;\n    throwIfAddOrRemoveOfWrongType(collection, descriptor);\n    publisher.remove(descriptor);\n  };\n\n  var registerDroppable = function registerDroppable(descriptor, droppableCallbacks) {\n    var id = descriptor.id;\n    entries.droppables[id] = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppable = function updateDroppable(previous, descriptor, droppableCallbacks) {\n    !entries.droppables[previous.id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update droppable registration as no previous registration was found') : invariant(false) : void 0;\n    delete entries.droppables[previous.id];\n    var entry = {\n      descriptor: descriptor,\n      callbacks: droppableCallbacks\n    };\n    entries.droppables[descriptor.id] = entry;\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'You are not able to update the id or type of a droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var unregisterDroppable = function unregisterDroppable(descriptor) {\n    var entry = entries.droppables[descriptor.id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot unregister Droppable with id \" + descriptor.id + \" as as it is not registered\") : invariant(false) : void 0;\n\n    if (entry.descriptor !== descriptor) {\n      return;\n    }\n\n    delete entries.droppables[descriptor.id];\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot add a Droppable during a drag') : invariant(false) : void 0;\n  };\n\n  var updateDroppableIsEnabled = function updateDroppableIsEnabled(id, isEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update is enabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsEnabled({\n      id: id,\n      isEnabled: isEnabled\n    });\n  };\n\n  var updateDroppableIsCombineEnabled = function updateDroppableIsCombineEnabled(id, isCombineEnabled) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update isCombineEnabled flag of Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableIsCombineEnabled({\n      id: id,\n      isCombineEnabled: isCombineEnabled\n    });\n  };\n\n  var updateDroppableScroll = function updateDroppableScroll(id, newScroll) {\n    !entries.droppables[id] ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot update the scroll on Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    callbacks.updateDroppableScroll({\n      id: id,\n      offset: newScroll\n    });\n  };\n\n  var scrollDroppable = function scrollDroppable(id, change) {\n    var entry = entries.droppables[id];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Cannot scroll Droppable \" + id + \" as it is not registered\") : invariant(false) : void 0;\n\n    if (!collection) {\n      return;\n    }\n\n    entry.callbacks.scroll(change);\n  };\n\n  var stopPublishing = function stopPublishing() {\n    if (!collection) {\n      return;\n    }\n\n    publisher.stop();\n    var home = collection.critical.droppable;\n    values(entries.droppables).filter(function (entry) {\n      return entry.descriptor.type === home.type;\n    }).forEach(function (entry) {\n      return entry.callbacks.dragStopped();\n    });\n    collection = null;\n  };\n\n  var startPublishing = function startPublishing(request) {\n    !!collection ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start capturing critical dimensions as there is already a collection') : invariant(false) : void 0;\n    var entry = entries.draggables[request.draggableId];\n    !entry ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical draggable entry') : invariant(false) : void 0;\n    var home = entries.droppables[entry.descriptor.droppableId];\n    !home ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find critical droppable entry') : invariant(false) : void 0;\n    var critical = {\n      draggable: entry.descriptor,\n      droppable: home.descriptor\n    };\n    collection = {\n      critical: critical\n    };\n    return getInitialPublish({\n      critical: critical,\n      entries: entries,\n      scrollOptions: request.scrollOptions\n    });\n  };\n\n  var marshal = {\n    registerDraggable: registerDraggable,\n    updateDraggable: updateDraggable,\n    unregisterDraggable: unregisterDraggable,\n    registerDroppable: registerDroppable,\n    updateDroppable: updateDroppable,\n    unregisterDroppable: unregisterDroppable,\n    updateDroppableIsEnabled: updateDroppableIsEnabled,\n    updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n    scrollDroppable: scrollDroppable,\n    updateDroppableScroll: updateDroppableScroll,\n    startPublishing: startPublishing,\n    stopPublishing: stopPublishing\n  };\n  return marshal;\n});\n\nvar prefix = 'data-react-beautiful-dnd';\nvar dragHandle = prefix + \"-drag-handle\";\nvar draggable = prefix + \"-draggable\";\nvar droppable = prefix + \"-droppable\";\n\nvar makeGetSelector = function makeGetSelector(context) {\n  return function (attribute) {\n    return \"[\" + attribute + \"=\\\"\" + context + \"\\\"]\";\n  };\n};\n\nvar getStyles = function getStyles(rules, property) {\n  return rules.map(function (rule) {\n    var value = rule.styles[property];\n\n    if (!value) {\n      return '';\n    }\n\n    return rule.selector + \" { \" + value + \" }\";\n  }).join(' ');\n};\n\nvar noPointerEvents = 'pointer-events: none;';\nvar getStyles$1 = (function (styleContext) {\n  var getSelector = makeGetSelector(styleContext);\n\n  var dragHandle$1 = function () {\n    var grabCursor = \"\\n      cursor: -webkit-grab;\\n      cursor: grab;\\n    \";\n    return {\n      selector: getSelector(dragHandle),\n      styles: {\n        always: \"\\n          -webkit-touch-callout: none;\\n          -webkit-tap-highlight-color: rgba(0,0,0,0);\\n          touch-action: manipulation;\\n        \",\n        resting: grabCursor,\n        dragging: noPointerEvents,\n        dropAnimating: grabCursor\n      }\n    };\n  }();\n\n  var draggable$1 = function () {\n    var transition = \"\\n      transition: \" + transitions.outOfTheWay + \";\\n    \";\n    return {\n      selector: getSelector(draggable),\n      styles: {\n        dragging: transition,\n        dropAnimating: transition,\n        userCancel: transition\n      }\n    };\n  }();\n\n  var droppable$1 = {\n    selector: getSelector(droppable),\n    styles: {\n      always: \"overflow-anchor: none;\"\n    }\n  };\n  var body = {\n    selector: 'body',\n    styles: {\n      dragging: \"\\n        cursor: grabbing;\\n        cursor: -webkit-grabbing;\\n        user-select: none;\\n        -webkit-user-select: none;\\n        -moz-user-select: none;\\n        -ms-user-select: none;\\n        overflow-anchor: none;\\n      \"\n    }\n  };\n  var rules = [draggable$1, dragHandle$1, droppable$1, body];\n  return {\n    always: getStyles(rules, 'always'),\n    resting: getStyles(rules, 'resting'),\n    dragging: getStyles(rules, 'dragging'),\n    dropAnimating: getStyles(rules, 'dropAnimating'),\n    userCancel: getStyles(rules, 'userCancel')\n  };\n});\n\nvar count = 0;\nvar resetStyleContext = function resetStyleContext() {\n  count = 0;\n};\n\nvar getHead = function getHead() {\n  var head = document.querySelector('head');\n  !head ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find the head to append a style to') : invariant(false) : void 0;\n  return head;\n};\n\nvar createStyleEl = function createStyleEl() {\n  var el = document.createElement('style');\n  el.type = 'text/css';\n  return el;\n};\n\nvar createStyleMarshal = (function () {\n  var context = \"\" + count++;\n  var styles = getStyles$1(context);\n  var always = null;\n  var dynamic = null;\n  var setStyle = memoizeOne(function (el, proposed) {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot set style of style tag if not mounted') : invariant(false) : void 0;\n    el.innerHTML = proposed;\n  });\n\n  var mount = function mount() {\n    !(!always && !dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Style marshal already mounted') : invariant(false) : void 0;\n    always = createStyleEl();\n    dynamic = createStyleEl();\n    always.setAttribute(prefix + \"-always\", context);\n    dynamic.setAttribute(prefix + \"-dynamic\", context);\n    getHead().appendChild(always);\n    getHead().appendChild(dynamic);\n    setStyle(always, styles.always);\n    setStyle(dynamic, styles.resting);\n  };\n\n  var dragging = function dragging() {\n    return setStyle(dynamic, styles.dragging);\n  };\n\n  var dropping = function dropping(reason) {\n    if (reason === 'DROP') {\n      setStyle(dynamic, styles.dropAnimating);\n      return;\n    }\n\n    setStyle(dynamic, styles.userCancel);\n  };\n\n  var resting = function resting() {\n    return setStyle(dynamic, styles.resting);\n  };\n\n  var unmount = function unmount() {\n    !(always && dynamic) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unmount style marshal as it is already unmounted') : invariant(false) : void 0;\n    getHead().removeChild(always);\n    getHead().removeChild(dynamic);\n    always = null;\n    dynamic = null;\n  };\n\n  var marshal = {\n    dragging: dragging,\n    dropping: dropping,\n    resting: resting,\n    styleContext: context,\n    mount: mount,\n    unmount: unmount\n  };\n  return marshal;\n});\n\nvar canStartDrag = (function (state, id) {\n  if (state.phase === 'IDLE') {\n    return true;\n  }\n\n  if (state.phase !== 'DROP_ANIMATING') {\n    return false;\n  }\n\n  if (state.completed.result.draggableId === id) {\n    return false;\n  }\n\n  return state.completed.result.reason === 'DROP';\n});\n\nvar scrollWindow = (function (change) {\n  window.scrollBy(change.x, change.y);\n});\n\nvar getBodyElement = (function () {\n  var body = document.body;\n  !body ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot find document.body') : invariant(false) : void 0;\n  return body;\n});\n\nvar count$1 = 0;\nvar visuallyHidden = {\n  position: 'absolute',\n  width: '1px',\n  height: '1px',\n  margin: '-1px',\n  border: '0',\n  padding: '0',\n  overflow: 'hidden',\n  clip: 'rect(0 0 0 0)',\n  'clip-path': 'inset(100%)'\n};\nvar createAnnouncer = (function () {\n  var id = \"react-beautiful-dnd-announcement-\" + count$1++;\n  var el = null;\n\n  var announce = function announce(message) {\n    if (el) {\n      el.textContent = message;\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      A screen reader message was trying to be announced but it was unable to do so.\\n      This can occur if you unmount your <DragDropContext /> in your onDragEnd.\\n      Consider calling provided.announce() before the unmount so that the instruction will\\n      not be lost for users relying on a screen reader.\\n\\n      Message not passed to screen reader:\\n\\n      \\\"\" + message + \"\\\"\\n    \") : void 0;\n  };\n\n  var mount = function mount() {\n    !!el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Announcer already mounted') : invariant(false) : void 0;\n    el = document.createElement('div');\n    el.id = id;\n    el.setAttribute('aria-live', 'assertive');\n    el.setAttribute('role', 'log');\n    el.setAttribute('aria-atomic', 'true');\n\n    _Object$assign(el.style, visuallyHidden);\n\n    getBodyElement().appendChild(el);\n  };\n\n  var unmount = function unmount() {\n    !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Will not unmount announcer as it is already unmounted') : invariant(false) : void 0;\n    getBodyElement().removeChild(el);\n    el = null;\n  };\n\n  var announcer = {\n    announce: announce,\n    id: id,\n    mount: mount,\n    unmount: unmount\n  };\n  return announcer;\n});\n\nvar getScrollableDroppables = memoizeOne(function (droppables) {\n  return toDroppableList(droppables).filter(function (droppable) {\n    if (!droppable.isEnabled) {\n      return false;\n    }\n\n    if (!droppable.frame) {\n      return false;\n    }\n\n    return true;\n  });\n});\n\nvar getScrollableDroppableOver = function getScrollableDroppableOver(target, droppables) {\n  var maybe = find(getScrollableDroppables(droppables), function (droppable) {\n    !droppable.frame ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Invalid result') : invariant(false) : void 0;\n    return isPositionInFrame(droppable.frame.pageMarginBox)(target);\n  });\n  return maybe;\n};\n\nvar getBestScrollableDroppable = (function (_ref) {\n  var center = _ref.center,\n      destination = _ref.destination,\n      droppables = _ref.droppables;\n\n  if (destination) {\n    var _dimension = droppables[destination];\n\n    if (!_dimension.frame) {\n      return null;\n    }\n\n    return _dimension;\n  }\n\n  var dimension = getScrollableDroppableOver(center, droppables);\n  return dimension;\n});\n\nvar config = {\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  maxPixelScroll: 28,\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    stopDampeningAt: 1200,\n    accelerateAt: 360\n  }\n};\n\nvar getDistanceThresholds = (function (container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n});\n\nvar getPercentage = (function (_ref) {\n  var startOfRange = _ref.startOfRange,\n      endOfRange = _ref.endOfRange,\n      current = _ref.current;\n  var range = endOfRange - startOfRange;\n\n  if (range === 0) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Detected distance range of 0 in the fluid auto scroller\\n      This is unexpected and would cause a divide by 0 issue.\\n      Not allowing an auto scroll\\n    \") : void 0;\n    return 0;\n  }\n\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n});\n\nvar minScroll = 1;\n\nvar getValueFromDistance = (function (distanceToEdge, thresholds) {\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n  return Math.ceil(scroll);\n});\n\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nvar dampenValueByTime = (function (proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n\n  var now = _Date$now();\n\n  var runTime = now - startOfRange;\n\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n});\n\nvar getValue = (function (_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n      thresholds = _ref.thresholds,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  if (scroll === 0) {\n    return 0;\n  }\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n});\n\nvar getScrollOnAxis = (function (_ref) {\n  var container = _ref.container,\n      distanceToEdges = _ref.distanceToEdges,\n      dragStartTime = _ref.dragStartTime,\n      axis = _ref.axis,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});\n\nvar adjustForSizeLimits = (function (_ref) {\n  var container = _ref.container,\n      subject = _ref.subject,\n      proposedScroll = _ref.proposedScroll;\n  var isTooBigVertically = subject.height > container.height;\n  var isTooBigHorizontally = subject.width > container.width;\n\n  if (!isTooBigHorizontally && !isTooBigVertically) {\n    return proposedScroll;\n  }\n\n  if (isTooBigHorizontally && isTooBigVertically) {\n    return null;\n  }\n\n  return {\n    x: isTooBigHorizontally ? 0 : proposedScroll.x,\n    y: isTooBigVertically ? 0 : proposedScroll.y\n  };\n});\n\nvar clean$3 = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nvar getScroll = (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n      container = _ref.container,\n      subject = _ref.subject,\n      center = _ref.center,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean$3({\n    x: x,\n    y: y\n  });\n\n  if (isEqual(required, origin)) {\n    return null;\n  }\n\n  var limited = adjustForSizeLimits({\n    container: container,\n    subject: subject,\n    proposedScroll: required\n  });\n\n  if (!limited) {\n    return null;\n  }\n\n  return isEqual(limited, origin) ? null : limited;\n});\n\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n\n  return value > 0 ? 1 : -1;\n});\nvar getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n\n    if (target > max) {\n      return target - max;\n    }\n\n    return 0;\n  };\n\n  return function (_ref) {\n    var current = _ref.current,\n        max = _ref.max,\n        change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n\n    return overlap;\n  };\n}();\nvar canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n      current = _ref2.current,\n      change = _ref2.change;\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  if (!overlap) {\n    return true;\n  }\n\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n\n  return false;\n};\nvar canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nvar getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nvar canScrollDroppable = function canScrollDroppable(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return false;\n  }\n\n  return canPartiallyScroll({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\nvar getDroppableOverlap = function getDroppableOverlap(droppable, change) {\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  if (!canScrollDroppable(droppable, change)) {\n    return null;\n  }\n\n  return getOverlap({\n    current: frame.scroll.current,\n    max: frame.scroll.max,\n    change: change\n  });\n};\n\nvar getWindowScrollChange = (function (_ref) {\n  var viewport = _ref.viewport,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.frame,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});\n\nvar getDroppableScrollChange = (function (_ref) {\n  var droppable = _ref.droppable,\n      subject = _ref.subject,\n      center = _ref.center,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var frame = droppable.frame;\n\n  if (!frame) {\n    return null;\n  }\n\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: frame.pageMarginBox,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollDroppable(droppable, scroll) ? scroll : null;\n});\n\nvar scroll$1 = (function (_ref) {\n  var state = _ref.state,\n      dragStartTime = _ref.dragStartTime,\n      shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n      scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var center = state.current.page.borderBoxCenter;\n  var draggable = state.dimensions.draggables[state.critical.draggable.id];\n  var subject = draggable.page.marginBox;\n\n  if (state.isWindowScrollAllowed) {\n    var viewport = state.viewport;\n\n    var _change = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      subject: subject,\n      center: center,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n\n    if (_change) {\n      scrollWindow(_change);\n      return;\n    }\n  }\n\n  var droppable = getBestScrollableDroppable({\n    center: center,\n    destination: whatIsDraggedOver(state.impact),\n    droppables: state.dimensions.droppables\n  });\n\n  if (!droppable) {\n    return;\n  }\n\n  var change = getDroppableScrollChange({\n    dragStartTime: dragStartTime,\n    droppable: droppable,\n    subject: subject,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n\n  if (change) {\n    scrollDroppable(droppable.descriptor.id, change);\n  }\n});\n\nvar createFluidScroller = (function (_ref) {\n  var scrollWindow = _ref.scrollWindow,\n      scrollDroppable = _ref.scrollDroppable;\n  var scheduleWindowScroll = rafSchd(scrollWindow);\n  var scheduleDroppableScroll = rafSchd(scrollDroppable);\n  var dragging = null;\n\n  var tryScroll = function tryScroll(state) {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot fluid scroll if not dragging') : invariant(false) : void 0;\n    var _dragging = dragging,\n        shouldUseTimeDampening = _dragging.shouldUseTimeDampening,\n        dragStartTime = _dragging.dragStartTime;\n    scroll$1({\n      state: state,\n      scrollWindow: scheduleWindowScroll,\n      scrollDroppable: scheduleDroppableScroll,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  };\n\n  var cancelPending = function cancelPending() {\n    !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot cancel pending fluid scroll when not started') : invariant(false) : void 0;\n    scheduleWindowScroll.cancel();\n    scheduleDroppableScroll.cancel();\n  };\n\n  var start$1 = function start$1(state) {\n    start('starting fluid scroller');\n    !!dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start auto scrolling when already started') : invariant(false) : void 0;\n\n    var dragStartTime = _Date$now();\n\n    var wasScrollNeeded = false;\n\n    var fakeScrollCallback = function fakeScrollCallback() {\n      wasScrollNeeded = true;\n    };\n\n    scroll$1({\n      state: state,\n      dragStartTime: 0,\n      shouldUseTimeDampening: false,\n      scrollWindow: fakeScrollCallback,\n      scrollDroppable: fakeScrollCallback\n    });\n    dragging = {\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: wasScrollNeeded\n    };\n    finish('starting fluid scroller');\n\n    if (wasScrollNeeded) {\n      tryScroll(state);\n    }\n  };\n\n  var stop = function stop() {\n    if (!dragging) {\n      return;\n    }\n\n    cancelPending();\n    dragging = null;\n  };\n\n  return {\n    start: start$1,\n    stop: stop,\n    cancelPending: cancelPending,\n    scroll: tryScroll\n  };\n});\n\nvar createJumpScroller = (function (_ref) {\n  var move = _ref.move,\n      scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow;\n\n  var moveByOffset = function moveByOffset(state, offset) {\n    var client = add(state.current.client.selection, offset);\n    move({\n      client: client\n    });\n  };\n\n  var scrollDroppableAsMuchAsItCan = function scrollDroppableAsMuchAsItCan(droppable, change) {\n    if (!canScrollDroppable(droppable, change)) {\n      return change;\n    }\n\n    var overlap = getDroppableOverlap(droppable, change);\n\n    if (!overlap) {\n      scrollDroppable(droppable.descriptor.id, change);\n      return null;\n    }\n\n    var whatTheDroppableCanScroll = subtract(change, overlap);\n    scrollDroppable(droppable.descriptor.id, whatTheDroppableCanScroll);\n    var remainder = subtract(change, whatTheDroppableCanScroll);\n    return remainder;\n  };\n\n  var scrollWindowAsMuchAsItCan = function scrollWindowAsMuchAsItCan(isWindowScrollAllowed, viewport, change) {\n    if (!isWindowScrollAllowed) {\n      return change;\n    }\n\n    if (!canScrollWindow(viewport, change)) {\n      return change;\n    }\n\n    var overlap = getWindowOverlap(viewport, change);\n\n    if (!overlap) {\n      scrollWindow(change);\n      return null;\n    }\n\n    var whatTheWindowCanScroll = subtract(change, overlap);\n    scrollWindow(whatTheWindowCanScroll);\n    var remainder = subtract(change, whatTheWindowCanScroll);\n    return remainder;\n  };\n\n  var jumpScroller = function jumpScroller(state) {\n    var request = state.scrollJumpRequest;\n\n    if (!request) {\n      return;\n    }\n\n    var destination = whatIsDraggedOver(state.impact);\n    !destination ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot perform a jump scroll when there is no destination') : invariant(false) : void 0;\n    var droppableRemainder = scrollDroppableAsMuchAsItCan(state.dimensions.droppables[destination], request);\n\n    if (!droppableRemainder) {\n      return;\n    }\n\n    var viewport = state.viewport;\n    var windowRemainder = scrollWindowAsMuchAsItCan(state.isWindowScrollAllowed, viewport, droppableRemainder);\n\n    if (!windowRemainder) {\n      return;\n    }\n\n    moveByOffset(state, windowRemainder);\n  };\n\n  return jumpScroller;\n});\n\nvar createAutoScroller = (function (_ref) {\n  var scrollDroppable = _ref.scrollDroppable,\n      scrollWindow = _ref.scrollWindow,\n      move = _ref.move;\n  var fluidScroller = createFluidScroller({\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n  var jumpScroll = createJumpScroller({\n    move: move,\n    scrollWindow: scrollWindow,\n    scrollDroppable: scrollDroppable\n  });\n\n  var scroll = function scroll(state) {\n    if (state.phase !== 'DRAGGING') {\n      return;\n    }\n\n    if (state.movementMode === 'FLUID') {\n      fluidScroller.scroll(state);\n      return;\n    }\n\n    if (!state.scrollJumpRequest) {\n      return;\n    }\n\n    jumpScroll(state);\n  };\n\n  var scroller = {\n    scroll: scroll,\n    cancelPending: fluidScroller.cancelPending,\n    start: fluidScroller.start,\n    stop: fluidScroller.stop\n  };\n  return scroller;\n});\n\nvar prefix$1 = function prefix(key) {\n  return \"private-react-beautiful-dnd-key-do-not-use-\" + key;\n};\n\nvar storeKey = prefix$1('store');\nvar droppableIdKey = prefix$1('droppable-id');\nvar droppableTypeKey = prefix$1('droppable-type');\nvar dimensionMarshalKey = prefix$1('dimension-marshal');\nvar styleKey = prefix$1('style');\nvar canLiftKey = prefix$1('can-lift');\nvar isMovementAllowedKey = prefix$1('is-movement-allowed');\n\nvar peerDependencies = {\n\treact: \"^16.3.1\"\n};\n\nvar semver = /(\\d+)\\.(\\d+)\\.(\\d+)/;\n\nvar getVersion = function getVersion(value) {\n  var result = semver.exec(value);\n  !(result != null) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Unable to parse React version \" + value) : invariant(false) : void 0;\n  var major = Number(result[1]);\n  var minor = Number(result[2]);\n  var patch = Number(result[3]);\n  return {\n    major: major,\n    minor: minor,\n    patch: patch,\n    raw: value\n  };\n};\n\nvar isSatisfied = function isSatisfied(expected, actual) {\n  if (actual.major > expected.major) {\n    return true;\n  }\n\n  if (actual.major < expected.major) {\n    return false;\n  }\n\n  if (actual.minor > expected.minor) {\n    return true;\n  }\n\n  if (actual.minor < expected.minor) {\n    return false;\n  }\n\n  return actual.patch >= expected.patch;\n};\n\nvar checkReactVersion = (function (peerDepValue, actualValue) {\n  var peerDep = getVersion(peerDepValue);\n  var actual = getVersion(actualValue);\n\n  if (isSatisfied(peerDep, actual)) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    React version: [\" + actual.raw + \"]\\n    does not satisfy expected peer dependency version: [\" + peerDep.raw + \"]\\n\\n    This can result in run time bugs, and even fatal crashes\\n  \") : void 0;\n});\n\nvar suffix = \"\\n  We expect a html5 doctype: <!doctype html>\\n  This is to ensure consistent browser layout and measurement\\n\\n  More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/doctype.md\\n\";\nvar checkDoctype = (function (doc) {\n  var doctype = doc.doctype;\n\n  if (!doctype) {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      No <!doctype html> found.\\n\\n      \" + suffix + \"\\n    \") : void 0;\n    return;\n  }\n\n  if (doctype.name.toLowerCase() !== 'html') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> found: (\" + doctype.name + \")\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n\n  if (doctype.publicId !== '') {\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Unexpected <!doctype> publicId found: (\" + doctype.publicId + \")\\n      A html5 doctype does not have a publicId\\n\\n      \" + suffix + \"\\n    \") : void 0;\n  }\n});\n\nfunction printFatalError(error) {\n  var _console;\n\n  if (process.env.NODE_ENV === 'production') {\n    return;\n  }\n\n  (_console = console).error.apply(_console, getFormattedMessage(\"\\n        An error has occurred while a drag is occurring.\\n        Any existing drag will be cancelled.\\n\\n        > \" + error.message + \"\\n        \"));\n\n  console.error('raw', error);\n}\n\nvar ErrorBoundary = function (_React$Component) {\n  _inheritsLoose(ErrorBoundary, _React$Component);\n\n  function ErrorBoundary() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.onFatalError = function (error) {\n      printFatalError(error);\n\n      _this.props.onError();\n\n      if (error.message.indexOf('Invariant failed') !== -1) {\n        _this.setState({});\n\n        return;\n      }\n\n      throw error;\n    };\n\n    return _this;\n  }\n\n  var _proto = ErrorBoundary.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    window.addEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('error', this.onFatalError);\n  };\n\n  _proto.componentDidCatch = function componentDidCatch(error) {\n    this.onFatalError(error);\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return ErrorBoundary;\n}(React.Component);\n\nvar _DragDropContext$chil;\nvar resetServerContext = function resetServerContext() {\n  resetStyleContext();\n};\n\nvar DragDropContext = function (_React$Component) {\n  _inheritsLoose(DragDropContext, _React$Component);\n\n  function DragDropContext(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.store = void 0;\n    _this.dimensionMarshal = void 0;\n    _this.styleMarshal = void 0;\n    _this.autoScroller = void 0;\n    _this.announcer = void 0;\n    _this.unsubscribe = void 0;\n\n    _this.canLift = function (id) {\n      return canStartDrag(_this.store.getState(), id);\n    };\n\n    _this.getIsMovementAllowed = function () {\n      return isMovementAllowed(_this.store.getState());\n    };\n\n    _this.tryResetStore = function () {\n      var state = _this.store.getState();\n\n      if (state.phase !== 'IDLE') {\n        _this.store.dispatch(clean());\n      }\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      !(typeof props.onDragEnd === 'function') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A DragDropContext requires an onDragEnd function to perform reordering logic') : invariant(false) : void 0;\n    }\n\n    _this.announcer = createAnnouncer();\n    _this.styleMarshal = createStyleMarshal();\n    _this.store = createStore({\n      getDimensionMarshal: function getDimensionMarshal() {\n        return _this.dimensionMarshal;\n      },\n      styleMarshal: _this.styleMarshal,\n      getResponders: function getResponders() {\n        return {\n          onBeforeDragStart: _this.props.onBeforeDragStart,\n          onDragStart: _this.props.onDragStart,\n          onDragEnd: _this.props.onDragEnd,\n          onDragUpdate: _this.props.onDragUpdate\n        };\n      },\n      announce: _this.announcer.announce,\n      getScroller: function getScroller() {\n        return _this.autoScroller;\n      }\n    });\n    var callbacks = bindActionCreators({\n      publishWhileDragging: publishWhileDragging$1,\n      updateDroppableScroll: updateDroppableScroll,\n      updateDroppableIsEnabled: updateDroppableIsEnabled,\n      updateDroppableIsCombineEnabled: updateDroppableIsCombineEnabled,\n      collectionStarting: collectionStarting\n    }, _this.store.dispatch);\n    _this.dimensionMarshal = createDimensionMarshal(callbacks);\n    _this.autoScroller = createAutoScroller(_extends({\n      scrollWindow: scrollWindow,\n      scrollDroppable: _this.dimensionMarshal.scrollDroppable\n    }, bindActionCreators({\n      move: move\n    }, _this.store.dispatch)));\n    return _this;\n  }\n\n  var _proto = DragDropContext.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _ref;\n\n    return _ref = {}, _ref[storeKey] = this.store, _ref[dimensionMarshalKey] = this.dimensionMarshal, _ref[styleKey] = this.styleMarshal.styleContext, _ref[canLiftKey] = this.canLift, _ref[isMovementAllowedKey] = this.getIsMovementAllowed, _ref;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.styleMarshal.mount();\n    this.announcer.mount();\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkReactVersion(peerDependencies.react, React.version);\n      checkDoctype(document);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.tryResetStore();\n    this.styleMarshal.unmount();\n    this.announcer.unmount();\n  };\n\n  _proto.render = function render() {\n    return React.createElement(ErrorBoundary, {\n      onError: this.tryResetStore\n    }, this.props.children);\n  };\n\n  return DragDropContext;\n}(React.Component);\n\nDragDropContext.childContextTypes = (_DragDropContext$chil = {}, _DragDropContext$chil[storeKey] = PropTypes.shape({\n  dispatch: PropTypes.func.isRequired,\n  subscribe: PropTypes.func.isRequired,\n  getState: PropTypes.func.isRequired\n}).isRequired, _DragDropContext$chil[dimensionMarshalKey] = PropTypes.object.isRequired, _DragDropContext$chil[styleKey] = PropTypes.string.isRequired, _DragDropContext$chil[canLiftKey] = PropTypes.func.isRequired, _DragDropContext$chil[isMovementAllowedKey] = PropTypes.func.isRequired, _DragDropContext$chil);\n\nvar isEqual$2 = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\n\nvar isScroll = isEqual$2('scroll');\nvar isAuto = isEqual$2('auto');\nvar isVisible$1 = isEqual$2('visible');\n\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\n\nvar isBoth = function isBoth(overflow, fn) {\n  return fn(overflow.overflowX) && fn(overflow.overflowY);\n};\n\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\n\nvar isBodyScrollable = function isBodyScrollable() {\n  if (process.env.NODE_ENV === 'production') {\n    return false;\n  }\n\n  var body = getBodyElement();\n  var html = document.documentElement;\n  !html ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n\n  if (!isElementScrollable(body)) {\n    return false;\n  }\n\n  var htmlStyle = window.getComputedStyle(html);\n  var htmlOverflow = {\n    overflowX: htmlStyle.overflowX,\n    overflowY: htmlStyle.overflowY\n  };\n\n  if (isBoth(htmlOverflow, isVisible$1)) {\n    return false;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    We have detected that your <body> element might be a scroll container.\\n    We have found no reliable way of detecting whether the <body> element is a scroll container.\\n    Under most circumstances a <body> scroll bar will be on the <html> element (document.documentElement)\\n\\n    Because we cannot determine if the <body> is a scroll container, and generally it is not one,\\n    we will be treating the <body> as *not* a scroll container\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/how-we-detect-scroll-containers.md\\n  \") : void 0;\n  return false;\n};\n\nvar getClosestScrollable = function getClosestScrollable(el) {\n  if (el == null) {\n    return null;\n  }\n\n  if (el === document.body) {\n    return isBodyScrollable() ? el : null;\n  }\n\n  if (el === document.documentElement) {\n    return null;\n  }\n\n  if (!isElementScrollable(el)) {\n    return getClosestScrollable(el.parentElement);\n  }\n\n  return el;\n};\n\nvar checkForNestedScrollContainers = (function (scrollable) {\n  if (!scrollable) {\n    return;\n  }\n\n  var anotherScrollParent = getClosestScrollable(scrollable.parentElement);\n\n  if (!anotherScrollParent) {\n    return;\n  }\n\n  process.env.NODE_ENV !== \"production\" ? warning(\"\\n    Droppable: unsupported nested scroll container detected.\\n    A Droppable can only have one scroll parent (which can be itself)\\n    Nested scroll containers are currently not supported.\\n\\n    We hope to support nested scroll containers soon: https://github.com/atlassian/react-beautiful-dnd/issues/131\\n  \") : void 0;\n});\n\nvar getScroll$1 = (function (el) {\n  return {\n    x: el.scrollLeft,\n    y: el.scrollTop\n  };\n});\n\nvar getIsFixed = function getIsFixed(el) {\n  if (!el) {\n    return false;\n  }\n\n  var style = window.getComputedStyle(el);\n\n  if (style.position === 'fixed') {\n    return true;\n  }\n\n  return getIsFixed(el.parentElement);\n};\n\nvar getEnv = (function (start) {\n  var closestScrollable = getClosestScrollable(start);\n  var isFixedOnPage = getIsFixed(start);\n  return {\n    closestScrollable: closestScrollable,\n    isFixedOnPage: isFixedOnPage\n  };\n});\n\nvar getClient = function getClient(targetRef, closestScrollable) {\n  var base = getBox(targetRef);\n\n  if (!closestScrollable) {\n    return base;\n  }\n\n  if (targetRef !== closestScrollable) {\n    return base;\n  }\n\n  var top = base.paddingBox.top - closestScrollable.scrollTop;\n  var left = base.paddingBox.left - closestScrollable.scrollLeft;\n  var bottom = top + closestScrollable.scrollHeight;\n  var right = left + closestScrollable.scrollWidth;\n  var paddingBox = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left\n  };\n  var borderBox = expand(paddingBox, base.border);\n  var client = createBox({\n    borderBox: borderBox,\n    margin: base.margin,\n    border: base.border,\n    padding: base.padding\n  });\n  return client;\n};\n\nvar getDimension = (function (_ref) {\n  var ref = _ref.ref,\n      descriptor = _ref.descriptor,\n      env = _ref.env,\n      windowScroll = _ref.windowScroll,\n      direction = _ref.direction,\n      isDropDisabled = _ref.isDropDisabled,\n      isCombineEnabled = _ref.isCombineEnabled,\n      shouldClipSubject = _ref.shouldClipSubject;\n  var closestScrollable = env.closestScrollable;\n  var client = getClient(ref, closestScrollable);\n  var page = withScroll(client, windowScroll);\n\n  var closest = function () {\n    if (!closestScrollable) {\n      return null;\n    }\n\n    var frameClient = getBox(closestScrollable);\n    var scrollSize = {\n      scrollHeight: closestScrollable.scrollHeight,\n      scrollWidth: closestScrollable.scrollWidth\n    };\n    return {\n      client: frameClient,\n      page: withScroll(frameClient, windowScroll),\n      scroll: getScroll$1(closestScrollable),\n      scrollSize: scrollSize,\n      shouldClipSubject: shouldClipSubject\n    };\n  }();\n\n  var dimension = getDroppableDimension({\n    descriptor: descriptor,\n    isEnabled: !isDropDisabled,\n    isCombineEnabled: isCombineEnabled,\n    isFixedOnPage: env.isFixedOnPage,\n    direction: direction,\n    client: client,\n    page: page,\n    closest: closest\n  });\n  return dimension;\n});\n\nvar _DroppableDimensionPu;\n\nvar getClosestScrollable$1 = function getClosestScrollable(dragging) {\n  return dragging && dragging.env.closestScrollable || null;\n};\n\nvar immediate = {\n  passive: false\n};\nvar delayed = {\n  passive: true\n};\n\nvar getListenerOptions = function getListenerOptions(options) {\n  return options.shouldPublishImmediately ? immediate : delayed;\n};\n\nvar withoutPlaceholder = function withoutPlaceholder(placeholder, fn) {\n  if (!placeholder) {\n    return fn();\n  }\n\n  var last = placeholder.style.display;\n  placeholder.style.display = 'none';\n  var result = fn();\n  placeholder.style.display = last;\n  return result;\n};\n\nvar DroppableDimensionPublisher = function (_React$Component) {\n  _inheritsLoose(DroppableDimensionPublisher, _React$Component);\n\n  function DroppableDimensionPublisher(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.dragging = void 0;\n    _this.callbacks = void 0;\n    _this.publishedDescriptor = null;\n\n    _this.getClosestScroll = function () {\n      var dragging = _this.dragging;\n\n      if (!dragging || !dragging.env.closestScrollable) {\n        return origin;\n      }\n\n      return getScroll$1(dragging.env.closestScrollable);\n    };\n\n    _this.memoizedUpdateScroll = memoizeOne(function (x, y) {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot update scroll on unpublished droppable') : invariant(false) : void 0;\n      var newScroll = {\n        x: x,\n        y: y\n      };\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.updateDroppableScroll(_this.publishedDescriptor.id, newScroll);\n    });\n\n    _this.updateScroll = function () {\n      var scroll = _this.getClosestScroll();\n\n      _this.memoizedUpdateScroll(scroll.x, scroll.y);\n    };\n\n    _this.scheduleScrollUpdate = rafSchd(_this.updateScroll);\n\n    _this.onClosestScroll = function () {\n      var dragging = _this.dragging;\n      var closest = getClosestScrollable$1(_this.dragging);\n      !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Could not find scroll options while scrolling') : invariant(false) : void 0;\n      var options = dragging.scrollOptions;\n\n      if (options.shouldPublishImmediately) {\n        _this.updateScroll();\n\n        return;\n      }\n\n      _this.scheduleScrollUpdate();\n    };\n\n    _this.scroll = function (change) {\n      var closest = getClosestScrollable$1(_this.dragging);\n      !closest ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot scroll a droppable with no closest scrollable') : invariant(false) : void 0;\n      closest.scrollTop += change.y;\n      closest.scrollLeft += change.x;\n    };\n\n    _this.dragStopped = function () {\n      var dragging = _this.dragging;\n      !dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot stop drag when no active drag') : invariant(false) : void 0;\n      var closest = getClosestScrollable$1(dragging);\n      _this.dragging = null;\n\n      if (!closest) {\n        return;\n      }\n\n      _this.scheduleScrollUpdate.cancel();\n\n      closest.removeEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n    };\n\n    _this.getMemoizedDescriptor = memoizeOne(function (id, type) {\n      return {\n        id: id,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDroppable(descriptor, _this.callbacks);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (_this.publishedDescriptor === descriptor) {\n        return;\n      }\n\n      marshal.updateDroppable(_this.publishedDescriptor, descriptor, _this.callbacks);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDroppable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.recollect = function (options) {\n      var dragging = _this.dragging;\n      var closest = getClosestScrollable$1(dragging);\n      !(dragging && closest) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Can only recollect Droppable client for Droppables that have a scroll container') : invariant(false) : void 0;\n\n      var execute = function execute() {\n        return getDimension({\n          ref: dragging.ref,\n          descriptor: dragging.descriptor,\n          env: dragging.env,\n          windowScroll: origin,\n          direction: _this.props.direction,\n          isDropDisabled: _this.props.isDropDisabled,\n          isCombineEnabled: _this.props.isCombineEnabled,\n          shouldClipSubject: !_this.props.ignoreContainerClipping\n        });\n      };\n\n      if (!options.withoutPlaceholder) {\n        return execute();\n      }\n\n      return withoutPlaceholder(_this.props.getPlaceholderRef(), execute);\n    };\n\n    _this.getDimensionAndWatchScroll = function (windowScroll, options) {\n      !!_this.dragging ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect a droppable while a drag is occurring') : invariant(false) : void 0;\n      var descriptor = _this.publishedDescriptor;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished droppable') : invariant(false) : void 0;\n\n      var ref = _this.props.getDroppableRef();\n\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot collect without a droppable ref') : invariant(false) : void 0;\n      var env = getEnv(ref);\n      var dragging = {\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        scrollOptions: options\n      };\n      _this.dragging = dragging;\n      var dimension = getDimension({\n        ref: ref,\n        descriptor: descriptor,\n        env: env,\n        windowScroll: windowScroll,\n        direction: _this.props.direction,\n        isDropDisabled: _this.props.isDropDisabled,\n        isCombineEnabled: _this.props.isCombineEnabled,\n        shouldClipSubject: !_this.props.ignoreContainerClipping\n      });\n\n      if (env.closestScrollable) {\n        env.closestScrollable.addEventListener('scroll', _this.onClosestScroll, getListenerOptions(dragging.scrollOptions));\n\n        if (process.env.NODE_ENV !== 'production') {\n          checkForNestedScrollContainers(env.closestScrollable);\n        }\n      }\n\n      return dimension;\n    };\n\n    var callbacks = {\n      getDimensionAndWatchScroll: _this.getDimensionAndWatchScroll,\n      recollect: _this.recollect,\n      dragStopped: _this.dragStopped,\n      scroll: _this.scroll\n    };\n    _this.callbacks = callbacks;\n    return _this;\n  }\n\n  var _proto = DroppableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    this.publish();\n\n    if (!this.dragging) {\n      return;\n    }\n\n    var isDisabledChanged = this.props.isDropDisabled !== prevProps.isDropDisabled;\n    var isCombineChanged = this.props.isCombineEnabled !== prevProps.isCombineEnabled;\n\n    if (!isDisabledChanged && !isCombineChanged) {\n      return;\n    }\n\n    var marshal = this.context[dimensionMarshalKey];\n\n    if (isDisabledChanged) {\n      marshal.updateDroppableIsEnabled(this.props.droppableId, !this.props.isDropDisabled);\n    }\n\n    if (isCombineChanged) {\n      marshal.updateDroppableIsCombineEnabled(this.props.droppableId, this.props.isCombineEnabled);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.dragging) {\n      process.env.NODE_ENV !== \"production\" ? warning('unmounting droppable while a drag is occurring') : void 0;\n      this.dragStopped();\n    }\n\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DroppableDimensionPublisher;\n}(React.Component);\n\nDroppableDimensionPublisher.contextTypes = (_DroppableDimensionPu = {}, _DroppableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DroppableDimensionPu);\n\nvar empty = {\n  width: 0,\n  height: 0,\n  margin: noSpacing\n};\n\nvar Placeholder = function (_PureComponent) {\n  _inheritsLoose(Placeholder, _PureComponent);\n\n  function Placeholder() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _PureComponent.call.apply(_PureComponent, [this].concat(args)) || this;\n    _this.mountTimerId = null;\n    _this.state = {\n      isAnimatingOpenOnMount: _this.props.animate === 'open'\n    };\n\n    _this.onTransitionEnd = function (event) {\n      if (event.propertyName !== 'height') {\n        return;\n      }\n\n      _this.props.onTransitionEnd();\n\n      if (_this.props.animate === 'close') {\n        _this.props.onClose();\n      }\n    };\n\n    return _this;\n  }\n\n  Placeholder.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (state.isAnimatingOpenOnMount && props.animate !== 'open') {\n      return {\n        isAnimatingOpenOnMount: false\n      };\n    }\n\n    return state;\n  };\n\n  var _proto = Placeholder.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    if (!this.state.isAnimatingOpenOnMount) {\n      return;\n    }\n\n    this.mountTimerId = setTimeout(function () {\n      _this2.mountTimerId = null;\n\n      if (_this2.state.isAnimatingOpenOnMount) {\n        _this2.setState({\n          isAnimatingOpenOnMount: false\n        });\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (!this.mountTimerId) {\n      return;\n    }\n\n    clearTimeout(this.mountTimerId);\n    this.mountTimerId = null;\n  };\n\n  _proto.getSize = function getSize() {\n    if (this.state.isAnimatingOpenOnMount) {\n      return empty;\n    }\n\n    if (this.props.animate === 'close') {\n      return empty;\n    }\n\n    var placeholder = this.props.placeholder;\n    return {\n      height: placeholder.client.borderBox.height,\n      width: placeholder.client.borderBox.width,\n      margin: placeholder.client.margin\n    };\n  };\n\n  _proto.render = function render() {\n    var placeholder = this.props.placeholder;\n    var size = this.getSize();\n    var display = placeholder.display,\n        tagName = placeholder.tagName;\n    var style = {\n      display: display,\n      boxSizing: 'border-box',\n      width: size.width,\n      height: size.height,\n      marginTop: size.margin.top,\n      marginRight: size.margin.right,\n      marginBottom: size.margin.bottom,\n      marginLeft: size.margin.left,\n      flexShrink: '0',\n      flexGrow: '0',\n      pointerEvents: 'none',\n      transition: transitions.placeholder\n    };\n    return React.createElement(tagName, {\n      style: style,\n      onTransitionEnd: this.onTransitionEnd,\n      ref: this.props.innerRef\n    });\n  };\n\n  return Placeholder;\n}(PureComponent);\n\nvar getWindowFromEl = (function (el) {\n  return el && el.ownerDocument ? el.ownerDocument.defaultView : window;\n});\n\nfunction isHtmlElement(el) {\n  return el instanceof getWindowFromEl(el).HTMLElement;\n}\n\nvar throwIfRefIsInvalid = (function (ref) {\n  !(ref && isHtmlElement(ref)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n    provided.innerRef has not been provided with a HTMLElement.\\n\\n    You can find a guide on using the innerRef callback functions at:\\n    https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/using-inner-ref.md\\n  \") : invariant(false) : void 0;\n});\n\nvar checkOwnProps = (function (props) {\n  !props.droppableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A Droppable requires a droppableId prop') : invariant(false) : void 0;\n  !(typeof props.isDropDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDropDisabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.isCombineEnabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isCombineEnabled must be a boolean') : invariant(false) : void 0;\n  !(typeof props.ignoreContainerClipping === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'ignoreContainerClipping must be a boolean') : invariant(false) : void 0;\n});\n\nvar AnimateInOut = function (_React$PureComponent) {\n  _inheritsLoose(AnimateInOut, _React$PureComponent);\n\n  function AnimateInOut() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.state = {\n      isVisible: Boolean(_this.props.on),\n      data: _this.props.on,\n      animate: _this.props.shouldAnimate && _this.props.on ? 'open' : 'none'\n    };\n\n    _this.onClose = function () {\n      if (_this.state.animate !== 'close') {\n        return;\n      }\n\n      _this.setState({\n        isVisible: false\n      });\n    };\n\n    return _this;\n  }\n\n  AnimateInOut.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n    if (!props.shouldAnimate) {\n      return {\n        isVisible: Boolean(props.on),\n        data: props.on,\n        animate: 'none'\n      };\n    }\n\n    if (props.on) {\n      return {\n        isVisible: true,\n        data: props.on,\n        animate: 'open'\n      };\n    }\n\n    if (state.isVisible) {\n      return {\n        isVisible: true,\n        data: state.data,\n        animate: 'close'\n      };\n    }\n\n    return {\n      isVisible: false,\n      animate: 'close',\n      data: null\n    };\n  };\n\n  var _proto = AnimateInOut.prototype;\n\n  _proto.render = function render() {\n    if (!this.state.isVisible) {\n      return null;\n    }\n\n    var provided = {\n      onClose: this.onClose,\n      data: this.state.data,\n      animate: this.state.animate\n    };\n    return this.props.children(provided);\n  };\n\n  return AnimateInOut;\n}(React.PureComponent);\n\nvar _Droppable$contextTyp, _Droppable$childConte;\n\nvar Droppable = function (_React$Component) {\n  _inheritsLoose(Droppable, _React$Component);\n\n  function Droppable(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.styleContext = void 0;\n    _this.ref = null;\n    _this.placeholderRef = null;\n\n    _this.setPlaceholderRef = function (ref) {\n      _this.placeholderRef = ref;\n    };\n\n    _this.getPlaceholderRef = function () {\n      return _this.placeholderRef;\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDroppableRef = function () {\n      return _this.ref;\n    };\n\n    _this.onPlaceholderTransitionEnd = function () {\n      var isMovementAllowed = _this.context[isMovementAllowedKey]();\n\n      if (isMovementAllowed) {\n        _this.props.updateViewportMaxScroll({\n          maxScroll: getMaxWindowScroll()\n        });\n      }\n    };\n\n    _this.styleContext = context[styleKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Droppable.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    var _value;\n\n    var value = (_value = {}, _value[droppableIdKey] = this.props.droppableId, _value[droppableTypeKey] = this.props.type, _value);\n    return value;\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    throwIfRefIsInvalid(this.ref);\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.warnIfPlaceholderNotMounted();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n    this.placeholderRef = null;\n  };\n\n  _proto.warnIfPlaceholderNotMounted = function warnIfPlaceholderNotMounted() {\n    if (process.env.NODE_ENV === 'production') {\n      return;\n    }\n\n    if (!this.props.placeholder) {\n      return;\n    }\n\n    if (this.placeholderRef) {\n      return;\n    }\n\n    process.env.NODE_ENV !== \"production\" ? warning(\"\\n      Droppable setup issue [droppableId: \\\"\" + this.props.droppableId + \"\\\"]:\\n      DroppableProvided > placeholder could not be found.\\n\\n      Please be sure to add the {provided.placeholder} React Node as a child of your Droppable.\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/droppable.md\\n    \") : void 0;\n  };\n\n  _proto.getPlaceholder = function getPlaceholder() {\n    var _this2 = this;\n\n    return React.createElement(AnimateInOut, {\n      on: this.props.placeholder,\n      shouldAnimate: this.props.shouldAnimatePlaceholder\n    }, function (_ref) {\n      var onClose = _ref.onClose,\n          data = _ref.data,\n          animate = _ref.animate;\n      return React.createElement(Placeholder, {\n        placeholder: data,\n        onClose: onClose,\n        innerRef: _this2.setPlaceholderRef,\n        animate: animate,\n        onTransitionEnd: _this2.onPlaceholderTransitionEnd\n      });\n    });\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        direction = _this$props.direction,\n        type = _this$props.type,\n        droppableId = _this$props.droppableId,\n        isDropDisabled = _this$props.isDropDisabled,\n        isCombineEnabled = _this$props.isCombineEnabled,\n        ignoreContainerClipping = _this$props.ignoreContainerClipping,\n        snapshot = _this$props.snapshot;\n    var provided = {\n      innerRef: this.setRef,\n      placeholder: this.getPlaceholder(),\n      droppableProps: {\n        'data-react-beautiful-dnd-droppable': this.styleContext\n      }\n    };\n    return React.createElement(DroppableDimensionPublisher, {\n      droppableId: droppableId,\n      type: type,\n      direction: direction,\n      ignoreContainerClipping: ignoreContainerClipping,\n      isDropDisabled: isDropDisabled,\n      isCombineEnabled: isCombineEnabled,\n      getDroppableRef: this.getDroppableRef,\n      getPlaceholderRef: this.getPlaceholderRef\n    }, children(provided, snapshot));\n  };\n\n  return Droppable;\n}(React.Component);\n\nDroppable.contextTypes = (_Droppable$contextTyp = {}, _Droppable$contextTyp[styleKey] = PropTypes.string.isRequired, _Droppable$contextTyp[isMovementAllowedKey] = PropTypes.func.isRequired, _Droppable$contextTyp);\nDroppable.childContextTypes = (_Droppable$childConte = {}, _Droppable$childConte[droppableIdKey] = PropTypes.string.isRequired, _Droppable$childConte[droppableTypeKey] = PropTypes.string.isRequired, _Droppable$childConte);\n\nvar isStrictEqual = (function (a, b) {\n  return a === b;\n});\n\nvar whatIsDraggedOverFromResult = (function (result) {\n  var combine = result.combine,\n      destination = result.destination;\n\n  if (destination) {\n    return destination.droppableId;\n  }\n\n  if (combine) {\n    return combine.droppableId;\n  }\n\n  return null;\n});\n\nvar isMatchingType = function isMatchingType(type, critical) {\n  return type === critical.droppable.type;\n};\n\nvar getDraggable = function getDraggable(critical, dimensions) {\n  return dimensions.draggables[critical.draggable.id];\n};\n\nvar makeMapStateToProps = function makeMapStateToProps() {\n  var idle = {\n    placeholder: null,\n    shouldAnimatePlaceholder: true,\n    snapshot: {\n      isDraggingOver: false,\n      draggingOverWith: null,\n      draggingFromThisWith: null\n    }\n  };\n\n  var idleWithoutAnimation = _extends({}, idle, {\n    shouldAnimatePlaceholder: false\n  });\n\n  var getMapProps = memoizeOne(function (id, isDraggingOver, dragging, snapshot) {\n    var isHome = dragging.descriptor.droppableId === id;\n\n    if (isHome) {\n      return {\n        placeholder: dragging.placeholder,\n        shouldAnimatePlaceholder: false,\n        snapshot: snapshot\n      };\n    }\n\n    if (!isDraggingOver) {\n      return idle;\n    }\n\n    return {\n      placeholder: dragging.placeholder,\n      shouldAnimatePlaceholder: true,\n      snapshot: snapshot\n    };\n  });\n  var getSnapshot = memoizeOne(function (id, isDraggingOver, dragging) {\n    var draggableId = dragging.descriptor.id;\n    var isHome = dragging.descriptor.droppableId === id;\n    var draggingOverWith = isDraggingOver ? draggableId : null;\n    var draggingFromThisWith = isHome ? draggableId : null;\n    return {\n      isDraggingOver: isDraggingOver,\n      draggingOverWith: draggingOverWith,\n      draggingFromThisWith: draggingFromThisWith\n    };\n  });\n\n  var selector = function selector(state, ownProps) {\n    var id = ownProps.droppableId;\n    var type = ownProps.type;\n\n    if (state.isDragging) {\n      var critical = state.critical;\n\n      if (!isMatchingType(type, critical)) {\n        return idle;\n      }\n\n      var dragging = getDraggable(critical, state.dimensions);\n      var isDraggingOver = whatIsDraggedOver(state.impact) === id;\n      var snapshot = getSnapshot(id, isDraggingOver, dragging);\n      return getMapProps(id, isDraggingOver, dragging, snapshot);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (!isMatchingType(type, completed.critical)) {\n        return idle;\n      }\n\n      var _dragging = getDraggable(completed.critical, state.dimensions);\n\n      var _snapshot = getSnapshot(id, whatIsDraggedOverFromResult(completed.result) === id, _dragging);\n\n      return getMapProps(id, whatIsDraggedOver(completed.impact) === id, _dragging, _snapshot);\n    }\n\n    if (state.phase === 'IDLE' && state.completed) {\n      var _completed = state.completed;\n\n      if (!isMatchingType(type, _completed.critical)) {\n        return idle;\n      }\n\n      var wasOver = whatIsDraggedOver(_completed.impact) === id;\n      var wasCombining = Boolean(_completed.impact.merge);\n\n      if (state.shouldFlush) {\n        return idleWithoutAnimation;\n      }\n\n      if (wasOver) {\n        return wasCombining ? idle : idleWithoutAnimation;\n      }\n\n      return idle;\n    }\n\n    return idle;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps = {\n  updateViewportMaxScroll: updateViewportMaxScroll\n};\nvar defaultProps = {\n  type: 'DEFAULT',\n  direction: 'vertical',\n  isDropDisabled: false,\n  isCombineEnabled: false,\n  ignoreContainerClipping: false\n};\nvar ConnectedDroppable = connect(makeMapStateToProps, mapDispatchToProps, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Droppable);\nConnectedDroppable.defaultProps = defaultProps;\n\nvar _DraggableDimensionPu;\n\nvar DraggableDimensionPublisher = function (_Component) {\n  _inheritsLoose(DraggableDimensionPublisher, _Component);\n\n  function DraggableDimensionPublisher() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _Component.call.apply(_Component, [this].concat(args)) || this;\n    _this.publishedDescriptor = null;\n    _this.getMemoizedDescriptor = memoizeOne(function (id, index, droppableId, type) {\n      return {\n        id: id,\n        index: index,\n        droppableId: droppableId,\n        type: type\n      };\n    });\n\n    _this.publish = function () {\n      var marshal = _this.context[dimensionMarshalKey];\n\n      var descriptor = _this.getMemoizedDescriptor(_this.props.draggableId, _this.props.index, _this.props.droppableId, _this.props.type);\n\n      if (!_this.publishedDescriptor) {\n        marshal.registerDraggable(descriptor, _this.getDimension);\n        _this.publishedDescriptor = descriptor;\n        return;\n      }\n\n      if (descriptor === _this.publishedDescriptor) {\n        return;\n      }\n\n      marshal.updateDraggable(_this.publishedDescriptor, descriptor, _this.getDimension);\n      _this.publishedDescriptor = descriptor;\n    };\n\n    _this.unpublish = function () {\n      !_this.publishedDescriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot unpublish descriptor when none is published') : invariant(false) : void 0;\n      var marshal = _this.context[dimensionMarshalKey];\n      marshal.unregisterDraggable(_this.publishedDescriptor);\n      _this.publishedDescriptor = null;\n    };\n\n    _this.getDimension = function (windowScroll) {\n      if (windowScroll === void 0) {\n        windowScroll = origin;\n      }\n\n      var targetRef = _this.props.getDraggableRef();\n\n      var descriptor = _this.publishedDescriptor;\n      !targetRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'DraggableDimensionPublisher cannot calculate a dimension when not attached to the DOM') : invariant(false) : void 0;\n      !descriptor ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get dimension for unpublished draggable') : invariant(false) : void 0;\n      var computedStyles = window.getComputedStyle(targetRef);\n      var borderBox = targetRef.getBoundingClientRect();\n      var client = calculateBox(borderBox, computedStyles);\n      var page = withScroll(client, windowScroll);\n      var placeholder = {\n        client: client,\n        tagName: targetRef.tagName.toLowerCase(),\n        display: computedStyles.display\n      };\n      var displaceBy = {\n        x: client.marginBox.width,\n        y: client.marginBox.height\n      };\n      var dimension = {\n        descriptor: descriptor,\n        placeholder: placeholder,\n        displaceBy: displaceBy,\n        client: client,\n        page: page\n      };\n      return dimension;\n    };\n\n    return _this;\n  }\n\n  var _proto = DraggableDimensionPublisher.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.publish();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.publish();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.unpublish();\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return DraggableDimensionPublisher;\n}(Component);\n\nDraggableDimensionPublisher.contextTypes = (_DraggableDimensionPu = {}, _DraggableDimensionPu[dimensionMarshalKey] = PropTypes.object.isRequired, _DraggableDimensionPu);\n\nfunction isSvgElement(el) {\n  return el instanceof getWindowFromEl(el).SVGElement;\n}\n\nvar selector = \"[\" + dragHandle + \"]\";\n\nvar throwIfSVG = function throwIfSVG(el) {\n  !!isSvgElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"A drag handle cannot be an SVGElement: it has inconsistent focus support.\\n\\n    More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/guides/dragging-svgs.md\") : invariant(false) : void 0;\n};\n\nvar getDragHandleRef = function getDragHandleRef(draggableRef) {\n  if (draggableRef.hasAttribute(dragHandle)) {\n    throwIfSVG(draggableRef);\n    return draggableRef;\n  }\n\n  var el = draggableRef.querySelector(selector);\n  throwIfSVG(draggableRef);\n  !el ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"\\n      Cannot find drag handle element inside of Draggable.\\n      Please be sure to apply the {...provided.dragHandleProps} to your Draggable\\n\\n      More information: https://github.com/atlassian/react-beautiful-dnd/blob/master/docs/api/draggable.md\\n    \") : invariant(false) : void 0;\n  !isHtmlElement(el) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'A drag handle must be a HTMLElement') : invariant(false) : void 0;\n  return el;\n};\n\nvar retainingFocusFor = null;\nvar listenerOptions = {\n  capture: true\n};\n\nvar clearRetentionOnFocusChange = function () {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    window.addEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    window.removeEventListener('focus', onWindowFocusChange, listenerOptions);\n  };\n\n  var onWindowFocusChange = function onWindowFocusChange() {\n    unbind();\n    retainingFocusFor = null;\n  };\n\n  var result = function result() {\n    return bind();\n  };\n\n  result.cancel = function () {\n    return unbind();\n  };\n\n  return result;\n}();\n\nvar retain = function retain(id) {\n  retainingFocusFor = id;\n  clearRetentionOnFocusChange();\n};\n\nvar tryRestoreFocus = function tryRestoreFocus(id, draggableRef) {\n  if (!retainingFocusFor) {\n    return;\n  }\n\n  if (id !== retainingFocusFor) {\n    return;\n  }\n\n  retainingFocusFor = null;\n  clearRetentionOnFocusChange.cancel();\n  var dragHandleRef = getDragHandleRef(draggableRef);\n\n  if (!dragHandleRef) {\n    process.env.NODE_ENV !== \"production\" ? warning('Could not find drag handle in the DOM to focus on it') : void 0;\n    return;\n  }\n\n  dragHandleRef.focus();\n};\n\nvar retainer = {\n  retain: retain,\n  tryRestoreFocus: tryRestoreFocus\n};\n\nfunction isElement(el) {\n  return el instanceof getWindowFromEl(el).Element;\n}\n\nvar interactiveTagNames = {\n  input: true,\n  button: true,\n  textarea: true,\n  select: true,\n  option: true,\n  optgroup: true,\n  video: true,\n  audio: true\n};\n\nvar isAnInteractiveElement = function isAnInteractiveElement(parent, current) {\n  if (current == null) {\n    return false;\n  }\n\n  var hasAnInteractiveTag = Boolean(interactiveTagNames[current.tagName.toLowerCase()]);\n\n  if (hasAnInteractiveTag) {\n    return true;\n  }\n\n  var attribute = current.getAttribute('contenteditable');\n\n  if (attribute === 'true' || attribute === '') {\n    return true;\n  }\n\n  if (current === parent) {\n    return false;\n  }\n\n  return isAnInteractiveElement(parent, current.parentElement);\n};\n\nvar shouldAllowDraggingFromTarget = (function (event, props) {\n  if (props.canDragInteractiveElements) {\n    return true;\n  }\n\n  var target = event.target,\n      currentTarget = event.currentTarget;\n\n  if (!isElement(target) || !isElement(currentTarget)) {\n    return true;\n  }\n\n  return !isAnInteractiveElement(currentTarget, target);\n});\n\nvar createScheduler = (function (callbacks) {\n  var memoizedMove = memoizeOne(function (x, y) {\n    var point = {\n      x: x,\n      y: y\n    };\n    callbacks.onMove(point);\n  });\n  var move = rafSchd(function (point) {\n    return memoizedMove(point.x, point.y);\n  });\n  var moveUp = rafSchd(callbacks.onMoveUp);\n  var moveDown = rafSchd(callbacks.onMoveDown);\n  var moveRight = rafSchd(callbacks.onMoveRight);\n  var moveLeft = rafSchd(callbacks.onMoveLeft);\n  var windowScrollMove = rafSchd(callbacks.onWindowScroll);\n\n  var cancel = function cancel() {\n    move.cancel();\n    moveUp.cancel();\n    moveDown.cancel();\n    moveRight.cancel();\n    moveLeft.cancel();\n    windowScrollMove.cancel();\n  };\n\n  return {\n    move: move,\n    moveUp: moveUp,\n    moveDown: moveDown,\n    moveRight: moveRight,\n    moveLeft: moveLeft,\n    windowScrollMove: windowScrollMove,\n    cancel: cancel\n  };\n});\n\nvar sloppyClickThreshold = 5;\nvar isSloppyClickThresholdExceeded = (function (original, current) {\n  return Math.abs(current.x - original.x) >= sloppyClickThreshold || Math.abs(current.y - original.y) >= sloppyClickThreshold;\n});\n\nvar tab = 9;\nvar enter = 13;\nvar escape = 27;\nvar space = 32;\nvar pageUp = 33;\nvar pageDown = 34;\nvar end = 35;\nvar home = 36;\nvar arrowLeft = 37;\nvar arrowUp = 38;\nvar arrowRight = 39;\nvar arrowDown = 40;\n\nvar _preventedKeys;\nvar preventedKeys = (_preventedKeys = {}, _preventedKeys[enter] = true, _preventedKeys[tab] = true, _preventedKeys);\nvar preventStandardKeyEvents = (function (event) {\n  if (preventedKeys[event.keyCode]) {\n    event.preventDefault();\n  }\n});\n\nvar getOptions = function getOptions(shared, fromBinding) {\n  return _extends({}, shared, fromBinding);\n};\n\nvar bindEvents = function bindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.addEventListener(binding.eventName, binding.fn, options);\n  });\n};\nvar unbindEvents = function unbindEvents(el, bindings, sharedOptions) {\n  bindings.forEach(function (binding) {\n    var options = getOptions(sharedOptions, binding.options);\n    el.removeEventListener(binding.eventName, binding.fn, options);\n  });\n};\n\nvar sharedOptions = {\n  capture: true\n};\nvar createPostDragEventPreventer = (function (getWindow) {\n  var isBound = false;\n\n  var bind = function bind() {\n    if (isBound) {\n      return;\n    }\n\n    isBound = true;\n    bindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var unbind = function unbind() {\n    if (!isBound) {\n      return;\n    }\n\n    isBound = false;\n    unbindEvents(getWindow(), pointerEvents, sharedOptions);\n  };\n\n  var pointerEvents = [{\n    eventName: 'click',\n    fn: function fn(event) {\n      event.preventDefault();\n      unbind();\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: unbind\n  }, {\n    eventName: 'touchstart',\n    fn: unbind\n  }];\n\n  var preventNext = function preventNext() {\n    if (isBound) {\n      unbind();\n    }\n\n    bind();\n  };\n\n  var preventer = {\n    preventNext: preventNext,\n    abort: unbind\n  };\n  return preventer;\n});\n\nvar createEventMarshal = (function () {\n  var isMouseDownHandled = false;\n\n  var handle = function handle() {\n    !!isMouseDownHandled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot handle mouse down as it is already handled') : invariant(false) : void 0;\n    isMouseDownHandled = true;\n  };\n\n  var isHandled = function isHandled() {\n    return isMouseDownHandled;\n  };\n\n  var reset = function reset() {\n    isMouseDownHandled = false;\n  };\n\n  return {\n    handle: handle,\n    isHandled: isHandled,\n    reset: reset\n  };\n});\n\nvar supportedEventName = function () {\n  var base = 'visibilitychange';\n\n  if (typeof document === 'undefined') {\n    return base;\n  }\n\n  var candidates = [base, \"ms\" + base, \"webkit\" + base, \"moz\" + base, \"o\" + base];\n  var supported = find(candidates, function (eventName) {\n    return \"on\" + eventName in document;\n  });\n  return supported || base;\n}();\n\nvar primaryButton = 0;\n\nvar noop = function noop() {};\n\nvar mouseDownMarshal = createEventMarshal();\nvar createMouseSensor = (function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing,\n      getShouldRespectForceTouch = _ref.getShouldRespectForceTouch;\n  var state = {\n    isDragging: false,\n    pending: null\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    setState({\n      pending: null,\n      isDragging: true\n    });\n    fn();\n  };\n\n  var stopDragging = function stopDragging(fn, shouldBlockClick) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (shouldBlockClick === void 0) {\n      shouldBlockClick = true;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    mouseDownMarshal.reset();\n\n    if (shouldBlockClick) {\n      postDragEventPreventer.preventNext();\n    }\n\n    setState({\n      isDragging: false,\n      pending: null\n    });\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(point) {\n    setState({\n      pending: point,\n      isDragging: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    stopDragging(noop, false);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousemove',\n    fn: function fn(event) {\n      var button = event.button,\n          clientX = event.clientX,\n          clientY = event.clientY;\n\n      if (button !== primaryButton) {\n        return;\n      }\n\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n\n      if (state.isDragging) {\n        event.preventDefault();\n        schedule.move(point);\n        return;\n      }\n\n      if (!state.pending) {\n        stopPendingDrag();\n        process.env.NODE_ENV !== \"production\" ? invariant(false, 'Expected there to be an active or pending drag when window mousemove event is received') : invariant(false);\n      }\n\n      if (!isSloppyClickThresholdExceeded(state.pending, point)) {\n        return;\n      }\n\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: point,\n          movementMode: 'FLUID'\n        });\n      });\n    }\n  }, {\n    eventName: 'mouseup',\n    fn: function fn(event) {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'mousedown',\n    fn: function fn(event) {\n      if (state.isDragging) {\n        event.preventDefault();\n      }\n\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n        cancel();\n        return;\n      }\n\n      preventStandardKeyEvents(event);\n    }\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.currentTarget !== getWindow()) {\n        return;\n      }\n\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'webkitmouseforcechanged',\n    fn: function fn(event) {\n      if (event.webkitForce == null || MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN == null) {\n        process.env.NODE_ENV !== \"production\" ? warning('handling a mouse force changed event when it is not supported') : void 0;\n        return;\n      }\n\n      var forcePressThreshold = MouseEvent.WEBKIT_FORCE_AT_FORCE_MOUSE_DOWN;\n      var isForcePressing = event.webkitForce >= forcePressThreshold;\n\n      if (!getShouldRespectForceTouch()) {\n        event.preventDefault();\n        return;\n      }\n\n      if (isForcePressing) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    var win = getWindow();\n    bindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    var win = getWindow();\n    unbindEvents(win, windowBindings, {\n      capture: true\n    });\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    if (mouseDownMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a mouse down while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    if (event.button !== primaryButton) {\n      return;\n    }\n\n    if (event.ctrlKey || event.metaKey || event.shiftKey || event.altKey) {\n      return;\n    }\n\n    mouseDownMarshal.handle();\n    event.preventDefault();\n    var point = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    startPendingDrag(point);\n  };\n\n  var sensor = {\n    onMouseDown: onMouseDown,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n});\n\nvar getBorderBoxCenterPosition = (function (el) {\n  return getRect(el.getBoundingClientRect()).center;\n});\n\nvar _scrollJumpKeys;\nvar scrollJumpKeys = (_scrollJumpKeys = {}, _scrollJumpKeys[pageDown] = true, _scrollJumpKeys[pageUp] = true, _scrollJumpKeys[home] = true, _scrollJumpKeys[end] = true, _scrollJumpKeys);\n\nvar noop$1 = function noop() {};\n\nvar createKeyboardSensor = (function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      getDraggableRef = _ref.getDraggableRef,\n      canStartCapturing = _ref.canStartCapturing;\n  var state = {\n    isDragging: false\n  };\n\n  var setState = function setState(newState) {\n    state = newState;\n  };\n\n  var startDragging = function startDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$1;\n    }\n\n    setState({\n      isDragging: true\n    });\n    bindWindowEvents();\n    fn();\n  };\n\n  var stopDragging = function stopDragging(postDragFn) {\n    if (postDragFn === void 0) {\n      postDragFn = noop$1;\n    }\n\n    schedule.cancel();\n    unbindWindowEvents();\n    setState({\n      isDragging: false\n    });\n    postDragFn();\n  };\n\n  var kill = function kill() {\n    if (state.isDragging) {\n      stopDragging();\n    }\n  };\n\n  var cancel = function cancel() {\n    stopDragging(callbacks.onCancel);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var schedule = createScheduler(callbacks);\n\n  var onKeyDown = function onKeyDown(event) {\n    if (!isDragging()) {\n      if (event.defaultPrevented) {\n        return;\n      }\n\n      if (!canStartCapturing(event)) {\n        return;\n      }\n\n      if (event.keyCode !== space) {\n        return;\n      }\n\n      var ref = getDraggableRef();\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot start a keyboard drag without a draggable ref') : invariant(false) : void 0;\n      var center = getBorderBoxCenterPosition(ref);\n      event.preventDefault();\n      startDragging(function () {\n        return callbacks.onLift({\n          clientSelection: center,\n          movementMode: 'SNAP'\n        });\n      });\n      return;\n    }\n\n    if (event.keyCode === escape) {\n      event.preventDefault();\n      cancel();\n      return;\n    }\n\n    if (event.keyCode === space) {\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n      return;\n    }\n\n    if (event.keyCode === arrowDown) {\n      event.preventDefault();\n      schedule.moveDown();\n      return;\n    }\n\n    if (event.keyCode === arrowUp) {\n      event.preventDefault();\n      schedule.moveUp();\n      return;\n    }\n\n    if (event.keyCode === arrowRight) {\n      event.preventDefault();\n      schedule.moveRight();\n      return;\n    }\n\n    if (event.keyCode === arrowLeft) {\n      event.preventDefault();\n      schedule.moveLeft();\n      return;\n    }\n\n    if (scrollJumpKeys[event.keyCode]) {\n      event.preventDefault();\n      return;\n    }\n\n    preventStandardKeyEvents(event);\n  };\n\n  var windowBindings = [{\n    eventName: 'mousedown',\n    fn: cancel\n  }, {\n    eventName: 'mouseup',\n    fn: cancel\n  }, {\n    eventName: 'click',\n    fn: cancel\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'wheel',\n    fn: cancel,\n    options: {\n      passive: true\n    }\n  }, {\n    eventName: 'scroll',\n    options: {\n      capture: false\n    },\n    fn: function fn(event) {\n      if (event.currentTarget !== getWindow()) {\n        return;\n      }\n\n      callbacks.onWindowScroll();\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var sensor = {\n    onKeyDown: onKeyDown,\n    kill: kill,\n    isDragging: isDragging,\n    isCapturing: isDragging,\n    unmount: kill\n  };\n  return sensor;\n});\n\nvar timeForLongPress = 150;\nvar forcePressThreshold = 0.15;\nvar touchStartMarshal = createEventMarshal();\n\nvar noop$2 = function noop() {};\n\nvar webkitHack = function () {\n  var stub = {\n    preventTouchMove: noop$2,\n    releaseTouchMove: noop$2\n  };\n\n  if (typeof window === 'undefined') {\n    return stub;\n  }\n\n  if (!('ontouchstart' in window)) {\n    return stub;\n  }\n\n  var isBlocking = false;\n  window.addEventListener('touchmove', function (event) {\n    if (!isBlocking) {\n      return;\n    }\n\n    if (event.defaultPrevented) {\n      return;\n    }\n\n    event.preventDefault();\n  }, {\n    passive: false,\n    capture: false\n  });\n\n  var preventTouchMove = function preventTouchMove() {\n    isBlocking = true;\n  };\n\n  var releaseTouchMove = function releaseTouchMove() {\n    isBlocking = false;\n  };\n\n  return {\n    preventTouchMove: preventTouchMove,\n    releaseTouchMove: releaseTouchMove\n  };\n}();\n\nvar initial = {\n  isDragging: false,\n  pending: null,\n  hasMoved: false,\n  longPressTimerId: null\n};\nvar createTouchSensor = (function (_ref) {\n  var callbacks = _ref.callbacks,\n      getWindow = _ref.getWindow,\n      canStartCapturing = _ref.canStartCapturing,\n      getShouldRespectForceTouch = _ref.getShouldRespectForceTouch;\n  var state = initial;\n\n  var setState = function setState(partial) {\n    state = _extends({}, state, partial);\n  };\n\n  var isDragging = function isDragging() {\n    return state.isDragging;\n  };\n\n  var isCapturing = function isCapturing() {\n    return Boolean(state.pending || state.isDragging || state.longPressTimerId);\n  };\n\n  var schedule = createScheduler(callbacks);\n  var postDragEventPreventer = createPostDragEventPreventer(getWindow);\n\n  var startDragging = function startDragging() {\n    var pending = state.pending;\n\n    if (!pending) {\n      stopPendingDrag();\n      process.env.NODE_ENV !== \"production\" ? invariant(false, 'cannot start a touch drag without a pending position') : invariant(false);\n    }\n\n    setState({\n      isDragging: true,\n      hasMoved: false,\n      pending: null,\n      longPressTimerId: null\n    });\n    callbacks.onLift({\n      clientSelection: pending,\n      movementMode: 'FLUID'\n    });\n  };\n\n  var stopDragging = function stopDragging(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    postDragEventPreventer.preventNext();\n    setState(initial);\n    fn();\n  };\n\n  var startPendingDrag = function startPendingDrag(event) {\n    var touch = event.touches[0];\n    var clientX = touch.clientX,\n        clientY = touch.clientY;\n    var point = {\n      x: clientX,\n      y: clientY\n    };\n    var longPressTimerId = setTimeout(startDragging, timeForLongPress);\n    setState({\n      longPressTimerId: longPressTimerId,\n      pending: point,\n      isDragging: false,\n      hasMoved: false\n    });\n    bindWindowEvents();\n  };\n\n  var stopPendingDrag = function stopPendingDrag() {\n    if (state.longPressTimerId) {\n      clearTimeout(state.longPressTimerId);\n    }\n\n    schedule.cancel();\n    touchStartMarshal.reset();\n    webkitHack.releaseTouchMove();\n    unbindWindowEvents();\n    setState(initial);\n  };\n\n  var kill = function kill(fn) {\n    if (fn === void 0) {\n      fn = noop$2;\n    }\n\n    if (state.pending) {\n      stopPendingDrag();\n      return;\n    }\n\n    if (state.isDragging) {\n      stopDragging(fn);\n    }\n  };\n\n  var unmount = function unmount() {\n    kill();\n    postDragEventPreventer.abort();\n  };\n\n  var cancel = function cancel() {\n    kill(callbacks.onCancel);\n  };\n\n  var windowBindings = [{\n    eventName: 'touchmove',\n    options: {\n      passive: false\n    },\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      if (!state.hasMoved) {\n        setState({\n          hasMoved: true\n        });\n      }\n\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n      var point = {\n        x: clientX,\n        y: clientY\n      };\n      event.preventDefault();\n      schedule.move(point);\n    }\n  }, {\n    eventName: 'touchend',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onDrop);\n    }\n  }, {\n    eventName: 'touchcancel',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        stopPendingDrag();\n        return;\n      }\n\n      event.preventDefault();\n      stopDragging(callbacks.onCancel);\n    }\n  }, {\n    eventName: 'touchstart',\n    fn: cancel\n  }, {\n    eventName: 'orientationchange',\n    fn: cancel\n  }, {\n    eventName: 'resize',\n    fn: cancel\n  }, {\n    eventName: 'scroll',\n    options: {\n      passive: true,\n      capture: false\n    },\n    fn: function fn() {\n      if (state.pending) {\n        stopPendingDrag();\n        return;\n      }\n\n      schedule.windowScrollMove();\n    }\n  }, {\n    eventName: 'contextmenu',\n    fn: function fn(event) {\n      event.preventDefault();\n    }\n  }, {\n    eventName: 'keydown',\n    fn: function fn(event) {\n      if (!state.isDragging) {\n        cancel();\n        return;\n      }\n\n      if (event.keyCode === escape) {\n        event.preventDefault();\n      }\n\n      cancel();\n    }\n  }, {\n    eventName: 'touchforcechange',\n    fn: function fn(event) {\n      if (!state.isDragging && !state.pending) {\n        return;\n      }\n\n      if (state.hasMoved) {\n        event.preventDefault();\n        return;\n      }\n\n      if (!getShouldRespectForceTouch()) {\n        event.preventDefault();\n        return;\n      }\n\n      var touch = event.touches[0];\n\n      if (touch.force >= forcePressThreshold) {\n        cancel();\n      }\n    }\n  }, {\n    eventName: supportedEventName,\n    fn: cancel\n  }];\n\n  var bindWindowEvents = function bindWindowEvents() {\n    bindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var unbindWindowEvents = function unbindWindowEvents() {\n    unbindEvents(getWindow(), windowBindings, {\n      capture: true\n    });\n  };\n\n  var onTouchStart = function onTouchStart(event) {\n    if (touchStartMarshal.isHandled()) {\n      return;\n    }\n\n    !!isCapturing() ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Should not be able to perform a touch start while a drag or pending drag is occurring') : invariant(false) : void 0;\n\n    if (!canStartCapturing(event)) {\n      return;\n    }\n\n    touchStartMarshal.handle();\n    webkitHack.preventTouchMove();\n    startPendingDrag(event);\n  };\n\n  var sensor = {\n    onTouchStart: onTouchStart,\n    kill: kill,\n    isCapturing: isCapturing,\n    isDragging: isDragging,\n    unmount: unmount\n  };\n  return sensor;\n});\n\nvar _DragHandle$contextTy;\n\nvar preventHtml5Dnd = function preventHtml5Dnd(event) {\n  event.preventDefault();\n};\n\nvar DragHandle = function (_Component) {\n  _inheritsLoose(DragHandle, _Component);\n\n  function DragHandle(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this;\n    _this.mouseSensor = void 0;\n    _this.keyboardSensor = void 0;\n    _this.touchSensor = void 0;\n    _this.sensors = void 0;\n    _this.styleContext = void 0;\n    _this.canLift = void 0;\n    _this.isFocused = false;\n    _this.lastDraggableRef = void 0;\n\n    _this.onFocus = function () {\n      _this.isFocused = true;\n    };\n\n    _this.onBlur = function () {\n      _this.isFocused = false;\n    };\n\n    _this.onKeyDown = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.touchSensor.isCapturing()) {\n        return;\n      }\n\n      _this.keyboardSensor.onKeyDown(event);\n    };\n\n    _this.onMouseDown = function (event) {\n      if (_this.keyboardSensor.isCapturing() || _this.mouseSensor.isCapturing()) {\n        return;\n      }\n\n      _this.mouseSensor.onMouseDown(event);\n    };\n\n    _this.onTouchStart = function (event) {\n      if (_this.mouseSensor.isCapturing() || _this.keyboardSensor.isCapturing()) {\n        return;\n      }\n\n      _this.touchSensor.onTouchStart(event);\n    };\n\n    _this.canStartCapturing = function (event) {\n      if (_this.isAnySensorCapturing()) {\n        return false;\n      }\n\n      if (!_this.canLift(_this.props.draggableId)) {\n        return false;\n      }\n\n      return shouldAllowDraggingFromTarget(event, _this.props);\n    };\n\n    _this.isAnySensorCapturing = function () {\n      return _this.sensors.some(function (sensor) {\n        return sensor.isCapturing();\n      });\n    };\n\n    _this.getProvided = memoizeOne(function (isEnabled) {\n      if (!isEnabled) {\n        return null;\n      }\n\n      var provided = {\n        onMouseDown: _this.onMouseDown,\n        onKeyDown: _this.onKeyDown,\n        onTouchStart: _this.onTouchStart,\n        onFocus: _this.onFocus,\n        onBlur: _this.onBlur,\n        tabIndex: 0,\n        'data-react-beautiful-dnd-drag-handle': _this.styleContext,\n        'aria-roledescription': 'Draggable item. Press space bar to lift',\n        draggable: false,\n        onDragStart: preventHtml5Dnd\n      };\n      return provided;\n    });\n\n    var getWindow = function getWindow() {\n      return getWindowFromEl(_this.props.getDraggableRef());\n    };\n\n    var args = {\n      callbacks: _this.props.callbacks,\n      getDraggableRef: _this.props.getDraggableRef,\n      getWindow: getWindow,\n      canStartCapturing: _this.canStartCapturing,\n      getShouldRespectForceTouch: _this.props.getShouldRespectForceTouch\n    };\n    _this.mouseSensor = createMouseSensor(args);\n    _this.keyboardSensor = createKeyboardSensor(args);\n    _this.touchSensor = createTouchSensor(args);\n    _this.sensors = [_this.mouseSensor, _this.keyboardSensor, _this.touchSensor];\n    _this.styleContext = context[styleKey];\n    _this.canLift = context[canLiftKey];\n    return _this;\n  }\n\n  var _proto = DragHandle.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var draggableRef = this.props.getDraggableRef();\n    this.lastDraggableRef = draggableRef;\n    !draggableRef ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot get draggable ref from drag handle') : invariant(false) : void 0;\n\n    if (!this.props.isEnabled) {\n      return;\n    }\n\n    var dragHandleRef = getDragHandleRef(draggableRef);\n    retainer.tryRestoreFocus(this.props.draggableId, dragHandleRef);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _this2 = this;\n\n    var ref = this.props.getDraggableRef();\n\n    if (ref !== this.lastDraggableRef) {\n      this.lastDraggableRef = ref;\n\n      if (ref && this.isFocused && this.props.isEnabled) {\n        getDragHandleRef(ref).focus();\n      }\n    }\n\n    var isCapturing = this.isAnySensorCapturing();\n\n    if (!isCapturing) {\n      return;\n    }\n\n    var isBeingDisabled = prevProps.isEnabled && !this.props.isEnabled;\n\n    if (isBeingDisabled) {\n      this.sensors.forEach(function (sensor) {\n        if (!sensor.isCapturing()) {\n          return;\n        }\n\n        var wasDragging = sensor.isDragging();\n        sensor.kill();\n\n        if (wasDragging) {\n          process.env.NODE_ENV !== \"production\" ? warning('You have disabled dragging on a Draggable while it was dragging. The drag has been cancelled') : void 0;\n\n          _this2.props.callbacks.onCancel();\n        }\n      });\n    }\n\n    var isDragAborted = prevProps.isDragging && !this.props.isDragging;\n\n    if (isDragAborted) {\n      this.sensors.forEach(function (sensor) {\n        if (sensor.isCapturing()) {\n          sensor.kill();\n        }\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this3 = this;\n\n    this.sensors.forEach(function (sensor) {\n      var wasDragging = sensor.isDragging();\n      sensor.unmount();\n\n      if (wasDragging) {\n        _this3.props.callbacks.onCancel();\n      }\n    });\n\n    var shouldRetainFocus = function () {\n      if (!_this3.props.isEnabled) {\n        return false;\n      }\n\n      if (!_this3.isFocused) {\n        return false;\n      }\n\n      return _this3.props.isDragging || _this3.props.isDropAnimating;\n    }();\n\n    if (shouldRetainFocus) {\n      retainer.retain(this.props.draggableId);\n    }\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        children = _this$props.children,\n        isEnabled = _this$props.isEnabled;\n    return children(this.getProvided(isEnabled));\n  };\n\n  return DragHandle;\n}(Component);\n\nDragHandle.contextTypes = (_DragHandle$contextTy = {}, _DragHandle$contextTy[styleKey] = PropTypes.string.isRequired, _DragHandle$contextTy[canLiftKey] = PropTypes.func.isRequired, _DragHandle$contextTy);\n\nvar zIndexOptions = {\n  dragging: 5000,\n  dropAnimating: 4500\n};\n\nvar getDraggingTransition = function getDraggingTransition(shouldAnimateDragMovement, dropping) {\n  if (dropping) {\n    return transitions.drop(dropping.duration);\n  }\n\n  if (shouldAnimateDragMovement) {\n    return transitions.snap;\n  }\n\n  return transitions.fluid;\n};\n\nvar getDraggingOpacity = function getDraggingOpacity(isCombining, isDropAnimating) {\n  if (!isCombining) {\n    return null;\n  }\n\n  return isDropAnimating ? combine.opacity.drop : combine.opacity.combining;\n};\n\nvar getShouldDraggingAnimate = function getShouldDraggingAnimate(dragging) {\n  if (dragging.forceShouldAnimate != null) {\n    return dragging.forceShouldAnimate;\n  }\n\n  return dragging.mode === 'SNAP';\n};\n\nfunction getDraggingStyle(dragging) {\n  var dimension = dragging.dimension;\n  var box = dimension.client;\n  var offset = dragging.offset,\n      combineWith = dragging.combineWith,\n      dropping = dragging.dropping;\n  var isCombining = Boolean(combineWith);\n  var shouldAnimate = getShouldDraggingAnimate(dragging);\n  var isDropAnimating = Boolean(dropping);\n  var transform = isDropAnimating ? transforms.drop(offset, isCombining) : transforms.moveTo(offset);\n  var style = {\n    position: 'fixed',\n    top: box.marginBox.top,\n    left: box.marginBox.left,\n    boxSizing: 'border-box',\n    width: box.borderBox.width,\n    height: box.borderBox.height,\n    transition: getDraggingTransition(shouldAnimate, dropping),\n    transform: transform,\n    opacity: getDraggingOpacity(isCombining, isDropAnimating),\n    zIndex: isDropAnimating ? zIndexOptions.dropAnimating : zIndexOptions.dragging,\n    pointerEvents: 'none'\n  };\n  return style;\n}\n\nfunction getSecondaryStyle(secondary) {\n  return {\n    transform: transforms.moveTo(secondary.offset),\n    transition: secondary.shouldAnimateDisplacement ? null : 'none'\n  };\n}\n\nfunction getStyle(mapped) {\n  return mapped.type === 'DRAGGING' ? getDraggingStyle(mapped) : getSecondaryStyle(mapped);\n}\n\nvar checkOwnProps$1 = (function (props) {\n  !_Number$isInteger(props.index) ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires an integer index prop') : invariant(false) : void 0;\n  !props.draggableId ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Draggable requires a draggableId') : invariant(false) : void 0;\n  !(typeof props.isDragDisabled === 'boolean') ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'isDragDisabled must be a boolean') : invariant(false) : void 0;\n});\n\nvar _Draggable$contextTyp;\n\nvar Draggable = function (_React$Component) {\n  _inheritsLoose(Draggable, _React$Component);\n\n  function Draggable(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    _this.callbacks = void 0;\n    _this.styleContext = void 0;\n    _this.ref = null;\n\n    _this.onMoveEnd = function (event) {\n      var mapped = _this.props.mapped;\n      var isDropping = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n\n      if (!isDropping) {\n        return;\n      }\n\n      if (event.propertyName !== 'transform') {\n        return;\n      }\n\n      _this.props.dropAnimationFinished();\n    };\n\n    _this.onLift = function (options) {\n      start('LIFT');\n      var ref = _this.ref;\n      !ref ? process.env.NODE_ENV !== \"production\" ? invariant(false) : invariant(false) : void 0;\n      !!_this.props.isDragDisabled ? process.env.NODE_ENV !== \"production\" ? invariant(false, 'Cannot lift a Draggable when it is disabled') : invariant(false) : void 0;\n      var clientSelection = options.clientSelection,\n          movementMode = options.movementMode;\n      var _this$props = _this.props,\n          lift = _this$props.lift,\n          draggableId = _this$props.draggableId;\n      lift({\n        id: draggableId,\n        clientSelection: clientSelection,\n        movementMode: movementMode\n      });\n      finish('LIFT');\n    };\n\n    _this.setRef = function (ref) {\n      if (ref === null) {\n        return;\n      }\n\n      if (ref === _this.ref) {\n        return;\n      }\n\n      _this.ref = ref;\n      throwIfRefIsInvalid(ref);\n    };\n\n    _this.getDraggableRef = function () {\n      return _this.ref;\n    };\n\n    _this.getShouldRespectForceTouch = function () {\n      return _this.props.shouldRespectForceTouch;\n    };\n\n    _this.getProvided = memoizeOne(function (mapped, dragHandleProps) {\n      var style = getStyle(mapped);\n      var onTransitionEnd = mapped.type === 'DRAGGING' && Boolean(mapped.dropping) ? _this.onMoveEnd : null;\n      var result = {\n        innerRef: _this.setRef,\n        draggableProps: {\n          'data-react-beautiful-dnd-draggable': _this.styleContext,\n          style: style,\n          onTransitionEnd: onTransitionEnd\n        },\n        dragHandleProps: dragHandleProps\n      };\n      return result;\n    });\n\n    _this.renderChildren = function (dragHandleProps) {\n      var _this$props2 = _this.props,\n          children = _this$props2.children,\n          mapped = _this$props2.mapped;\n      return children(_this.getProvided(mapped, dragHandleProps), mapped.snapshot);\n    };\n\n    var callbacks = {\n      onLift: _this.onLift,\n      onMove: function onMove(clientSelection) {\n        return props.move({\n          client: clientSelection\n        });\n      },\n      onDrop: function onDrop() {\n        return props.drop({\n          reason: 'DROP'\n        });\n      },\n      onCancel: function onCancel() {\n        return props.drop({\n          reason: 'CANCEL'\n        });\n      },\n      onMoveUp: props.moveUp,\n      onMoveDown: props.moveDown,\n      onMoveRight: props.moveRight,\n      onMoveLeft: props.moveLeft,\n      onWindowScroll: function onWindowScroll() {\n        return props.moveByWindowScroll({\n          newScroll: getWindowScroll()\n        });\n      }\n    };\n    _this.callbacks = callbacks;\n    _this.styleContext = context[styleKey];\n\n    if (process.env.NODE_ENV !== 'production') {\n      checkOwnProps$1(props);\n    }\n\n    return _this;\n  }\n\n  var _proto = Draggable.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.ref = null;\n  };\n\n  _proto.render = function render() {\n    var _this$props3 = this.props,\n        draggableId = _this$props3.draggableId,\n        index = _this$props3.index,\n        mapped = _this$props3.mapped,\n        isDragDisabled = _this$props3.isDragDisabled,\n        disableInteractiveElementBlocking = _this$props3.disableInteractiveElementBlocking;\n    var droppableId = this.context[droppableIdKey];\n    var type = this.context[droppableTypeKey];\n    var isDragging = mapped.type === 'DRAGGING';\n    var isDropAnimating = mapped.type === 'DRAGGING' && Boolean(mapped.dropping);\n    return React.createElement(DraggableDimensionPublisher, {\n      key: draggableId,\n      draggableId: draggableId,\n      droppableId: droppableId,\n      type: type,\n      index: index,\n      getDraggableRef: this.getDraggableRef\n    }, React.createElement(DragHandle, {\n      draggableId: draggableId,\n      isDragging: isDragging,\n      isDropAnimating: isDropAnimating,\n      isEnabled: !isDragDisabled,\n      callbacks: this.callbacks,\n      getDraggableRef: this.getDraggableRef,\n      getShouldRespectForceTouch: this.getShouldRespectForceTouch,\n      canDragInteractiveElements: disableInteractiveElementBlocking\n    }, this.renderChildren));\n  };\n\n  return Draggable;\n}(React.Component);\n\nDraggable.contextTypes = (_Draggable$contextTyp = {}, _Draggable$contextTyp[droppableIdKey] = PropTypes.string.isRequired, _Draggable$contextTyp[droppableTypeKey] = PropTypes.string.isRequired, _Draggable$contextTyp[styleKey] = PropTypes.string.isRequired, _Draggable$contextTyp);\n\nvar getCombineWithFromResult = function getCombineWithFromResult(result) {\n  return result.combine ? result.combine.draggableId : null;\n};\n\nvar getCombineWithFromImpact = function getCombineWithFromImpact(impact) {\n  return impact.merge ? impact.merge.combine.draggableId : null;\n};\n\nvar makeMapStateToProps$1 = function makeMapStateToProps() {\n  var getDraggingSnapshot = memoizeOne(function (mode, draggingOver, combineWith, dropping) {\n    return {\n      isDragging: true,\n      isDropAnimating: Boolean(dropping),\n      dropAnimation: dropping,\n      mode: mode,\n      draggingOver: draggingOver,\n      combineWith: combineWith,\n      combineTargetFor: null\n    };\n  });\n  var getSecondarySnapshot = memoizeOne(function (combineTargetFor) {\n    return {\n      isDragging: false,\n      isDropAnimating: false,\n      dropAnimation: null,\n      mode: null,\n      draggingOver: null,\n      combineTargetFor: combineTargetFor,\n      combineWith: null\n    };\n  });\n  var defaultMapProps = {\n    mapped: {\n      type: 'SECONDARY',\n      offset: origin,\n      combineTargetFor: null,\n      shouldAnimateDisplacement: true,\n      snapshot: getSecondarySnapshot(null)\n    }\n  };\n  var memoizedOffset = memoizeOne(function (x, y) {\n    return {\n      x: x,\n      y: y\n    };\n  });\n  var getDraggingProps = memoizeOne(function (offset, mode, dimension, draggingOver, combineWith, forceShouldAnimate) {\n    return {\n      mapped: {\n        type: 'DRAGGING',\n        dropping: null,\n        draggingOver: draggingOver,\n        combineWith: combineWith,\n        mode: mode,\n        offset: offset,\n        dimension: dimension,\n        forceShouldAnimate: forceShouldAnimate,\n        snapshot: getDraggingSnapshot(mode, draggingOver, combineWith, null)\n      }\n    };\n  });\n  var getSecondaryProps = memoizeOne(function (offset, combineTargetFor, shouldAnimateDisplacement) {\n    if (combineTargetFor === void 0) {\n      combineTargetFor = null;\n    }\n\n    return {\n      mapped: {\n        type: 'SECONDARY',\n        offset: offset,\n        combineTargetFor: combineTargetFor,\n        shouldAnimateDisplacement: shouldAnimateDisplacement,\n        snapshot: getSecondarySnapshot(combineTargetFor)\n      }\n    };\n  });\n\n  var getSecondaryMovement = function getSecondaryMovement(ownId, draggingId, impact) {\n    var map = impact.movement.map;\n    var displacement = map[ownId];\n    var movement = impact.movement;\n    var merge = impact.merge;\n    var isCombinedWith = Boolean(merge && merge.combine.draggableId === ownId);\n    var displacedBy = movement.displacedBy.point;\n    var offset = memoizedOffset(displacedBy.x, displacedBy.y);\n\n    if (isCombinedWith) {\n      return getSecondaryProps(displacement ? offset : origin, draggingId, displacement ? displacement.shouldAnimate : true);\n    }\n\n    if (!displacement) {\n      return null;\n    }\n\n    if (!displacement.isVisible) {\n      return null;\n    }\n\n    return getSecondaryProps(offset, null, displacement.shouldAnimate);\n  };\n\n  var draggingSelector = function draggingSelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id !== ownProps.draggableId) {\n        return null;\n      }\n\n      var offset = state.current.client.offset;\n      var dimension = state.dimensions.draggables[ownProps.draggableId];\n      var mode = state.movementMode;\n      var draggingOver = whatIsDraggedOver(state.impact);\n      var combineWith = getCombineWithFromImpact(state.impact);\n      var forceShouldAnimate = state.forceShouldAnimate;\n      return getDraggingProps(memoizedOffset(offset.x, offset.y), mode, dimension, draggingOver, combineWith, forceShouldAnimate);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId !== ownProps.draggableId) {\n        return null;\n      }\n\n      var _dimension = state.dimensions.draggables[ownProps.draggableId];\n      var result = completed.result;\n      var _mode = result.mode;\n\n      var _draggingOver = whatIsDraggedOverFromResult(result);\n\n      var _combineWith = getCombineWithFromResult(result);\n\n      var duration = state.dropDuration;\n      var dropping = {\n        duration: duration,\n        curve: curves.drop,\n        moveTo: state.newHomeClientOffset,\n        opacity: _combineWith ? combine.opacity.drop : null,\n        scale: _combineWith ? combine.scale.drop : null\n      };\n      return {\n        mapped: {\n          type: 'DRAGGING',\n          offset: state.newHomeClientOffset,\n          dimension: _dimension,\n          dropping: dropping,\n          draggingOver: _draggingOver,\n          combineWith: _combineWith,\n          mode: _mode,\n          forceShouldAnimate: null,\n          snapshot: getDraggingSnapshot(_mode, _draggingOver, _combineWith, dropping)\n        }\n      };\n    }\n\n    return null;\n  };\n\n  var secondarySelector = function secondarySelector(state, ownProps) {\n    if (state.isDragging) {\n      if (state.critical.draggable.id === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, state.critical.draggable.id, state.impact);\n    }\n\n    if (state.phase === 'DROP_ANIMATING') {\n      var completed = state.completed;\n\n      if (completed.result.draggableId === ownProps.draggableId) {\n        return null;\n      }\n\n      return getSecondaryMovement(ownProps.draggableId, completed.result.draggableId, completed.impact);\n    }\n\n    return null;\n  };\n\n  var selector = function selector(state, ownProps) {\n    return draggingSelector(state, ownProps) || secondarySelector(state, ownProps) || defaultMapProps;\n  };\n\n  return selector;\n};\nvar mapDispatchToProps$1 = {\n  lift: lift,\n  move: move,\n  moveUp: moveUp,\n  moveDown: moveDown,\n  moveLeft: moveLeft,\n  moveRight: moveRight,\n  moveByWindowScroll: moveByWindowScroll,\n  drop: drop,\n  dropAnimationFinished: dropAnimationFinished\n};\nvar defaultProps$1 = {\n  isDragDisabled: false,\n  disableInteractiveElementBlocking: false,\n  shouldRespectForceTouch: true\n};\nvar ConnectedDraggable = connect(makeMapStateToProps$1, mapDispatchToProps$1, null, {\n  storeKey: storeKey,\n  pure: true,\n  areStatePropsEqual: isStrictEqual\n})(Draggable);\nConnectedDraggable.defaultProps = defaultProps$1;\n\nexport { DragDropContext, ConnectedDraggable as Draggable, ConnectedDroppable as Droppable, resetServerContext };\n"]},"metadata":{},"sourceType":"module"}